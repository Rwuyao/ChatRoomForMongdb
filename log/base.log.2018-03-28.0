2018-03-28 00:52:43,915 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 8164 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 00:52:43,923 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 00:52:44,131 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@24b5bc24: startup date [Wed Mar 28 00:52:44 CST 2018]; root of context hierarchy
2018-03-28 00:52:49,594 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$5cdc18fe] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:52:50,489 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:52:50,568 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:52:50,577 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:52:50,585 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$2b75b933] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:52:50,616 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$fcb73651] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:52:51,235 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 00:52:51,439 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:52:51,461 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:52:51,822 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:52:51,941 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:52:52,052 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:52:52,328 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:52:52,387 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#657d7ceb' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:52:52,391 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#657d7ceb' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:52:52,415 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#263112e' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:52:52,445 INFO (SLF4JLogger.java:76)- Exception in monitor thread while connecting to server localhost:27017
com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62)
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126)
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59)
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57)
	... 3 common frames omitted
2018-03-28 00:52:52,468 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#30b1378a' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:52:52,469 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#30b1378a' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:52:52,485 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#79dc5675' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:52:52,968 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:52:52,968 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy62] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:52:52,970 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:52:52,971 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:52:53,297 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:52:53,300 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache' does not yet exist.  Creating now.
2018-03-28 00:52:53,306 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache]
2018-03-28 00:52:53,325 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:52:53,378 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:52:54,299 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 00:52:55,106 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 00:52:55,230 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 00:52:55,231 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 00:52:55,295 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 00:52:55,296 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 00:52:55,350 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 00:52:55,666 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 00:52:55,667 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 11536 ms
2018-03-28 00:52:56,154 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 00:52:56,160 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 00:52:56,161 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 00:52:56,161 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 00:52:56,162 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 00:52:56,162 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 00:52:56,710 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 00:52:56,735 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 00:52:56,886 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 00:52:57,029 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 00:52:57,084 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 00:52:57,360 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 00:52:57,361 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 00:52:57,834 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@24b5bc24: startup date [Wed Mar 28 00:52:44 CST 2018]; root of context hierarchy
2018-03-28 00:52:57,983 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 00:52:57,985 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 00:52:57,986 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 00:52:57,988 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 00:52:57,989 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 00:52:57,990 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 00:52:57,991 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 00:52:57,992 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 00:52:58,004 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 00:52:58,006 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 00:52:58,110 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 00:52:58,111 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 00:52:58,256 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 00:52:58,431 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 00:52:58,909 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 00:52:59,053 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 00:52:59,086 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 00:52:59,087 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 00:52:59,087 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 00:52:59,088 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 00:52:59,101 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 00:52:59,241 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 00:52:59,292 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 00:52:59,296 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 18.779 seconds (JVM running for 24.523)
2018-03-28 00:53:57,081 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-28 00:54:19,630 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:9, serverValue:1}] to localhost:27017
2018-03-28 00:54:19,656 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=6795860}
2018-03-28 00:54:34,441 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 00:54:34,454 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-28 00:54:34,455 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-28 00:54:34,524 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 69 ms
2018-03-28 00:54:34,957 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:10, serverValue:2}] to localhost:27017
2018-03-28 00:54:36,533 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 00:54:36,545 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 00:54:36,557 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 00:54:36,565 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 00:54:36,567 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 00:55:13,948 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@24b5bc24: startup date [Wed Mar 28 00:52:44 CST 2018]; root of context hierarchy
2018-03-28 00:55:13,968 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 00:55:13,975 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 00:55:13,975 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 00:55:13,976 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 00:55:13,977 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 00:55:13,979 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 00:55:13,980 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 00:55:13,981 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 00:55:13,981 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 00:55:14,075 INFO (SLF4JLogger.java:71)- Closed connection [connectionId{localValue:10, serverValue:2}] to localhost:27017 because the pool has been closed.
2018-03-28 00:55:14,699 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 8164 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 00:55:14,700 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 00:55:14,704 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7cca1dc6: startup date [Wed Mar 28 00:55:14 CST 2018]; root of context hierarchy
2018-03-28 00:55:15,266 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$5cdc18fe] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:55:15,297 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:55:15,321 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:55:15,323 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:55:15,325 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$2b75b933] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:55:15,332 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$fcb73651] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:55:15,334 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 00:55:15,340 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:55:15,342 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:55:15,352 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:55:15,357 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:11, serverValue:3}] to localhost:27017
2018-03-28 00:55:15,360 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=973431}
2018-03-28 00:55:15,374 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:55:15,383 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:55:15,386 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:55:15,391 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5aeb0208' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:55:15,392 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5aeb0208' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:55:15,394 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#1794e7ea' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:55:15,397 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2cfaa9d0' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:55:15,398 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2cfaa9d0' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:55:15,400 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5a250ab9' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:55:15,429 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:55:15,430 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy85] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:55:15,431 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:55:15,432 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:55:15,440 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:55:15,441 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.1' does not yet exist.  Creating now.
2018-03-28 00:55:15,442 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.1]
2018-03-28 00:55:15,444 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:55:15,457 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 00:55:15,602 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 00:55:15,792 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 00:55:15,793 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 00:55:15,793 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 00:55:15,793 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 00:55:15,794 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 00:55:15,795 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 00:55:15,833 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 00:55:15,834 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 1130 ms
2018-03-28 00:55:15,924 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 00:55:15,925 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 00:55:15,927 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 00:55:15,928 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 00:55:15,928 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 00:55:15,929 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 00:55:16,228 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 00:55:16,257 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 00:55:16,308 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 00:55:16,336 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 00:55:16,365 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 00:55:16,465 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 00:55:16,466 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 00:55:16,576 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7cca1dc6: startup date [Wed Mar 28 00:55:14 CST 2018]; root of context hierarchy
2018-03-28 00:55:16,613 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 00:55:16,614 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 00:55:16,615 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 00:55:16,619 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 00:55:16,620 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 00:55:16,622 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 00:55:16,623 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 00:55:16,623 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 00:55:16,627 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 00:55:16,628 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 00:55:16,700 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 00:55:16,702 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 00:55:16,753 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 00:55:16,817 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 00:55:16,973 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 00:55:17,082 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 00:55:17,086 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 00:55:17,087 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 00:55:17,088 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 00:55:17,088 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 00:55:17,093 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 00:55:17,095 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 00:55:17,104 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 00:55:17,106 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 2.459 seconds (JVM running for 162.333)
2018-03-28 00:55:17,109 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 00:55:19,816 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 00:55:19,820 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-28 00:55:19,821 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-28 00:55:19,831 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 10 ms
2018-03-28 00:55:19,844 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:12, serverValue:4}] to localhost:27017
2018-03-28 00:55:26,343 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 00:55:27,017 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 00:55:38,937 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 00:55:44,369 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 00:56:16,364 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 8, active threads = 0, queued tasks = 0, completed tasks = 12], outboundChannelpool size = 2, active threads = 0, queued tasks = 0, completed tasks = 2], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 1, completed tasks = 8]
2018-03-28 19:24:04,259 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 19:24:04,290 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 19:24:04,595 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@69c0a1d2: startup date [Wed Mar 28 19:24:04 CST 2018]; root of context hierarchy
2018-03-28 19:24:10,128 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:24:10,830 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:24:10,890 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:24:10,911 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:24:10,921 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:24:10,988 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:24:11,578 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 19:24:11,807 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:24:11,856 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:24:12,006 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:1, serverValue:1}] to localhost:27017
2018-03-28 19:24:12,028 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=6286615}
2018-03-28 19:24:12,228 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:24:12,330 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:24:12,576 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:24:12,691 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:24:12,770 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5933c97f' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:24:12,772 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5933c97f' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:24:12,779 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2ea0bbe3' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:24:12,804 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#638b2b58' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:24:12,806 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#638b2b58' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:24:12,819 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7969d661' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:24:13,403 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:24:13,404 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy62] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:24:13,407 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:24:13,408 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:24:13,761 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:24:13,764 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache' does not yet exist.  Creating now.
2018-03-28 19:24:13,769 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache]
2018-03-28 19:24:13,797 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:24:13,849 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:24:14,717 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:24:15,447 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 19:24:15,570 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:24:15,571 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 19:24:15,644 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 19:24:15,644 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 19:24:15,698 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:24:16,006 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 19:24:16,007 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 11412 ms
2018-03-28 19:24:16,430 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 19:24:16,438 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 19:24:16,439 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 19:24:16,440 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 19:24:16,440 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 19:24:16,440 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 19:24:17,001 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 19:24:17,030 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 19:24:17,159 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 19:24:17,352 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 19:24:17,404 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 19:24:17,718 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 19:24:17,719 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 19:24:18,321 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@69c0a1d2: startup date [Wed Mar 28 19:24:04 CST 2018]; root of context hierarchy
2018-03-28 19:24:18,519 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 19:24:18,526 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 19:24:18,527 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 19:24:18,529 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 19:24:18,529 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 19:24:18,530 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 19:24:18,530 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 19:24:18,535 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 19:24:18,543 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 19:24:18,545 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 19:24:18,665 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 19:24:18,666 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 19:24:18,809 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 19:24:18,970 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 19:24:20,708 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 19:24:20,890 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 19:24:20,925 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 19:24:20,927 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 19:24:20,928 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 19:24:20,930 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 19:24:20,949 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 19:24:21,058 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 19:24:21,108 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 19:24:21,117 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 19.549 seconds (JVM running for 21.256)
2018-03-28 19:25:17,402 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-28 19:25:34,131 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:25:34,147 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-28 19:25:34,148 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-28 19:25:34,194 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 46 ms
2018-03-28 19:25:37,725 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:25:37,738 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:25:37,740 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:25:37,751 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:25:37,765 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:25:55,241 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:2, serverValue:2}] to localhost:27017
2018-03-28 19:26:12,857 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 19:29:51,081 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@69c0a1d2: startup date [Wed Mar 28 19:24:04 CST 2018]; root of context hierarchy
2018-03-28 19:29:51,084 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 19:29:51,088 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 19:29:51,091 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 19:29:51,092 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[1 destination(s)], registry[1 sessions]]]]
2018-03-28 19:29:51,093 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 19:29:51,095 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 19:29:51,098 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 19:29:51,099 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 19:29:51,101 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 19:29:51,102 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 19:29:51,200 INFO (SLF4JLogger.java:71)- Closed connection [connectionId{localValue:2, serverValue:2}] to localhost:27017 because the pool has been closed.
2018-03-28 19:29:51,978 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 19:29:51,979 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 19:29:51,984 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@341fc7a8: startup date [Wed Mar 28 19:29:51 CST 2018]; root of context hierarchy
2018-03-28 19:29:52,623 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:29:52,644 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:29:52,667 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:29:52,669 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:29:52,672 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:29:52,678 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:29:52,683 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 19:29:52,688 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:29:52,692 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:29:52,701 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:29:52,728 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:29:52,763 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:29:52,778 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:29:52,782 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:3, serverValue:3}] to localhost:27017
2018-03-28 19:29:52,785 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=861715}
2018-03-28 19:29:52,789 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5dd7883d' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:29:52,791 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5dd7883d' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:29:52,794 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#3f72c11d' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:29:52,796 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#15755a66' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:29:52,798 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#15755a66' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:29:52,802 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6948585' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:29:52,833 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:29:52,833 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy86] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:29:52,834 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:29:52,835 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:29:52,846 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:29:52,847 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.1' does not yet exist.  Creating now.
2018-03-28 19:29:52,848 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.1]
2018-03-28 19:29:52,850 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:29:52,863 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:29:53,002 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:29:53,231 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 19:29:53,233 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:29:53,234 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 19:29:53,234 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 19:29:53,235 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 19:29:53,237 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:29:53,307 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 19:29:53,307 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 1323 ms
2018-03-28 19:29:53,404 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 19:29:53,405 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 19:29:53,405 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 19:29:53,406 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 19:29:53,406 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 19:29:53,406 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 19:29:53,484 WARN (DirectJDKLog.java:180)- Cannot deserialize session attribute [org.apache.shiro.subject.support.DefaultSubjectContext_PRINCIPALS_SESSION_KEY] for session [B86D8AE579AC6318CAEB4429154A8990]
2018-03-28 19:29:53,758 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 19:29:53,801 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 19:29:53,850 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 19:29:53,870 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 19:29:53,902 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 19:29:54,015 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 19:29:54,016 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 19:29:54,194 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@341fc7a8: startup date [Wed Mar 28 19:29:51 CST 2018]; root of context hierarchy
2018-03-28 19:29:54,238 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 19:29:54,238 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 19:29:54,239 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 19:29:54,242 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 19:29:54,243 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 19:29:54,244 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 19:29:54,244 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 19:29:54,245 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 19:29:54,248 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 19:29:54,249 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 19:29:54,328 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 19:29:54,329 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 19:29:54,382 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 19:29:54,448 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 19:29:54,603 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 19:29:54,686 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 19:29:54,698 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 19:29:54,699 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 19:29:54,699 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 19:29:54,700 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 19:29:54,719 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 19:29:54,724 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 19:29:54,735 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 19:29:54,737 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 2.85 seconds (JVM running for 354.877)
2018-03-28 19:29:54,744 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 19:30:13,032 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:30:13,035 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-28 19:30:13,035 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-28 19:30:13,045 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 9 ms
2018-03-28 19:30:13,053 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:4, serverValue:4}] to localhost:27017
2018-03-28 19:30:14,177 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:30:29,553 ERROR (DirectJDKLog.java:182)- Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause
java.lang.NullPointerException: null
	at springboot.Facedetect.controller.homeController.chat(homeController.java:63)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:870)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:776)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:870)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:855)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61)
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108)
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137)
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66)
	at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449)
	at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365)
	at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90)
	at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83)
	at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:387)
	at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362)
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-03-28 19:30:35,841 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:30:47,816 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 19:30:53,902 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 8, active threads = 0, queued tasks = 0, completed tasks = 12], outboundChannelpool size = 2, active threads = 0, queued tasks = 0, completed tasks = 2], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 2, completed tasks = 2]
2018-03-28 19:32:37,006 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 19:32:37,420 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:33:55,870 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@341fc7a8: startup date [Wed Mar 28 19:29:51 CST 2018]; root of context hierarchy
2018-03-28 19:33:55,873 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 19:33:55,875 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 19:33:55,876 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 19:33:55,876 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 19:33:55,877 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 19:33:55,882 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 19:33:55,882 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 19:33:55,883 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 19:33:55,884 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 19:33:55,889 INFO (SLF4JLogger.java:71)- Closed connection [connectionId{localValue:4, serverValue:4}] to localhost:27017 because the pool has been closed.
2018-03-28 19:33:56,326 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 19:33:56,327 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 19:33:56,330 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7b8504a0: startup date [Wed Mar 28 19:33:56 CST 2018]; root of context hierarchy
2018-03-28 19:33:56,794 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:33:56,815 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:33:56,834 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:33:56,835 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:33:56,837 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:33:56,843 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:33:56,845 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 19:33:56,852 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:33:56,854 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:33:56,858 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:5, serverValue:5}] to localhost:27017
2018-03-28 19:33:56,861 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=754346}
2018-03-28 19:33:56,866 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:33:56,873 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:33:56,882 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:33:56,885 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:33:56,889 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5c8ac40e' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:33:56,890 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5c8ac40e' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:33:56,892 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#aacfdaa' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:33:56,894 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#53c50397' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:33:56,896 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#53c50397' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:33:56,899 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7350c0ce' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:33:56,935 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:33:56,935 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy88] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:33:56,937 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:33:56,938 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:33:56,945 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:33:56,947 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.2' does not yet exist.  Creating now.
2018-03-28 19:33:56,948 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.2]
2018-03-28 19:33:56,950 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:33:56,961 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:33:57,082 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:33:57,416 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 19:33:57,418 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:33:57,419 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 19:33:57,419 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 19:33:57,420 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 19:33:57,422 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:33:57,495 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 19:33:57,495 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 1166 ms
2018-03-28 19:33:57,588 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 19:33:57,590 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 19:33:57,591 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 19:33:57,591 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 19:33:57,592 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 19:33:57,592 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 19:33:57,787 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 19:33:57,822 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 19:33:57,889 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 19:33:57,917 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 19:33:57,945 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 19:33:58,044 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 19:33:58,044 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 19:33:58,150 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7b8504a0: startup date [Wed Mar 28 19:33:56 CST 2018]; root of context hierarchy
2018-03-28 19:33:58,175 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 19:33:58,175 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 19:33:58,177 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 19:33:58,178 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 19:33:58,179 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 19:33:58,180 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 19:33:58,180 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 19:33:58,181 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 19:33:58,184 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 19:33:58,185 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 19:33:58,244 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 19:33:58,245 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 19:33:58,293 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 19:33:58,344 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 19:33:58,490 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 19:33:58,584 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 19:33:58,588 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 19:33:58,589 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 19:33:58,589 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 19:33:58,590 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 19:33:58,596 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 19:33:58,599 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 19:33:58,605 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 19:33:58,606 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 2.311 seconds (JVM running for 598.746)
2018-03-28 19:33:58,610 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 19:34:16,323 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:34:16,326 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-28 19:34:16,327 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-28 19:34:16,336 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 9 ms
2018-03-28 19:34:16,430 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:34:16,434 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:34:23,077 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:6, serverValue:6}] to localhost:27017
2018-03-28 19:34:27,600 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 19:34:57,945 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 8, active threads = 0, queued tasks = 0, completed tasks = 12], outboundChannelpool size = 2, active threads = 0, queued tasks = 0, completed tasks = 2], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 2, completed tasks = 8]
2018-03-28 19:35:26,739 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 19:35:27,236 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:36:11,562 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7b8504a0: startup date [Wed Mar 28 19:33:56 CST 2018]; root of context hierarchy
2018-03-28 19:36:11,565 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 19:36:11,566 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 19:36:11,567 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 19:36:11,567 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 19:36:11,568 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 19:36:11,569 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 19:36:11,569 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 19:36:11,572 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 19:36:11,573 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 19:36:11,578 INFO (SLF4JLogger.java:71)- Closed connection [connectionId{localValue:6, serverValue:6}] to localhost:27017 because the pool has been closed.
2018-03-28 19:36:12,042 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 19:36:12,043 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 19:36:12,047 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5b406809: startup date [Wed Mar 28 19:36:12 CST 2018]; root of context hierarchy
2018-03-28 19:36:12,554 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:36:12,579 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:36:12,601 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:36:12,603 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:36:12,605 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:36:12,609 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:36:12,611 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 19:36:12,615 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:36:12,618 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:36:12,625 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:7, serverValue:7}] to localhost:27017
2018-03-28 19:36:12,629 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=808426}
2018-03-28 19:36:12,630 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:36:12,636 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:36:12,642 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:36:12,645 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:36:12,651 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2b3563b0' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:36:12,652 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2b3563b0' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:36:12,653 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5338f66e' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:36:12,657 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#41249927' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:36:12,658 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#41249927' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:36:12,661 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#1a7c004d' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:36:12,685 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:36:12,686 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy90] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:36:12,688 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:36:12,689 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:36:12,698 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:36:12,699 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.3' does not yet exist.  Creating now.
2018-03-28 19:36:12,700 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.3]
2018-03-28 19:36:12,702 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:36:12,715 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:36:12,856 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:36:13,128 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 19:36:13,130 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:36:13,131 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 19:36:13,131 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 19:36:13,132 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 19:36:13,134 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:36:13,204 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 19:36:13,204 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 1157 ms
2018-03-28 19:36:13,297 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 19:36:13,298 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 19:36:13,299 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 19:36:13,299 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 19:36:13,300 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 19:36:13,300 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 19:36:13,451 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 19:36:13,469 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 19:36:13,502 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 19:36:13,525 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 19:36:13,545 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 19:36:13,648 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 19:36:13,649 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 19:36:13,754 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5b406809: startup date [Wed Mar 28 19:36:12 CST 2018]; root of context hierarchy
2018-03-28 19:36:13,792 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 19:36:13,793 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 19:36:13,794 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 19:36:13,795 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 19:36:13,796 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 19:36:13,797 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 19:36:13,797 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 19:36:13,798 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 19:36:13,801 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 19:36:13,802 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 19:36:13,867 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 19:36:13,868 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 19:36:13,933 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 19:36:13,983 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 19:36:14,107 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 19:36:14,172 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 19:36:14,176 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 19:36:14,176 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 19:36:14,177 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 19:36:14,177 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 19:36:14,182 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 19:36:14,184 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 19:36:14,189 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 19:36:14,190 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 2.184 seconds (JVM running for 734.329)
2018-03-28 19:36:14,194 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 19:36:16,523 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:36:16,525 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-28 19:36:16,526 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-28 19:36:16,534 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 8 ms
2018-03-28 19:36:22,202 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:36:22,212 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:8, serverValue:8}] to localhost:27017
2018-03-28 19:36:26,103 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 19:37:13,545 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 8, active threads = 0, queued tasks = 0, completed tasks = 12], outboundChannelpool size = 2, active threads = 0, queued tasks = 0, completed tasks = 2], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 2, completed tasks = 11]
2018-03-28 19:41:06,399 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5b406809: startup date [Wed Mar 28 19:36:12 CST 2018]; root of context hierarchy
2018-03-28 19:41:06,400 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 19:41:06,401 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 19:41:06,403 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 19:41:06,403 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[1 destination(s)], registry[1 sessions]]]]
2018-03-28 19:41:06,403 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 19:41:06,404 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 19:41:06,405 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 19:41:06,406 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 19:41:06,406 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 19:41:06,407 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 19:41:06,413 INFO (SLF4JLogger.java:71)- Closed connection [connectionId{localValue:8, serverValue:8}] to localhost:27017 because the pool has been closed.
2018-03-28 19:41:06,947 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 19:41:06,948 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 19:41:06,951 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@23206d38: startup date [Wed Mar 28 19:41:06 CST 2018]; root of context hierarchy
2018-03-28 19:41:07,611 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:41:07,652 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:41:07,683 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:41:07,684 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:41:07,685 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:41:07,689 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:41:07,690 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 19:41:07,695 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:41:07,696 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:41:07,702 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:9, serverValue:9}] to localhost:27017
2018-03-28 19:41:07,705 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=517503}
2018-03-28 19:41:07,706 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:41:07,711 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:41:07,721 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:41:07,724 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:41:07,727 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#1cd9c02a' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:41:07,728 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#1cd9c02a' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:41:07,729 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2500f143' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:41:07,731 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#bf940ca' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:41:07,732 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#bf940ca' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:41:07,732 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#29729dfc' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:41:07,755 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:41:07,756 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy92] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:41:07,757 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:41:07,757 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:41:07,763 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:41:07,764 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.4' does not yet exist.  Creating now.
2018-03-28 19:41:07,765 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.4]
2018-03-28 19:41:07,774 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:41:07,784 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:41:07,905 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:41:08,101 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 19:41:08,102 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:41:08,103 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 19:41:08,103 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 19:41:08,104 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 19:41:08,105 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:41:08,146 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 19:41:08,146 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 1195 ms
2018-03-28 19:41:08,211 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 19:41:08,211 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 19:41:08,211 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 19:41:08,212 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 19:41:08,212 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 19:41:08,212 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 19:41:08,218 WARN (DirectJDKLog.java:180)- Cannot deserialize session attribute [org.apache.shiro.subject.support.DefaultSubjectContext_PRINCIPALS_SESSION_KEY] for session [B20DE1EEF4C3A34D809F4DAF29C6B45A]
2018-03-28 19:41:08,359 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 19:41:08,380 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 19:41:08,414 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 19:41:08,437 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 19:41:08,458 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 19:41:08,544 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 19:41:08,545 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 19:41:08,635 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@23206d38: startup date [Wed Mar 28 19:41:06 CST 2018]; root of context hierarchy
2018-03-28 19:41:08,665 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 19:41:08,665 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 19:41:08,666 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 19:41:08,667 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 19:41:08,668 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 19:41:08,668 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 19:41:08,668 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 19:41:08,668 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 19:41:08,670 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 19:41:08,671 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 19:41:08,720 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 19:41:08,720 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 19:41:08,781 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 19:41:08,886 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 19:41:09,105 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 19:41:09,187 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 19:41:09,190 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 19:41:09,190 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 19:41:09,190 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 19:41:09,190 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 19:41:09,194 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 19:41:09,195 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 19:41:09,200 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 19:41:09,201 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 2.292 seconds (JVM running for 1029.341)
2018-03-28 19:41:09,204 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 19:42:08,458 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-28 19:42:16,326 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@23206d38: startup date [Wed Mar 28 19:41:06 CST 2018]; root of context hierarchy
2018-03-28 19:42:16,327 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 19:42:16,327 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 19:42:16,327 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 19:42:16,327 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 19:42:16,328 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 19:42:16,328 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 19:42:16,328 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 19:42:16,329 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 19:42:16,329 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 19:42:16,864 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 19:42:16,865 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 19:42:16,867 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@57373ff1: startup date [Wed Mar 28 19:42:16 CST 2018]; root of context hierarchy
2018-03-28 19:42:17,349 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:42:17,371 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:42:17,393 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:42:17,395 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:42:17,396 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:42:17,403 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:42:17,405 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 19:42:17,410 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:42:17,412 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:42:17,416 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:42:17,420 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:10, serverValue:10}] to localhost:27017
2018-03-28 19:42:17,423 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=758293}
2018-03-28 19:42:17,425 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:42:17,430 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:42:17,432 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:42:17,436 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#572c30d2' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:42:17,437 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#572c30d2' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:42:17,438 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7319f98f' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:42:17,440 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#127e9b35' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:42:17,441 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#127e9b35' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:42:17,442 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4ea07396' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:42:17,470 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:42:17,471 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy94] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:42:17,473 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:42:17,474 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:42:17,481 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:42:17,482 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.5' does not yet exist.  Creating now.
2018-03-28 19:42:17,483 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.5]
2018-03-28 19:42:17,484 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:42:17,494 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:42:17,584 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:42:17,800 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 19:42:17,801 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:42:17,803 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 19:42:17,803 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 19:42:17,804 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 19:42:17,805 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:42:17,837 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 19:42:17,837 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 970 ms
2018-03-28 19:42:17,888 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 19:42:17,889 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 19:42:17,889 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 19:42:17,889 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 19:42:17,889 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 19:42:17,889 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 19:42:18,009 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 19:42:18,026 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 19:42:18,056 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 19:42:18,069 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 19:42:18,084 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 19:42:18,148 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 19:42:18,148 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 19:42:18,214 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@57373ff1: startup date [Wed Mar 28 19:42:16 CST 2018]; root of context hierarchy
2018-03-28 19:42:18,236 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 19:42:18,236 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 19:42:18,236 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 19:42:18,237 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 19:42:18,237 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 19:42:18,237 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 19:42:18,238 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 19:42:18,238 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 19:42:18,241 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 19:42:18,241 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 19:42:18,284 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 19:42:18,285 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 19:42:18,329 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 19:42:18,361 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 19:42:18,454 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 19:42:18,506 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 19:42:18,509 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 19:42:18,509 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 19:42:18,509 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 19:42:18,509 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 19:42:18,511 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 19:42:18,512 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 19:42:18,516 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 19:42:18,517 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.682 seconds (JVM running for 1098.656)
2018-03-28 19:42:18,518 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 19:42:24,113 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:42:24,117 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-28 19:42:24,118 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-28 19:42:24,123 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 5 ms
2018-03-28 19:42:24,604 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:42:24,607 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:42:24,619 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:42:24,622 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:42:31,089 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:11, serverValue:11}] to localhost:27017
2018-03-28 19:42:42,420 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 19:43:18,084 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 8, active threads = 0, queued tasks = 0, completed tasks = 12], outboundChannelpool size = 2, active threads = 0, queued tasks = 0, completed tasks = 2], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 2, completed tasks = 9]
2018-03-28 19:43:42,539 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@57373ff1: startup date [Wed Mar 28 19:42:16 CST 2018]; root of context hierarchy
2018-03-28 19:43:42,541 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 19:43:42,542 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 19:43:42,544 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 19:43:42,544 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[1 destination(s)], registry[1 sessions]]]]
2018-03-28 19:43:42,544 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 19:43:42,545 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 19:43:42,545 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 19:43:42,546 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 19:43:42,546 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 19:43:42,546 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 19:43:42,552 INFO (SLF4JLogger.java:71)- Closed connection [connectionId{localValue:11, serverValue:11}] to localhost:27017 because the pool has been closed.
2018-03-28 19:43:42,951 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 19:43:42,952 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 19:43:42,953 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1a8d19aa: startup date [Wed Mar 28 19:43:42 CST 2018]; root of context hierarchy
2018-03-28 19:43:43,391 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:43:43,410 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:43:43,431 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:43:43,432 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:43:43,434 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:43:43,440 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:43:43,442 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 19:43:43,447 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:43:43,448 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:43:43,454 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:43:43,458 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:12, serverValue:12}] to localhost:27017
2018-03-28 19:43:43,462 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=750399}
2018-03-28 19:43:43,464 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:43:43,469 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:43:43,471 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:43:43,475 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6524c41' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:43:43,476 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6524c41' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:43:43,478 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#3ad6bc20' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:43:43,480 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#701ce598' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:43:43,481 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#701ce598' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:43:43,481 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5c78a276' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:43:43,511 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:43:43,512 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy96] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:43:43,513 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:43:43,513 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:43:43,520 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:43:43,522 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.6' does not yet exist.  Creating now.
2018-03-28 19:43:43,523 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.6]
2018-03-28 19:43:43,525 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:43:43,536 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:43:43,676 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:43:43,937 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 19:43:43,942 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:43:43,944 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 19:43:43,952 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 19:43:43,953 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 19:43:43,955 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:43:44,178 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 19:43:44,179 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 1226 ms
2018-03-28 19:43:44,279 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 19:43:44,280 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 19:43:44,280 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 19:43:44,282 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 19:43:44,282 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 19:43:44,283 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 19:43:44,293 WARN (DirectJDKLog.java:180)- Cannot deserialize session attribute [org.apache.shiro.subject.support.DefaultSubjectContext_PRINCIPALS_SESSION_KEY] for session [F921D898FC14449143CE8BE2A1E31BF8]
2018-03-28 19:43:44,447 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 19:43:44,464 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 19:43:44,491 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 19:43:44,505 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 19:43:44,521 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 19:43:44,581 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 19:43:44,581 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 19:43:44,643 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1a8d19aa: startup date [Wed Mar 28 19:43:42 CST 2018]; root of context hierarchy
2018-03-28 19:43:44,691 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 19:43:44,692 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 19:43:44,693 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 19:43:44,694 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 19:43:44,694 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 19:43:44,695 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 19:43:44,695 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 19:43:44,695 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 19:43:44,699 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 19:43:44,699 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 19:43:44,773 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 19:43:44,774 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 19:43:44,828 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 19:43:44,898 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 19:43:44,999 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 19:43:45,055 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 19:43:45,059 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 19:43:45,060 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 19:43:45,061 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 19:43:45,061 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 19:43:45,064 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 19:43:45,067 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 19:43:45,072 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 19:43:45,073 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 2.15 seconds (JVM running for 1185.212)
2018-03-28 19:43:45,075 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 19:44:44,520 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-28 19:49:44,888 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1a8d19aa: startup date [Wed Mar 28 19:43:42 CST 2018]; root of context hierarchy
2018-03-28 19:49:44,890 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 19:49:44,890 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 19:49:44,891 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 19:49:44,891 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 19:49:44,891 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 19:49:44,892 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 19:49:44,892 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 19:49:44,893 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 19:49:44,894 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 19:49:45,353 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 19:49:45,354 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 19:49:45,357 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2d4fd738: startup date [Wed Mar 28 19:49:45 CST 2018]; root of context hierarchy
2018-03-28 19:49:45,715 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:49:45,733 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:49:45,755 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:49:45,756 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:49:45,757 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:49:45,762 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:49:45,763 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 19:49:45,768 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:49:45,770 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:49:45,773 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:13, serverValue:13}] to localhost:27017
2018-03-28 19:49:45,776 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=625266}
2018-03-28 19:49:45,778 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:49:45,782 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:49:45,788 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:49:45,792 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:49:45,795 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#58f2550f' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:49:45,796 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#58f2550f' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:49:45,798 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#41cda9e3' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:49:45,799 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6c072224' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:49:45,800 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6c072224' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:49:45,801 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#20ba0d5' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:49:45,826 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:49:45,826 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy98] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:49:45,828 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:49:45,829 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:49:45,836 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:49:45,837 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.7' does not yet exist.  Creating now.
2018-03-28 19:49:45,838 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.7]
2018-03-28 19:49:45,839 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:49:45,849 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:49:45,953 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:49:46,162 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 19:49:46,163 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:49:46,163 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 19:49:46,163 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 19:49:46,163 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 19:49:46,164 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:49:46,198 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 19:49:46,199 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 842 ms
2018-03-28 19:49:46,253 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 19:49:46,253 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 19:49:46,254 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 19:49:46,254 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 19:49:46,254 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 19:49:46,254 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 19:49:46,358 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 19:49:46,374 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 19:49:46,400 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 19:49:46,413 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 19:49:46,428 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 19:49:46,493 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 19:49:46,494 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 19:49:46,567 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2d4fd738: startup date [Wed Mar 28 19:49:45 CST 2018]; root of context hierarchy
2018-03-28 19:49:46,606 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 19:49:46,606 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 19:49:46,607 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 19:49:46,607 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 19:49:46,608 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 19:49:46,608 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 19:49:46,608 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 19:49:46,608 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 19:49:46,612 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 19:49:46,612 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 19:49:46,657 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 19:49:46,658 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 19:49:46,694 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 19:49:46,726 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 19:49:46,814 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 19:49:46,867 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 19:49:46,869 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 19:49:46,870 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 19:49:46,870 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 19:49:46,871 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 19:49:46,874 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 19:49:46,875 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 19:49:46,880 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 19:49:46,882 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.563 seconds (JVM running for 1547.021)
2018-03-28 19:49:46,884 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 19:50:00,940 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:50:00,944 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-28 19:50:00,945 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-28 19:50:00,955 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 10 ms
2018-03-28 19:50:01,550 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:50:01,552 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:50:01,553 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:50:01,554 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:50:10,550 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:14, serverValue:14}] to localhost:27017
2018-03-28 19:50:46,428 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-28 19:52:23,247 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2d4fd738: startup date [Wed Mar 28 19:49:45 CST 2018]; root of context hierarchy
2018-03-28 19:52:23,248 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 19:52:23,248 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 19:52:23,249 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 19:52:23,249 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 19:52:23,249 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 19:52:23,250 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 19:52:23,250 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 19:52:23,250 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 19:52:23,251 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 19:52:23,252 INFO (SLF4JLogger.java:71)- Closed connection [connectionId{localValue:14, serverValue:14}] to localhost:27017 because the pool has been closed.
2018-03-28 19:52:23,724 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 19:52:23,725 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 19:52:23,726 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@78f81431: startup date [Wed Mar 28 19:52:23 CST 2018]; root of context hierarchy
2018-03-28 19:52:24,035 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:52:24,058 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:52:24,079 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:52:24,080 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:52:24,080 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:52:24,084 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:52:24,085 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 19:52:24,089 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:52:24,090 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:52:24,093 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:15, serverValue:15}] to localhost:27017
2018-03-28 19:52:24,096 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=520266}
2018-03-28 19:52:24,097 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:52:24,101 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:52:24,104 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:52:24,106 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:52:24,108 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#14311904' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:52:24,109 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#14311904' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:52:24,111 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#72b2bd2' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:52:24,113 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#50d43f4' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:52:24,113 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#50d43f4' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:52:24,114 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5f94c8ff' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:52:24,139 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:52:24,141 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy100] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:52:24,142 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:52:24,143 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:52:24,148 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:52:24,148 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.8' does not yet exist.  Creating now.
2018-03-28 19:52:24,149 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.8]
2018-03-28 19:52:24,150 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:52:24,159 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:52:24,245 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:52:24,398 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 19:52:24,399 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:52:24,399 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 19:52:24,399 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 19:52:24,399 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 19:52:24,401 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:52:24,439 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 19:52:24,440 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 714 ms
2018-03-28 19:52:24,495 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 19:52:24,496 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 19:52:24,496 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 19:52:24,496 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 19:52:24,496 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 19:52:24,496 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 19:52:24,502 WARN (DirectJDKLog.java:180)- Cannot deserialize session attribute [org.apache.shiro.subject.support.DefaultSubjectContext_PRINCIPALS_SESSION_KEY] for session [95C89F3AB981736B645CE302957B8A20]
2018-03-28 19:52:24,661 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 19:52:24,681 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 19:52:24,715 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 19:52:24,730 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 19:52:24,747 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 19:52:24,826 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 19:52:24,827 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 19:52:24,907 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@78f81431: startup date [Wed Mar 28 19:52:23 CST 2018]; root of context hierarchy
2018-03-28 19:52:24,942 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 19:52:24,942 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 19:52:24,942 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 19:52:24,943 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 19:52:24,943 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 19:52:24,943 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 19:52:24,944 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 19:52:24,944 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 19:52:24,947 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 19:52:24,947 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 19:52:25,010 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 19:52:25,011 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 19:52:25,060 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 19:52:25,108 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 19:52:25,212 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 19:52:25,293 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 19:52:25,296 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 19:52:25,296 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 19:52:25,297 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 19:52:25,297 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 19:52:25,299 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 19:52:25,301 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 19:52:25,309 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 19:52:25,311 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.613 seconds (JVM running for 1705.45)
2018-03-28 19:52:25,313 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 19:52:39,269 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:52:39,273 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-28 19:52:39,274 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-28 19:52:39,282 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 8 ms
2018-03-28 19:52:40,973 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:52:52,536 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:16, serverValue:16}] to localhost:27017
2018-03-28 19:52:58,986 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 19:53:24,747 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 8, active threads = 0, queued tasks = 0, completed tasks = 12], outboundChannelpool size = 2, active threads = 0, queued tasks = 0, completed tasks = 2], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 2, completed tasks = 6]
2018-03-28 19:55:14,962 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@78f81431: startup date [Wed Mar 28 19:52:23 CST 2018]; root of context hierarchy
2018-03-28 19:55:14,964 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 19:55:14,965 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 19:55:14,966 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 19:55:14,966 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[1 destination(s)], registry[1 sessions]]]]
2018-03-28 19:55:14,967 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 19:55:14,967 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 19:55:14,967 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 19:55:14,967 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 19:55:14,968 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 19:55:14,968 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 19:55:14,974 INFO (SLF4JLogger.java:71)- Closed connection [connectionId{localValue:16, serverValue:16}] to localhost:27017 because the pool has been closed.
2018-03-28 19:55:15,467 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 19:55:15,468 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 19:55:15,470 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3748070a: startup date [Wed Mar 28 19:55:15 CST 2018]; root of context hierarchy
2018-03-28 19:55:15,836 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:55:15,854 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:55:15,869 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:55:15,870 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:55:15,871 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:55:15,874 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:55:15,875 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 19:55:15,878 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:55:15,880 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:55:15,882 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:17, serverValue:17}] to localhost:27017
2018-03-28 19:55:15,885 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=545529}
2018-03-28 19:55:15,886 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:55:15,890 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:55:15,894 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:55:15,896 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:55:15,899 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6ee71cbf' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:55:15,899 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6ee71cbf' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:55:15,900 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#41b11094' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:55:15,902 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2a66559d' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:55:15,902 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2a66559d' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:55:15,903 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6053205c' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:55:15,926 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:55:15,927 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy102] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:55:15,928 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:55:15,928 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:55:15,933 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:55:15,934 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.9' does not yet exist.  Creating now.
2018-03-28 19:55:15,935 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.9]
2018-03-28 19:55:15,935 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:55:15,944 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 19:55:16,120 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:55:16,296 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 19:55:16,297 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:55:16,298 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 19:55:16,298 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 19:55:16,298 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 19:55:16,299 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 19:55:16,349 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 19:55:16,349 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 879 ms
2018-03-28 19:55:16,406 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 19:55:16,407 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 19:55:16,407 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 19:55:16,407 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 19:55:16,407 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 19:55:16,407 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 19:55:16,412 WARN (DirectJDKLog.java:180)- Cannot deserialize session attribute [org.apache.shiro.subject.support.DefaultSubjectContext_PRINCIPALS_SESSION_KEY] for session [2DE03C4BCA24A019D8FDFDFF5CD467F5]
2018-03-28 19:55:16,529 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 19:55:16,548 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 19:55:16,581 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 19:55:16,596 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 19:55:16,614 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 19:55:16,679 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 19:55:16,680 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 19:55:16,816 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3748070a: startup date [Wed Mar 28 19:55:15 CST 2018]; root of context hierarchy
2018-03-28 19:55:16,874 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 19:55:16,875 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 19:55:16,875 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 19:55:16,876 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 19:55:16,878 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 19:55:16,879 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 19:55:16,879 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 19:55:16,879 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 19:55:16,882 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 19:55:16,883 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 19:55:16,969 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 19:55:16,970 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 19:55:17,022 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 19:55:17,079 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 19:55:17,180 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 19:55:17,248 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 19:55:17,252 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 19:55:17,253 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 19:55:17,254 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 19:55:17,254 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 19:55:17,257 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 19:55:17,260 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 19:55:17,265 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 19:55:17,266 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.859 seconds (JVM running for 1877.405)
2018-03-28 19:55:17,268 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 19:56:16,614 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-28 20:00:25,698 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3748070a: startup date [Wed Mar 28 19:55:15 CST 2018]; root of context hierarchy
2018-03-28 20:00:25,700 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 20:00:25,700 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 20:00:25,700 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:00:25,700 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 20:00:25,701 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 20:00:25,701 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 20:00:25,701 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 20:00:25,702 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 20:00:25,702 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 20:00:26,087 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 20:00:26,088 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 20:00:26,090 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@8fff870: startup date [Wed Mar 28 20:00:26 CST 2018]; root of context hierarchy
2018-03-28 20:00:26,376 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:00:26,395 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:00:26,408 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:00:26,409 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:00:26,410 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:00:26,413 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:00:26,413 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 20:00:26,416 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:00:26,417 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:00:26,420 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:18, serverValue:18}] to localhost:27017
2018-03-28 20:00:26,422 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=450002}
2018-03-28 20:00:26,422 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:00:26,426 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:00:26,431 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:00:26,432 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:00:26,434 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2ff192fa' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:00:26,435 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2ff192fa' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:00:26,435 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7646ffe0' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:00:26,436 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5b12f892' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:00:26,437 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5b12f892' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:00:26,437 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6128f089' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:00:26,451 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:00:26,451 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy104] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:00:26,452 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:00:26,452 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:00:26,456 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:00:26,457 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.10' does not yet exist.  Creating now.
2018-03-28 20:00:26,457 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.10]
2018-03-28 20:00:26,458 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:00:26,463 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:00:26,583 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:00:26,779 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 20:00:26,780 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:00:26,781 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 20:00:26,781 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 20:00:26,782 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 20:00:26,783 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:00:26,817 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 20:00:26,817 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 727 ms
2018-03-28 20:00:26,868 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 20:00:26,869 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 20:00:26,869 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 20:00:26,869 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 20:00:26,869 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 20:00:26,869 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 20:00:26,975 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 20:00:26,992 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 20:00:27,020 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 20:00:27,033 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 20:00:27,048 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 20:00:27,104 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 20:00:27,105 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 20:00:27,166 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@8fff870: startup date [Wed Mar 28 20:00:26 CST 2018]; root of context hierarchy
2018-03-28 20:00:27,190 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 20:00:27,191 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:00:27,191 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 20:00:27,191 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 20:00:27,191 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 20:00:27,192 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 20:00:27,192 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 20:00:27,192 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:00:27,194 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 20:00:27,195 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 20:00:27,252 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:00:27,252 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:00:27,319 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:00:27,363 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 20:00:27,463 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 20:00:27,513 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 20:00:27,515 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 20:00:27,515 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 20:00:27,516 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:00:27,516 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 20:00:27,518 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 20:00:27,520 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 20:00:27,524 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 20:00:27,525 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.466 seconds (JVM running for 2187.664)
2018-03-28 20:00:27,527 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 20:00:34,047 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:00:34,051 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-28 20:00:34,051 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-28 20:00:34,056 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 4 ms
2018-03-28 20:00:34,496 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:00:34,497 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:00:34,505 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:00:34,511 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:00:34,513 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:00:38,121 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:19, serverValue:19}] to localhost:27017
2018-03-28 20:01:22,954 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@8fff870: startup date [Wed Mar 28 20:00:26 CST 2018]; root of context hierarchy
2018-03-28 20:01:22,956 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 20:01:22,957 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 20:01:22,957 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:01:22,957 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 20:01:22,957 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 20:01:22,959 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 20:01:22,960 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 20:01:22,960 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 20:01:22,961 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 20:01:22,964 INFO (SLF4JLogger.java:71)- Closed connection [connectionId{localValue:19, serverValue:19}] to localhost:27017 because the pool has been closed.
2018-03-28 20:01:23,385 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 20:01:23,386 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 20:01:23,388 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1d847dd6: startup date [Wed Mar 28 20:01:23 CST 2018]; root of context hierarchy
2018-03-28 20:01:23,697 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:23,724 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:23,746 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:23,747 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:23,748 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:23,752 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:23,753 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 20:01:23,757 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:23,761 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:23,763 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:20, serverValue:20}] to localhost:27017
2018-03-28 20:01:23,766 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=669872}
2018-03-28 20:01:23,769 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:23,775 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:23,780 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:23,782 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:23,785 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#28257af7' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:23,787 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#28257af7' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:23,789 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6de637d9' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:23,790 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2044b46d' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:23,791 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2044b46d' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:23,792 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#43476282' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:23,830 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:23,831 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy106] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:23,831 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:23,832 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:23,840 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:23,841 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.11' does not yet exist.  Creating now.
2018-03-28 20:01:23,841 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.11]
2018-03-28 20:01:23,842 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:23,852 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:24,054 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:01:24,214 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 20:01:24,216 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:01:24,216 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 20:01:24,216 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 20:01:24,217 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 20:01:24,218 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:01:24,251 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 20:01:24,251 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 863 ms
2018-03-28 20:01:24,300 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 20:01:24,301 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 20:01:24,301 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 20:01:24,301 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 20:01:24,301 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 20:01:24,301 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 20:01:24,418 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 20:01:24,439 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 20:01:24,473 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 20:01:24,486 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 20:01:24,502 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 20:01:24,575 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 20:01:24,575 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 20:01:24,656 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1d847dd6: startup date [Wed Mar 28 20:01:23 CST 2018]; root of context hierarchy
2018-03-28 20:01:24,697 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 20:01:24,697 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:01:24,698 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 20:01:24,698 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 20:01:24,698 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 20:01:24,699 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 20:01:24,699 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 20:01:24,699 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:01:24,701 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 20:01:24,702 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 20:01:24,763 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:01:24,763 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:01:24,812 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:01:24,842 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 20:01:24,996 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 20:01:25,055 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 20:01:25,057 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 20:01:25,057 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 20:01:25,058 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:01:25,058 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 20:01:25,060 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 20:01:25,062 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 20:01:25,068 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 20:01:25,069 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.709 seconds (JVM running for 2245.208)
2018-03-28 20:01:25,071 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 20:01:58,057 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1d847dd6: startup date [Wed Mar 28 20:01:23 CST 2018]; root of context hierarchy
2018-03-28 20:01:58,058 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 20:01:58,059 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 20:01:58,059 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:01:58,060 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 20:01:58,060 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 20:01:58,060 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 20:01:58,060 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 20:01:58,061 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 20:01:58,061 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 20:01:58,455 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 20:01:58,456 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 20:01:58,458 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3717bccf: startup date [Wed Mar 28 20:01:58 CST 2018]; root of context hierarchy
2018-03-28 20:01:58,749 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:58,763 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:58,780 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:58,781 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:58,782 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:58,785 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:58,785 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 20:01:58,789 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:58,790 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:58,794 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:21, serverValue:21}] to localhost:27017
2018-03-28 20:01:58,796 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=566845}
2018-03-28 20:01:58,797 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:58,802 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:58,806 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:58,808 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:58,811 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#15540034' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:58,811 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#15540034' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:58,812 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2d401cb3' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:58,814 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7cae77e3' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:58,814 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7cae77e3' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:58,815 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6599805e' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:58,829 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:58,830 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy108] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:58,830 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:58,830 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:58,834 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:58,835 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.12' does not yet exist.  Creating now.
2018-03-28 20:01:58,836 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.12]
2018-03-28 20:01:58,836 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:58,842 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:01:59,314 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:01:59,650 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 20:01:59,721 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:01:59,721 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 20:01:59,721 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 20:01:59,721 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 20:01:59,722 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:01:59,766 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 20:01:59,766 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 1308 ms
2018-03-28 20:01:59,820 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 20:01:59,820 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 20:01:59,820 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 20:01:59,820 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 20:01:59,820 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 20:01:59,821 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 20:01:59,923 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 20:01:59,941 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 20:01:59,967 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 20:01:59,980 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 20:01:59,995 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 20:02:00,059 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 20:02:00,060 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 20:02:00,117 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3717bccf: startup date [Wed Mar 28 20:01:58 CST 2018]; root of context hierarchy
2018-03-28 20:02:00,140 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 20:02:00,140 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:02:00,141 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 20:02:00,141 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 20:02:00,141 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 20:02:00,142 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 20:02:00,142 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 20:02:00,142 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:02:00,145 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 20:02:00,145 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 20:02:00,182 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:02:00,182 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:02:00,225 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:02:00,264 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 20:02:00,351 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 20:02:00,402 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 20:02:00,415 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 20:02:00,415 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 20:02:00,415 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:02:00,416 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 20:02:00,424 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 20:02:00,425 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 20:02:00,429 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 20:02:00,432 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 2.007 seconds (JVM running for 2280.571)
2018-03-28 20:02:00,433 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 20:02:05,936 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:02:05,939 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-28 20:02:05,939 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-28 20:02:05,943 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 4 ms
2018-03-28 20:02:13,464 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:02:13,471 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:22, serverValue:22}] to localhost:27017
2018-03-28 20:02:18,357 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:02:18,862 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 20:02:59,995 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 8, active threads = 0, queued tasks = 0, completed tasks = 12], outboundChannelpool size = 2, active threads = 0, queued tasks = 0, completed tasks = 2], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 2, completed tasks = 10]
2018-03-28 20:07:08,912 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3717bccf: startup date [Wed Mar 28 20:01:58 CST 2018]; root of context hierarchy
2018-03-28 20:07:08,914 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 20:07:08,916 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 20:07:08,918 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 20:07:08,919 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:07:08,919 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 20:07:08,920 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 20:07:08,920 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 20:07:08,921 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 20:07:08,922 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 20:07:08,922 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 20:07:08,926 INFO (SLF4JLogger.java:71)- Closed connection [connectionId{localValue:22, serverValue:22}] to localhost:27017 because the pool has been closed.
2018-03-28 20:07:09,315 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 20:07:09,316 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 20:07:09,319 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3cb1508f: startup date [Wed Mar 28 20:07:09 CST 2018]; root of context hierarchy
2018-03-28 20:07:09,587 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:07:09,604 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:07:09,623 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:07:09,624 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:07:09,625 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:07:09,630 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:07:09,632 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 20:07:09,636 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:07:09,637 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:07:09,644 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:07:09,645 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:23, serverValue:23}] to localhost:27017
2018-03-28 20:07:09,648 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=655267}
2018-03-28 20:07:09,652 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:07:09,656 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:07:09,657 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:07:09,660 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#55acdf2a' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:07:09,661 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#55acdf2a' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:07:09,662 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7c160b45' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:07:09,663 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#61e6b910' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:07:09,663 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#61e6b910' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:07:09,664 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#65208fcd' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:07:09,686 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:07:09,687 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy110] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:07:09,687 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:07:09,688 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:07:09,694 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:07:09,696 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.13' does not yet exist.  Creating now.
2018-03-28 20:07:09,698 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.13]
2018-03-28 20:07:09,699 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:07:09,707 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:07:09,818 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:07:10,017 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 20:07:10,018 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:07:10,019 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 20:07:10,019 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 20:07:10,019 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 20:07:10,021 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:07:10,115 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 20:07:10,115 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 796 ms
2018-03-28 20:07:10,172 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 20:07:10,172 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 20:07:10,173 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 20:07:10,173 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 20:07:10,173 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 20:07:10,173 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 20:07:10,178 WARN (DirectJDKLog.java:180)- Cannot deserialize session attribute [org.apache.shiro.subject.support.DefaultSubjectContext_PRINCIPALS_SESSION_KEY] for session [CE48581646FCEF344BA71BBE270389B2]
2018-03-28 20:07:10,333 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 20:07:10,349 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 20:07:10,377 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 20:07:10,392 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 20:07:10,407 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 20:07:10,464 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 20:07:10,465 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 20:07:10,527 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3cb1508f: startup date [Wed Mar 28 20:07:09 CST 2018]; root of context hierarchy
2018-03-28 20:07:10,548 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 20:07:10,548 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:07:10,549 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 20:07:10,549 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 20:07:10,549 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 20:07:10,549 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 20:07:10,550 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 20:07:10,550 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:07:10,552 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 20:07:10,553 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 20:07:10,599 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:07:10,600 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:07:10,663 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:07:10,718 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 20:07:10,804 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 20:07:10,859 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 20:07:10,861 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 20:07:10,861 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 20:07:10,862 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:07:10,862 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 20:07:10,864 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 20:07:10,865 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 20:07:10,869 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 20:07:10,870 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.584 seconds (JVM running for 2591.009)
2018-03-28 20:07:10,872 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 20:08:10,408 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-28 20:09:37,085 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3cb1508f: startup date [Wed Mar 28 20:07:09 CST 2018]; root of context hierarchy
2018-03-28 20:09:37,086 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 20:09:37,086 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 20:09:37,086 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:09:37,087 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 20:09:37,087 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 20:09:37,087 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 20:09:37,088 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 20:09:37,088 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 20:09:37,089 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 20:09:37,433 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 20:09:37,434 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 20:09:37,436 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@41d60600: startup date [Wed Mar 28 20:09:37 CST 2018]; root of context hierarchy
2018-03-28 20:09:37,693 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:37,718 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:37,756 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:37,759 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:37,760 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:37,763 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:37,764 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 20:09:37,772 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:37,774 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:37,779 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:24, serverValue:24}] to localhost:27017
2018-03-28 20:09:37,784 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=925268}
2018-03-28 20:09:37,791 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:37,798 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:37,808 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:37,810 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:37,814 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#36b52754' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:37,815 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#36b52754' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:37,818 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#77ec2e2' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:37,822 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#1dc6ffe1' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:37,823 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#1dc6ffe1' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:37,824 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#245c659f' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:37,860 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:37,862 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy112] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:37,863 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:37,863 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:37,874 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:37,875 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.14' does not yet exist.  Creating now.
2018-03-28 20:09:37,876 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.14]
2018-03-28 20:09:37,877 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:37,888 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:38,032 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:09:38,194 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 20:09:38,195 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:09:38,195 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 20:09:38,196 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 20:09:38,196 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 20:09:38,198 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:09:38,230 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 20:09:38,230 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 794 ms
2018-03-28 20:09:38,297 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 20:09:38,298 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 20:09:38,298 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 20:09:38,298 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 20:09:38,298 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 20:09:38,298 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 20:09:38,436 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 20:09:38,453 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 20:09:38,481 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 20:09:38,494 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 20:09:38,509 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 20:09:38,563 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 20:09:38,563 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 20:09:38,614 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@41d60600: startup date [Wed Mar 28 20:09:37 CST 2018]; root of context hierarchy
2018-03-28 20:09:38,635 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 20:09:38,635 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:09:38,636 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 20:09:38,636 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 20:09:38,636 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 20:09:38,636 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 20:09:38,637 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 20:09:38,637 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:09:38,638 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 20:09:38,639 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 20:09:38,675 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:09:38,676 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:09:38,710 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:09:38,743 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 20:09:38,879 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 20:09:38,929 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 20:09:38,930 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 20:09:38,931 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 20:09:38,931 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:09:38,931 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 20:09:38,933 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 20:09:38,934 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 20:09:38,941 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 20:09:38,942 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.534 seconds (JVM running for 2739.082)
2018-03-28 20:09:38,945 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 20:09:44,414 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@41d60600: startup date [Wed Mar 28 20:09:37 CST 2018]; root of context hierarchy
2018-03-28 20:09:44,415 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 20:09:44,415 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 20:09:44,415 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:09:44,416 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 20:09:44,416 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 20:09:44,417 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 20:09:44,417 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 20:09:44,417 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 20:09:44,418 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 20:09:44,812 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 20:09:44,812 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 20:09:44,814 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2a8ee412: startup date [Wed Mar 28 20:09:44 CST 2018]; root of context hierarchy
2018-03-28 20:09:45,107 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:45,126 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:45,188 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:45,194 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:45,199 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:45,209 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:45,212 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 20:09:45,221 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:45,224 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:45,236 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:45,251 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:45,260 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:45,269 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:45,277 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#3e8778ce' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:45,284 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#3e8778ce' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:45,289 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#a8cc2ac' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:45,296 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#130a18fa' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:45,300 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#130a18fa' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:45,301 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6c8224da' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:45,310 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:25, serverValue:25}] to localhost:27017
2018-03-28 20:09:45,319 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=1257638}
2018-03-28 20:09:45,451 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:45,452 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy114] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:45,454 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:45,454 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:45,471 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:45,472 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.15' does not yet exist.  Creating now.
2018-03-28 20:09:45,473 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.15]
2018-03-28 20:09:45,474 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:45,488 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:09:45,606 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:09:45,739 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 20:09:45,740 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:09:45,740 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 20:09:45,741 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 20:09:45,741 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 20:09:45,742 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:09:45,774 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 20:09:45,774 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 960 ms
2018-03-28 20:09:45,859 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 20:09:45,861 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 20:09:45,862 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 20:09:45,862 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 20:09:45,862 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 20:09:45,862 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 20:09:46,034 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 20:09:46,054 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 20:09:46,088 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 20:09:46,128 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 20:09:46,173 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 20:09:46,312 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 20:09:46,312 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 20:09:46,394 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2a8ee412: startup date [Wed Mar 28 20:09:44 CST 2018]; root of context hierarchy
2018-03-28 20:09:46,415 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 20:09:46,416 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:09:46,416 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 20:09:46,416 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 20:09:46,416 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 20:09:46,417 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 20:09:46,417 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 20:09:46,417 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:09:46,418 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 20:09:46,419 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 20:09:46,457 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:09:46,458 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:09:46,497 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:09:46,531 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 20:09:46,629 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 20:09:46,679 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 20:09:46,681 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 20:09:46,681 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 20:09:46,681 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:09:46,681 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 20:09:46,683 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 20:09:46,685 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 20:09:46,688 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 20:09:46,689 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.918 seconds (JVM running for 2746.828)
2018-03-28 20:09:46,690 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 20:10:02,665 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:10:02,668 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-28 20:10:02,668 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-28 20:10:02,676 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 7 ms
2018-03-28 20:10:02,685 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:26, serverValue:26}] to localhost:27017
2018-03-28 20:10:03,397 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:10:03,400 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:10:03,401 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:10:03,407 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:10:46,172 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-28 20:12:52,638 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2a8ee412: startup date [Wed Mar 28 20:09:44 CST 2018]; root of context hierarchy
2018-03-28 20:12:52,640 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 20:12:52,642 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 20:12:52,642 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:12:52,642 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 20:12:52,643 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 20:12:52,643 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 20:12:52,643 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 20:12:52,644 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 20:12:52,644 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 20:12:52,647 INFO (SLF4JLogger.java:71)- Closed connection [connectionId{localValue:26, serverValue:26}] to localhost:27017 because the pool has been closed.
2018-03-28 20:12:53,161 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 20:12:53,162 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 20:12:53,164 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5d94aa64: startup date [Wed Mar 28 20:12:53 CST 2018]; root of context hierarchy
2018-03-28 20:12:53,505 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:12:53,520 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:12:53,537 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:12:53,538 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:12:53,539 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:12:53,542 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:12:53,543 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 20:12:53,547 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:12:53,548 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:12:53,550 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:27, serverValue:27}] to localhost:27017
2018-03-28 20:12:53,552 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=538424}
2018-03-28 20:12:53,553 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:12:53,558 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:12:53,561 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:12:53,562 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:12:53,565 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#557a7eaa' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:12:53,566 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#557a7eaa' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:12:53,567 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5bec2cf7' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:12:53,568 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2710dec4' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:12:53,569 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2710dec4' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:12:53,569 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#230dd81c' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:12:53,585 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:12:53,586 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy116] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:12:53,587 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:12:53,587 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:12:53,592 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:12:53,593 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.16' does not yet exist.  Creating now.
2018-03-28 20:12:53,594 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.16]
2018-03-28 20:12:53,595 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:12:53,600 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:12:53,696 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:12:53,857 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 20:12:53,858 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:12:53,858 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 20:12:53,859 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 20:12:53,859 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 20:12:53,861 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:12:53,895 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 20:12:53,895 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 731 ms
2018-03-28 20:12:53,948 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 20:12:53,949 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 20:12:53,949 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 20:12:53,949 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 20:12:53,949 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 20:12:53,949 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 20:12:54,049 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 20:12:54,068 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 20:12:54,093 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 20:12:54,107 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 20:12:54,123 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 20:12:54,178 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 20:12:54,179 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 20:12:54,234 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5d94aa64: startup date [Wed Mar 28 20:12:53 CST 2018]; root of context hierarchy
2018-03-28 20:12:54,255 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 20:12:54,255 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:12:54,256 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 20:12:54,256 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 20:12:54,256 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 20:12:54,256 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 20:12:54,256 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 20:12:54,257 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:12:54,258 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 20:12:54,258 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 20:12:54,296 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:12:54,296 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:12:54,332 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:12:54,365 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 20:12:54,451 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 20:12:54,514 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 20:12:54,515 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 20:12:54,516 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 20:12:54,516 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:12:54,516 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 20:12:54,518 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 20:12:54,519 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 20:12:54,523 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 20:12:54,523 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.385 seconds (JVM running for 2934.663)
2018-03-28 20:12:54,524 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 20:13:02,067 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5d94aa64: startup date [Wed Mar 28 20:12:53 CST 2018]; root of context hierarchy
2018-03-28 20:13:02,068 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 20:13:02,069 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 20:13:02,069 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:13:02,069 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 20:13:02,069 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 20:13:02,069 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 20:13:02,070 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 20:13:02,070 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 20:13:02,070 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 20:13:02,477 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 20:13:02,477 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 20:13:02,479 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@d430caf: startup date [Wed Mar 28 20:13:02 CST 2018]; root of context hierarchy
2018-03-28 20:13:02,784 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:02,810 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:02,831 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:02,832 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:02,833 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:02,837 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:02,838 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 20:13:02,843 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:02,844 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:02,847 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:28, serverValue:28}] to localhost:27017
2018-03-28 20:13:02,849 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=573951}
2018-03-28 20:13:02,853 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:02,860 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:02,864 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:02,866 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:02,872 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#69e5854' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:02,872 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#69e5854' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:02,874 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#12b67887' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:02,876 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2d87cad6' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:02,876 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2d87cad6' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:02,877 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#3ccacafe' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:02,900 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:02,902 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy118] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:02,903 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:02,904 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:02,908 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:02,909 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.17' does not yet exist.  Creating now.
2018-03-28 20:13:02,909 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.17]
2018-03-28 20:13:02,910 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:02,919 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:02,998 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:13:03,121 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 20:13:03,122 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:13:03,122 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 20:13:03,123 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 20:13:03,123 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 20:13:03,124 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:13:03,153 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 20:13:03,154 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 675 ms
2018-03-28 20:13:03,204 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 20:13:03,204 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 20:13:03,204 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 20:13:03,205 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 20:13:03,205 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 20:13:03,205 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 20:13:03,312 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 20:13:03,328 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 20:13:03,353 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 20:13:03,366 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 20:13:03,382 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 20:13:03,436 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 20:13:03,436 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 20:13:03,489 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@d430caf: startup date [Wed Mar 28 20:13:02 CST 2018]; root of context hierarchy
2018-03-28 20:13:03,509 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 20:13:03,510 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:13:03,510 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 20:13:03,510 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 20:13:03,511 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 20:13:03,511 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 20:13:03,511 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 20:13:03,511 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:13:03,513 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 20:13:03,514 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 20:13:03,551 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:13:03,551 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:13:03,588 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:13:03,616 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 20:13:03,701 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 20:13:03,776 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 20:13:03,778 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 20:13:03,778 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 20:13:03,778 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:13:03,779 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 20:13:03,780 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 20:13:03,782 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 20:13:03,785 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 20:13:03,786 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.336 seconds (JVM running for 2943.925)
2018-03-28 20:13:03,787 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 20:13:08,403 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:13:08,406 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-28 20:13:08,407 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-28 20:13:08,417 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 10 ms
2018-03-28 20:13:08,425 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:29, serverValue:29}] to localhost:27017
2018-03-28 20:13:28,674 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@d430caf: startup date [Wed Mar 28 20:13:02 CST 2018]; root of context hierarchy
2018-03-28 20:13:28,676 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 20:13:28,676 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 20:13:28,676 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:13:28,676 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 20:13:28,676 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 20:13:28,677 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 20:13:28,677 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 20:13:28,677 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 20:13:28,677 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 20:13:28,680 INFO (SLF4JLogger.java:71)- Closed connection [connectionId{localValue:29, serverValue:29}] to localhost:27017 because the pool has been closed.
2018-03-28 20:13:29,057 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 20:13:29,057 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 20:13:29,060 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1d1447c8: startup date [Wed Mar 28 20:13:29 CST 2018]; root of context hierarchy
2018-03-28 20:13:29,339 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:29,355 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:29,374 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:29,376 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:29,377 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:29,380 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:29,381 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 20:13:29,385 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:29,386 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:29,389 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:30, serverValue:30}] to localhost:27017
2018-03-28 20:13:29,391 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=643030}
2018-03-28 20:13:29,393 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:29,397 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:29,400 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:29,402 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:29,404 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#b907ad' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:29,405 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#b907ad' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:29,406 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#45d1b7c4' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:29,407 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#954efe5' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:29,407 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#954efe5' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:29,408 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2c876b88' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:29,423 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:29,423 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy120] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:29,424 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:29,424 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:29,429 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:29,430 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.18' does not yet exist.  Creating now.
2018-03-28 20:13:29,431 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.18]
2018-03-28 20:13:29,431 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:29,438 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:29,538 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:13:29,662 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 20:13:29,665 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:13:29,665 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 20:13:29,666 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 20:13:29,666 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 20:13:29,668 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:13:29,703 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 20:13:29,703 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 643 ms
2018-03-28 20:13:29,754 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 20:13:29,755 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 20:13:29,755 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 20:13:29,755 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 20:13:29,755 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 20:13:29,755 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 20:13:29,852 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 20:13:29,869 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 20:13:29,895 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 20:13:29,908 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 20:13:29,925 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 20:13:29,982 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 20:13:29,983 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 20:13:30,040 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1d1447c8: startup date [Wed Mar 28 20:13:29 CST 2018]; root of context hierarchy
2018-03-28 20:13:30,061 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 20:13:30,061 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:13:30,062 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 20:13:30,062 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 20:13:30,062 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 20:13:30,063 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 20:13:30,063 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 20:13:30,063 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:13:30,066 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 20:13:30,066 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 20:13:30,107 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:13:30,107 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:13:30,148 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:13:30,181 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 20:13:30,265 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 20:13:30,319 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 20:13:30,321 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 20:13:30,321 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 20:13:30,321 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:13:30,322 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 20:13:30,323 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 20:13:30,325 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 20:13:30,335 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 20:13:30,335 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.303 seconds (JVM running for 2970.475)
2018-03-28 20:13:30,337 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 20:13:41,904 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1d1447c8: startup date [Wed Mar 28 20:13:29 CST 2018]; root of context hierarchy
2018-03-28 20:13:41,906 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 20:13:41,906 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 20:13:41,906 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:13:41,906 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 20:13:41,907 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 20:13:41,907 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 20:13:41,907 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 20:13:41,908 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 20:13:41,908 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 20:13:42,224 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 20:13:42,225 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 20:13:42,226 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@19216a72: startup date [Wed Mar 28 20:13:42 CST 2018]; root of context hierarchy
2018-03-28 20:13:42,468 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:42,485 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:42,499 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:42,500 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:42,500 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:42,503 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:42,504 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 20:13:42,507 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:42,508 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:42,510 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:31, serverValue:31}] to localhost:27017
2018-03-28 20:13:42,513 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=491056}
2018-03-28 20:13:42,514 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:42,520 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:42,526 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:42,528 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:42,532 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#352d8349' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:42,532 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#352d8349' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:42,534 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#14b8ecf4' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:42,535 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#56d873a3' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:42,536 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#56d873a3' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:42,537 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2dd6d039' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:42,554 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:42,554 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy122] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:42,555 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:42,555 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:42,559 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:42,560 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.19' does not yet exist.  Creating now.
2018-03-28 20:13:42,560 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.19]
2018-03-28 20:13:42,561 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:42,566 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:13:42,650 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:13:42,780 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 20:13:42,781 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:13:42,781 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 20:13:42,782 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 20:13:42,782 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 20:13:42,783 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:13:42,814 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 20:13:42,814 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 588 ms
2018-03-28 20:13:42,865 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 20:13:42,879 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 20:13:42,880 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 20:13:42,880 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 20:13:42,880 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 20:13:42,880 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 20:13:42,978 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 20:13:42,999 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 20:13:43,028 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 20:13:43,047 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 20:13:43,063 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 20:13:43,116 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 20:13:43,117 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 20:13:43,171 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@19216a72: startup date [Wed Mar 28 20:13:42 CST 2018]; root of context hierarchy
2018-03-28 20:13:43,191 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 20:13:43,192 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:13:43,192 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 20:13:43,192 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 20:13:43,193 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 20:13:43,193 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 20:13:43,193 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 20:13:43,193 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:13:43,195 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 20:13:43,196 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 20:13:43,243 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:13:43,243 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:13:43,291 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:13:43,320 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 20:13:43,408 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 20:13:43,458 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 20:13:43,460 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 20:13:43,460 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 20:13:43,461 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:13:43,461 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 20:13:43,463 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 20:13:43,464 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 20:13:43,481 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 20:13:43,482 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.28 seconds (JVM running for 2983.621)
2018-03-28 20:13:43,483 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 20:14:00,163 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@19216a72: startup date [Wed Mar 28 20:13:42 CST 2018]; root of context hierarchy
2018-03-28 20:14:00,164 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 20:14:00,164 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 20:14:00,164 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:14:00,164 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 20:14:00,164 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 20:14:00,165 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 20:14:00,165 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 20:14:00,165 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 20:14:00,165 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 20:14:00,518 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 20:14:00,518 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 20:14:00,520 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3c5dd634: startup date [Wed Mar 28 20:14:00 CST 2018]; root of context hierarchy
2018-03-28 20:14:00,795 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:14:00,808 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:14:00,819 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:14:00,820 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:14:00,821 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:14:00,823 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:14:00,824 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 20:14:00,826 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:14:00,827 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:14:00,829 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:32, serverValue:32}] to localhost:27017
2018-03-28 20:14:00,831 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=483555}
2018-03-28 20:14:00,832 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:14:00,836 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:14:00,838 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:14:00,840 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:14:00,842 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6ac200c1' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:14:00,842 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6ac200c1' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:14:00,843 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6f03b41b' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:14:00,844 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5216d9b8' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:14:00,844 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5216d9b8' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:14:00,845 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2b28dcb3' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:14:00,857 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:14:00,858 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy124] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:14:00,858 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:14:00,858 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:14:00,863 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:14:00,864 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.20' does not yet exist.  Creating now.
2018-03-28 20:14:00,864 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.20]
2018-03-28 20:14:00,865 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:14:00,873 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:14:00,952 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:14:01,079 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 20:14:01,080 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:14:01,081 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 20:14:01,081 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 20:14:01,081 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 20:14:01,083 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:14:01,115 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 20:14:01,115 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 595 ms
2018-03-28 20:14:01,170 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 20:14:01,171 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 20:14:01,171 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 20:14:01,171 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 20:14:01,171 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 20:14:01,171 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 20:14:01,268 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 20:14:01,285 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 20:14:01,310 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 20:14:01,323 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 20:14:01,339 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 20:14:01,397 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 20:14:01,397 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 20:14:01,449 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3c5dd634: startup date [Wed Mar 28 20:14:00 CST 2018]; root of context hierarchy
2018-03-28 20:14:01,470 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 20:14:01,470 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:14:01,471 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 20:14:01,471 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 20:14:01,471 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 20:14:01,471 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 20:14:01,471 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 20:14:01,472 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:14:01,473 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 20:14:01,473 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 20:14:01,526 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:14:01,527 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:14:01,563 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:14:01,592 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 20:14:01,678 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 20:14:01,732 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 20:14:01,734 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 20:14:01,735 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 20:14:01,735 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:14:01,735 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 20:14:01,737 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 20:14:01,738 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 20:14:01,742 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 20:14:01,742 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.247 seconds (JVM running for 3001.882)
2018-03-28 20:14:01,744 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 20:14:09,322 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:14:09,327 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-28 20:14:09,327 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-28 20:14:09,332 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 5 ms
2018-03-28 20:14:09,334 ERROR (DirectJDKLog.java:182)- Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause
java.lang.NullPointerException: null
	at springboot.Facedetect.controller.homeController.chat(homeController.java:63)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:870)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:776)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:870)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:855)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61)
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108)
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137)
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66)
	at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449)
	at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365)
	at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90)
	at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83)
	at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:387)
	at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362)
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-03-28 20:14:13,287 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:14:14,232 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:14:14,232 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:14:20,276 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:33, serverValue:33}] to localhost:27017
2018-03-28 20:14:24,072 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 20:15:01,339 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 8, active threads = 0, queued tasks = 0, completed tasks = 15], outboundChannelpool size = 3, active threads = 0, queued tasks = 0, completed tasks = 3], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 2, completed tasks = 8]
2018-03-28 20:16:15,639 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 20:16:27,340 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:16:27,342 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:16:27,611 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 20:21:48,660 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3c5dd634: startup date [Wed Mar 28 20:14:00 CST 2018]; root of context hierarchy
2018-03-28 20:21:48,662 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 20:21:48,663 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 20:21:48,664 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 20:21:48,664 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[1 destination(s)], registry[1 sessions]]]]
2018-03-28 20:21:48,665 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 20:21:48,665 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 20:21:48,665 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 20:21:48,665 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 20:21:48,666 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 20:21:48,666 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 20:21:48,668 INFO (SLF4JLogger.java:71)- Closed connection [connectionId{localValue:33, serverValue:33}] to localhost:27017 because the pool has been closed.
2018-03-28 20:21:49,039 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 20:21:49,040 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 20:21:49,042 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@21d1b5c: startup date [Wed Mar 28 20:21:49 CST 2018]; root of context hierarchy
2018-03-28 20:21:49,309 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:21:49,326 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:21:49,339 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:21:49,340 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:21:49,341 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:21:49,344 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:21:49,345 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 20:21:49,349 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:21:49,350 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:21:49,352 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:34, serverValue:34}] to localhost:27017
2018-03-28 20:21:49,354 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=566846}
2018-03-28 20:21:49,356 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:21:49,361 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:21:49,365 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:21:49,367 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:21:49,371 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#33696a6e' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:21:49,371 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#33696a6e' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:21:49,372 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5598452d' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:21:49,374 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#1941fe8c' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:21:49,375 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#1941fe8c' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:21:49,375 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4d64f2ec' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:21:49,396 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:21:49,397 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy126] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:21:49,397 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:21:49,398 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:21:49,403 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:21:49,405 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.21' does not yet exist.  Creating now.
2018-03-28 20:21:49,406 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.21]
2018-03-28 20:21:49,407 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:21:49,416 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:21:49,486 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:21:49,623 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 20:21:49,624 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:21:49,624 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 20:21:49,624 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 20:21:49,625 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 20:21:49,626 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:21:49,658 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 20:21:49,658 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 616 ms
2018-03-28 20:21:49,713 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 20:21:49,713 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 20:21:49,714 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 20:21:49,714 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 20:21:49,714 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 20:21:49,714 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 20:21:49,718 WARN (DirectJDKLog.java:180)- Cannot deserialize session attribute [org.apache.shiro.subject.support.DefaultSubjectContext_PRINCIPALS_SESSION_KEY] for session [25B3B55C6E209A3720F916E0AB0095A8]
2018-03-28 20:21:49,861 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 20:21:49,879 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 20:21:49,908 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 20:21:49,922 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 20:21:49,939 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 20:21:49,998 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 20:21:49,998 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 20:21:50,051 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@21d1b5c: startup date [Wed Mar 28 20:21:49 CST 2018]; root of context hierarchy
2018-03-28 20:21:50,072 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 20:21:50,072 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:21:50,073 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 20:21:50,073 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 20:21:50,073 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 20:21:50,073 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 20:21:50,074 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 20:21:50,074 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:21:50,075 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 20:21:50,076 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 20:21:50,116 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:21:50,116 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:21:50,150 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:21:50,187 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 20:21:50,270 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 20:21:50,327 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 20:21:50,329 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 20:21:50,330 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 20:21:50,330 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:21:50,330 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 20:21:50,332 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 20:21:50,334 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 20:21:50,337 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 20:21:50,338 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.321 seconds (JVM running for 3470.477)
2018-03-28 20:21:50,339 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 20:22:49,938 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-28 20:24:21,676 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@21d1b5c: startup date [Wed Mar 28 20:21:49 CST 2018]; root of context hierarchy
2018-03-28 20:24:21,677 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 20:24:21,677 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 20:24:21,678 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:24:21,678 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 20:24:21,678 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 20:24:21,678 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 20:24:21,678 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 20:24:21,679 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 20:24:21,679 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 20:24:21,989 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 20:24:21,989 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 20:24:21,994 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1eeb129c: startup date [Wed Mar 28 20:24:21 CST 2018]; root of context hierarchy
2018-03-28 20:24:22,267 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:22,286 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:22,300 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:22,300 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:22,301 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:22,304 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:22,304 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 20:24:22,307 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:22,308 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:22,310 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:35, serverValue:35}] to localhost:27017
2018-03-28 20:24:22,312 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=448029}
2018-03-28 20:24:22,314 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:22,318 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:22,323 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:22,325 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:22,327 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#1f52cd1c' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:22,328 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#1f52cd1c' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:22,329 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#57efd070' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:22,330 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#79d6d2e3' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:22,330 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#79d6d2e3' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:22,331 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#16fc5f19' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:22,344 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:22,345 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy128] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:22,345 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:22,346 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:22,349 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:22,350 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.22' does not yet exist.  Creating now.
2018-03-28 20:24:22,351 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.22]
2018-03-28 20:24:22,351 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:22,356 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:22,437 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:24:22,593 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 20:24:22,594 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:24:22,594 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 20:24:22,595 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 20:24:22,595 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 20:24:22,597 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:24:22,630 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 20:24:22,630 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 636 ms
2018-03-28 20:24:22,679 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 20:24:22,679 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 20:24:22,680 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 20:24:22,680 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 20:24:22,680 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 20:24:22,680 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 20:24:22,778 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 20:24:22,794 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 20:24:22,819 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 20:24:22,834 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 20:24:22,849 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 20:24:22,905 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 20:24:22,905 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 20:24:22,959 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1eeb129c: startup date [Wed Mar 28 20:24:21 CST 2018]; root of context hierarchy
2018-03-28 20:24:22,980 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 20:24:22,980 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:24:22,980 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 20:24:22,981 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 20:24:22,981 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 20:24:22,981 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 20:24:22,981 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 20:24:22,981 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:24:22,983 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 20:24:22,983 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 20:24:23,021 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:24:23,021 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:24:23,057 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:24:23,087 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 20:24:23,174 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 20:24:23,227 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 20:24:23,229 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 20:24:23,230 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 20:24:23,230 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:24:23,231 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 20:24:23,233 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 20:24:23,234 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 20:24:23,238 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 20:24:23,239 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.276 seconds (JVM running for 3623.378)
2018-03-28 20:24:23,240 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 20:24:36,852 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1eeb129c: startup date [Wed Mar 28 20:24:21 CST 2018]; root of context hierarchy
2018-03-28 20:24:36,855 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 20:24:36,855 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 20:24:36,856 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:24:36,856 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 20:24:36,856 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 20:24:36,856 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 20:24:36,857 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 20:24:36,857 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 20:24:36,857 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 20:24:37,190 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 20:24:37,190 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 20:24:37,193 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@32eee58e: startup date [Wed Mar 28 20:24:37 CST 2018]; root of context hierarchy
2018-03-28 20:24:37,526 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:37,543 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:37,572 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:37,574 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:37,577 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:37,580 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:37,581 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 20:24:37,590 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:37,591 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:37,597 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:36, serverValue:36}] to localhost:27017
2018-03-28 20:24:37,599 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=516713}
2018-03-28 20:24:37,601 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:37,611 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:37,617 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:37,619 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:37,626 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#59b902bb' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:37,627 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#59b902bb' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:37,628 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#35d4e60e' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:37,630 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#3c8e9b86' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:37,633 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#3c8e9b86' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:37,635 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7fa03ef4' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:37,666 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:37,667 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy130] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:37,668 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:37,668 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:37,673 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:37,674 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.23' does not yet exist.  Creating now.
2018-03-28 20:24:37,675 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.23]
2018-03-28 20:24:37,675 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:37,682 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:24:37,738 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:24:37,878 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 20:24:37,879 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:24:37,879 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 20:24:37,880 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 20:24:37,880 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 20:24:37,881 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:24:37,920 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 20:24:37,920 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 727 ms
2018-03-28 20:24:37,975 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 20:24:37,976 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 20:24:37,976 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 20:24:37,976 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 20:24:37,976 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 20:24:37,976 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 20:24:38,076 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 20:24:38,093 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 20:24:38,118 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 20:24:38,131 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 20:24:38,146 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 20:24:38,200 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 20:24:38,200 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 20:24:38,252 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@32eee58e: startup date [Wed Mar 28 20:24:37 CST 2018]; root of context hierarchy
2018-03-28 20:24:38,283 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 20:24:38,284 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:24:38,284 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 20:24:38,285 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 20:24:38,285 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 20:24:38,285 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 20:24:38,285 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 20:24:38,286 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:24:38,288 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 20:24:38,288 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 20:24:38,348 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:24:38,348 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:24:38,390 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:24:38,448 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 20:24:38,628 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 20:24:38,727 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 20:24:38,730 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 20:24:38,731 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 20:24:38,731 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:24:38,731 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 20:24:38,738 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 20:24:38,742 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 20:24:38,746 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 20:24:38,749 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.581 seconds (JVM running for 3638.888)
2018-03-28 20:24:38,752 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 20:24:52,514 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:24:52,534 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-28 20:24:52,534 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-28 20:24:52,541 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 6 ms
2018-03-28 20:24:52,966 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:24:52,966 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:24:52,967 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:24:52,968 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:24:52,970 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:25:00,211 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:37, serverValue:37}] to localhost:27017
2018-03-28 20:25:04,688 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 20:25:38,145 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 8, active threads = 0, queued tasks = 0, completed tasks = 12], outboundChannelpool size = 2, active threads = 0, queued tasks = 0, completed tasks = 2], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 2, completed tasks = 7]
2018-03-28 20:25:50,514 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@32eee58e: startup date [Wed Mar 28 20:24:37 CST 2018]; root of context hierarchy
2018-03-28 20:25:50,517 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 20:25:50,518 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 20:25:50,519 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 20:25:50,519 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:25:50,520 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 20:25:50,521 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 20:25:50,521 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 20:25:50,521 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 20:25:50,523 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 20:25:50,523 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 20:25:50,525 INFO (SLF4JLogger.java:71)- Closed connection [connectionId{localValue:37, serverValue:37}] to localhost:27017 because the pool has been closed.
2018-03-28 20:25:50,878 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 20:25:50,879 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 20:25:50,881 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@936f8ba: startup date [Wed Mar 28 20:25:50 CST 2018]; root of context hierarchy
2018-03-28 20:25:51,127 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:25:51,140 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:25:51,151 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:25:51,152 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:25:51,153 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:25:51,155 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:25:51,156 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 20:25:51,158 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:25:51,159 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:25:51,161 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:38, serverValue:38}] to localhost:27017
2018-03-28 20:25:51,163 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=454345}
2018-03-28 20:25:51,164 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:25:51,167 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:25:51,170 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:25:51,171 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:25:51,173 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6a0644d4' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:25:51,173 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6a0644d4' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:25:51,174 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#291f50f0' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:25:51,175 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#198c341' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:25:51,175 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#198c341' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:25:51,176 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#70861bee' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:25:51,188 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:25:51,188 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy132] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:25:51,189 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:25:51,189 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:25:51,192 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:25:51,193 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.24' does not yet exist.  Creating now.
2018-03-28 20:25:51,193 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.24]
2018-03-28 20:25:51,194 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:25:51,199 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:25:51,307 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:25:51,436 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 20:25:51,437 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:25:51,437 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 20:25:51,438 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 20:25:51,438 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 20:25:51,439 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:25:51,471 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 20:25:51,471 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 590 ms
2018-03-28 20:25:51,519 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 20:25:51,519 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 20:25:51,519 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 20:25:51,520 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 20:25:51,520 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 20:25:51,520 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 20:25:51,523 WARN (DirectJDKLog.java:180)- Cannot deserialize session attribute [org.apache.shiro.subject.support.DefaultSubjectContext_PRINCIPALS_SESSION_KEY] for session [A123019084658617C5E6A4B6A29CBE6F]
2018-03-28 20:25:51,620 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 20:25:51,637 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 20:25:51,663 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 20:25:51,676 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 20:25:51,691 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 20:25:51,747 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 20:25:51,747 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 20:25:51,800 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@936f8ba: startup date [Wed Mar 28 20:25:50 CST 2018]; root of context hierarchy
2018-03-28 20:25:51,821 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 20:25:51,821 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:25:51,821 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 20:25:51,822 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 20:25:51,822 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 20:25:51,822 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 20:25:51,822 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 20:25:51,822 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:25:51,824 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 20:25:51,824 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 20:25:51,861 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:25:51,861 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:25:51,924 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:25:51,973 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 20:25:52,092 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 20:25:52,168 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 20:25:52,170 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 20:25:52,170 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 20:25:52,171 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:25:52,171 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 20:25:52,173 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 20:25:52,174 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 20:25:52,178 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 20:25:52,178 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.327 seconds (JVM running for 3712.317)
2018-03-28 20:25:52,180 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 20:26:51,690 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-28 20:26:51,724 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@936f8ba: startup date [Wed Mar 28 20:25:50 CST 2018]; root of context hierarchy
2018-03-28 20:26:51,725 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 20:26:51,726 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 20:26:51,726 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:26:51,726 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 20:26:51,726 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 20:26:51,726 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 20:26:51,727 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 20:26:51,727 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 20:26:51,727 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 20:26:52,059 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 20:26:52,059 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 20:26:52,061 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@71cc6952: startup date [Wed Mar 28 20:26:52 CST 2018]; root of context hierarchy
2018-03-28 20:26:52,311 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:26:52,329 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:26:52,344 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:26:52,345 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:26:52,346 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:26:52,349 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:26:52,350 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 20:26:52,354 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:26:52,355 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:26:52,359 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:39, serverValue:39}] to localhost:27017
2018-03-28 20:26:52,361 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=504081}
2018-03-28 20:26:52,362 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:26:52,367 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:26:52,372 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:26:52,374 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:26:52,378 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#64cfe664' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:26:52,378 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#64cfe664' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:26:52,380 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#27caf03a' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:26:52,383 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#783c3985' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:26:52,384 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#783c3985' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:26:52,384 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#1ab508b8' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:26:52,406 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:26:52,406 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy134] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:26:52,407 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:26:52,407 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:26:52,412 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:26:52,413 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.25' does not yet exist.  Creating now.
2018-03-28 20:26:52,415 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.25]
2018-03-28 20:26:52,416 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:26:52,425 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:26:52,499 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:26:52,682 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 20:26:52,683 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:26:52,683 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 20:26:52,684 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 20:26:52,684 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 20:26:52,685 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:26:52,726 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 20:26:52,726 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 665 ms
2018-03-28 20:26:52,789 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 20:26:52,790 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 20:26:52,791 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 20:26:52,791 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 20:26:52,791 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 20:26:52,791 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 20:26:52,940 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 20:26:52,964 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 20:26:53,006 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 20:26:53,021 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 20:26:53,037 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 20:26:53,130 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 20:26:53,130 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 20:26:53,207 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@71cc6952: startup date [Wed Mar 28 20:26:52 CST 2018]; root of context hierarchy
2018-03-28 20:26:53,247 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 20:26:53,248 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:26:53,248 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 20:26:53,248 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 20:26:53,249 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 20:26:53,249 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 20:26:53,249 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 20:26:53,250 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:26:53,253 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 20:26:53,254 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 20:26:53,314 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:26:53,315 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:26:53,379 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:26:53,421 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 20:26:53,515 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 20:26:53,584 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 20:26:53,586 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 20:26:53,587 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 20:26:53,587 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:26:53,587 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 20:26:53,590 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 20:26:53,592 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 20:26:53,599 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 20:26:53,600 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.564 seconds (JVM running for 3773.739)
2018-03-28 20:26:53,603 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 20:26:58,705 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:26:58,709 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-28 20:26:58,709 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-28 20:26:58,720 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 11 ms
2018-03-28 20:27:06,974 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:27:06,981 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:40, serverValue:40}] to localhost:27017
2018-03-28 20:27:10,890 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 20:27:53,037 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 8, active threads = 0, queued tasks = 0, completed tasks = 12], outboundChannelpool size = 2, active threads = 0, queued tasks = 0, completed tasks = 2], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 2, completed tasks = 10]
2018-03-28 20:28:44,198 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@71cc6952: startup date [Wed Mar 28 20:26:52 CST 2018]; root of context hierarchy
2018-03-28 20:28:44,199 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 20:28:44,200 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 20:28:44,201 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 20:28:44,202 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:28:44,202 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 20:28:44,202 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 20:28:44,202 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 20:28:44,203 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 20:28:44,203 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 20:28:44,203 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 20:28:44,205 INFO (SLF4JLogger.java:71)- Closed connection [connectionId{localValue:40, serverValue:40}] to localhost:27017 because the pool has been closed.
2018-03-28 20:28:44,549 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 20:28:44,549 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 20:28:44,551 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@72ae6854: startup date [Wed Mar 28 20:28:44 CST 2018]; root of context hierarchy
2018-03-28 20:28:44,810 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:28:44,825 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:28:44,841 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:28:44,842 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:28:44,842 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:28:44,845 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:28:44,846 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 20:28:44,849 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:28:44,850 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:28:44,853 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:41, serverValue:41}] to localhost:27017
2018-03-28 20:28:44,855 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=486713}
2018-03-28 20:28:44,856 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:28:44,859 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:28:44,863 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:28:44,864 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:28:44,866 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4645720c' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:28:44,866 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4645720c' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:28:44,867 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7397662e' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:28:44,868 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#611ed36f' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:28:44,868 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#611ed36f' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:28:44,869 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#520be53' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:28:44,881 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:28:44,882 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy136] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:28:44,882 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:28:44,882 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:28:44,886 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:28:44,887 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.26' does not yet exist.  Creating now.
2018-03-28 20:28:44,887 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.26]
2018-03-28 20:28:44,888 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:28:44,893 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:28:44,948 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:28:45,082 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 20:28:45,083 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:28:45,083 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 20:28:45,083 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 20:28:45,083 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 20:28:45,084 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:28:45,116 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 20:28:45,117 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 566 ms
2018-03-28 20:28:45,165 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 20:28:45,165 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 20:28:45,165 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 20:28:45,166 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 20:28:45,166 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 20:28:45,166 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 20:28:45,169 WARN (DirectJDKLog.java:180)- Cannot deserialize session attribute [org.apache.shiro.subject.support.DefaultSubjectContext_PRINCIPALS_SESSION_KEY] for session [90ACD3B88AC31AEFB983386F82C52D4D]
2018-03-28 20:28:45,263 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 20:28:45,280 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 20:28:45,305 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 20:28:45,318 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 20:28:45,333 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 20:28:45,401 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 20:28:45,401 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 20:28:45,451 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@72ae6854: startup date [Wed Mar 28 20:28:44 CST 2018]; root of context hierarchy
2018-03-28 20:28:45,472 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 20:28:45,473 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:28:45,473 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 20:28:45,474 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 20:28:45,474 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 20:28:45,474 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 20:28:45,474 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 20:28:45,474 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:28:45,478 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 20:28:45,478 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 20:28:45,523 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:28:45,524 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:28:45,565 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:28:45,596 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 20:28:45,681 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 20:28:45,732 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 20:28:45,734 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 20:28:45,735 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 20:28:45,735 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:28:45,735 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 20:28:45,737 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 20:28:45,738 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 20:28:45,741 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 20:28:45,742 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.216 seconds (JVM running for 3885.881)
2018-03-28 20:28:45,744 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 20:29:18,178 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:29:18,182 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-28 20:29:18,182 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-28 20:29:18,190 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 8 ms
2018-03-28 20:29:18,692 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:29:23,391 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:29:23,396 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:42, serverValue:42}] to localhost:27017
2018-03-28 20:29:43,771 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:29:44,364 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 20:29:45,333 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 8, active threads = 0, queued tasks = 0, completed tasks = 9], outboundChannelpool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 2, completed tasks = 1]
2018-03-28 20:30:38,762 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@72ae6854: startup date [Wed Mar 28 20:28:44 CST 2018]; root of context hierarchy
2018-03-28 20:30:38,764 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 20:30:38,766 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 20:30:38,767 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 20:30:38,768 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:30:38,768 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 20:30:38,769 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 20:30:38,770 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 20:30:38,770 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 20:30:38,771 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 20:30:38,772 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 20:30:38,776 INFO (SLF4JLogger.java:71)- Closed connection [connectionId{localValue:42, serverValue:42}] to localhost:27017 because the pool has been closed.
2018-03-28 20:30:39,114 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 20:30:39,114 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 20:30:39,117 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3c715879: startup date [Wed Mar 28 20:30:39 CST 2018]; root of context hierarchy
2018-03-28 20:30:39,361 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:30:39,373 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:30:39,384 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:30:39,385 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:30:39,385 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:30:39,388 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:30:39,388 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 20:30:39,391 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:30:39,392 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:30:39,394 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:43, serverValue:43}] to localhost:27017
2018-03-28 20:30:39,396 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=591713}
2018-03-28 20:30:39,396 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:30:39,401 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:30:39,405 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:30:39,406 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:30:39,409 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#1a5832ea' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:30:39,409 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#1a5832ea' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:30:39,410 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#3348d0d5' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:30:39,411 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#262a56b1' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:30:39,411 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#262a56b1' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:30:39,411 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#8e464a9' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:30:39,424 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:30:39,424 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy138] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:30:39,425 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:30:39,425 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:30:39,429 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:30:39,430 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.27' does not yet exist.  Creating now.
2018-03-28 20:30:39,431 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.27]
2018-03-28 20:30:39,431 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:30:39,437 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:30:39,519 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:30:39,654 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 20:30:39,655 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:30:39,655 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 20:30:39,656 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 20:30:39,656 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 20:30:39,657 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:30:39,690 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 20:30:39,690 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 573 ms
2018-03-28 20:30:39,741 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 20:30:39,741 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 20:30:39,741 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 20:30:39,742 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 20:30:39,742 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 20:30:39,742 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 20:30:39,745 WARN (DirectJDKLog.java:180)- Cannot deserialize session attribute [org.apache.shiro.subject.support.DefaultSubjectContext_PRINCIPALS_SESSION_KEY] for session [47BDC66073E234455F2F01A1A8E76F54]
2018-03-28 20:30:39,843 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 20:30:39,859 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 20:30:39,895 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 20:30:39,908 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 20:30:39,924 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 20:30:39,976 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 20:30:39,978 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 20:30:40,030 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3c715879: startup date [Wed Mar 28 20:30:39 CST 2018]; root of context hierarchy
2018-03-28 20:30:40,050 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 20:30:40,050 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:30:40,051 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 20:30:40,051 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 20:30:40,051 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 20:30:40,051 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 20:30:40,052 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 20:30:40,052 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:30:40,053 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 20:30:40,054 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 20:30:40,090 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:30:40,091 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:30:40,129 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:30:40,159 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 20:30:40,248 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 20:30:40,297 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 20:30:40,299 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 20:30:40,299 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 20:30:40,299 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:30:40,300 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 20:30:40,302 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 20:30:40,303 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 20:30:40,306 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 20:30:40,307 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.214 seconds (JVM running for 4000.446)
2018-03-28 20:30:40,309 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 20:31:02,114 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3c715879: startup date [Wed Mar 28 20:30:39 CST 2018]; root of context hierarchy
2018-03-28 20:31:02,116 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 20:31:02,117 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 20:31:02,117 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:31:02,117 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 20:31:02,119 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 20:31:02,119 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 20:31:02,119 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 20:31:02,120 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 20:31:02,120 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 20:31:02,472 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 20:31:02,473 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 20:31:02,475 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@23e29da4: startup date [Wed Mar 28 20:31:02 CST 2018]; root of context hierarchy
2018-03-28 20:31:02,739 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:31:02,751 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:31:02,762 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:31:02,763 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:31:02,764 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:31:02,766 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:31:02,766 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 20:31:02,770 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:31:02,771 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:31:02,772 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:44, serverValue:44}] to localhost:27017
2018-03-28 20:31:02,773 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=404608}
2018-03-28 20:31:02,775 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:31:02,783 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:31:02,788 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:31:02,790 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:31:02,793 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4871f09d' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:31:02,794 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4871f09d' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:31:02,795 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2a6b08a6' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:31:02,795 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#da2bb6b' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:31:02,796 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#da2bb6b' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:31:02,796 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#40a2498d' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:31:02,814 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:31:02,815 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy140] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:31:02,815 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:31:02,816 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:31:02,819 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:31:02,820 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.28' does not yet exist.  Creating now.
2018-03-28 20:31:02,821 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.28]
2018-03-28 20:31:02,822 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:31:02,828 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:31:02,924 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:31:03,103 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 20:31:03,105 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:31:03,105 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 20:31:03,105 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 20:31:03,106 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 20:31:03,107 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:31:03,151 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 20:31:03,151 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 676 ms
2018-03-28 20:31:03,205 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 20:31:03,210 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 20:31:03,211 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 20:31:03,211 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 20:31:03,211 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 20:31:03,211 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 20:31:03,320 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 20:31:03,336 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 20:31:03,361 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 20:31:03,374 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 20:31:03,389 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 20:31:03,453 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 20:31:03,454 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 20:31:03,507 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@23e29da4: startup date [Wed Mar 28 20:31:02 CST 2018]; root of context hierarchy
2018-03-28 20:31:03,536 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 20:31:03,536 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:31:03,536 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 20:31:03,536 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 20:31:03,537 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 20:31:03,537 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 20:31:03,537 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 20:31:03,537 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:31:03,539 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 20:31:03,539 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 20:31:03,576 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:31:03,576 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:31:03,611 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:31:03,641 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 20:31:03,722 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 20:31:03,772 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 20:31:03,773 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 20:31:03,774 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 20:31:03,774 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:31:03,774 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 20:31:03,776 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 20:31:03,777 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 20:31:03,780 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 20:31:03,781 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.336 seconds (JVM running for 4023.92)
2018-03-28 20:31:03,782 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 20:31:13,941 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:31:13,944 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-28 20:31:13,944 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-28 20:31:13,951 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 7 ms
2018-03-28 20:31:20,184 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:45, serverValue:45}] to localhost:27017
2018-03-28 20:31:32,864 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 20:32:03,389 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 8, active threads = 0, queued tasks = 0, completed tasks = 12], outboundChannelpool size = 2, active threads = 0, queued tasks = 0, completed tasks = 2], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 2, completed tasks = 7]
2018-03-28 20:32:49,603 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@23e29da4: startup date [Wed Mar 28 20:31:02 CST 2018]; root of context hierarchy
2018-03-28 20:32:49,604 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 20:32:49,605 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 20:32:49,606 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 20:32:49,608 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[1 destination(s)], registry[1 sessions]]]]
2018-03-28 20:32:49,608 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 20:32:49,608 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 20:32:49,609 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 20:32:49,609 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 20:32:49,609 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 20:32:49,609 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 20:32:49,612 INFO (SLF4JLogger.java:71)- Closed connection [connectionId{localValue:45, serverValue:45}] to localhost:27017 because the pool has been closed.
2018-03-28 20:32:49,912 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 20:32:49,913 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 20:32:49,914 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@463ffb0c: startup date [Wed Mar 28 20:32:49 CST 2018]; root of context hierarchy
2018-03-28 20:32:50,160 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:32:50,172 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:32:50,184 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:32:50,185 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:32:50,186 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:32:50,188 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:32:50,189 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 20:32:50,192 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:32:50,193 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:32:50,195 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:46, serverValue:46}] to localhost:27017
2018-03-28 20:32:50,197 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=406976}
2018-03-28 20:32:50,197 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:32:50,201 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:32:50,204 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:32:50,205 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:32:50,207 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6cdc2ca0' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:32:50,207 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6cdc2ca0' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:32:50,208 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#957aa96' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:32:50,209 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#68117700' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:32:50,209 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#68117700' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:32:50,209 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6e5fd134' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:32:50,223 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:32:50,223 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy142] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:32:50,224 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:32:50,224 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:32:50,227 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:32:50,228 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.29' does not yet exist.  Creating now.
2018-03-28 20:32:50,228 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.29]
2018-03-28 20:32:50,229 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:32:50,234 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:32:50,269 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:32:50,442 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 20:32:50,442 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:32:50,443 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 20:32:50,443 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 20:32:50,443 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 20:32:50,444 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:32:50,568 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 20:32:50,569 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 655 ms
2018-03-28 20:32:50,618 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 20:32:50,619 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 20:32:50,619 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 20:32:50,619 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 20:32:50,619 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 20:32:50,619 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 20:32:50,622 WARN (DirectJDKLog.java:180)- Cannot deserialize session attribute [org.apache.shiro.subject.support.DefaultSubjectContext_PRINCIPALS_SESSION_KEY] for session [E9D30E6235856B680B7CA7170C810D22]
2018-03-28 20:32:50,736 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 20:32:50,753 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 20:32:50,781 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 20:32:50,799 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 20:32:50,818 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 20:32:50,881 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 20:32:50,881 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 20:32:50,953 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@463ffb0c: startup date [Wed Mar 28 20:32:49 CST 2018]; root of context hierarchy
2018-03-28 20:32:50,974 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 20:32:50,974 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:32:50,975 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 20:32:50,975 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 20:32:50,976 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 20:32:50,976 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 20:32:50,976 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 20:32:50,976 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:32:50,978 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 20:32:50,979 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 20:32:51,020 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:32:51,020 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:32:51,054 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:32:51,083 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 20:32:51,165 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 20:32:51,216 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 20:32:51,218 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 20:32:51,219 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 20:32:51,219 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:32:51,219 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 20:32:51,221 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 20:32:51,222 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 20:32:51,226 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 20:32:51,226 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.335 seconds (JVM running for 4131.365)
2018-03-28 20:32:51,228 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 20:33:50,818 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-28 20:33:53,067 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:33:53,070 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-28 20:33:53,070 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-28 20:33:53,076 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 5 ms
2018-03-28 20:33:53,746 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:33:53,749 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:33:53,755 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:33:53,761 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:33:59,530 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:47, serverValue:47}] to localhost:27017
2018-03-28 20:34:04,308 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 20:35:44,433 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@463ffb0c: startup date [Wed Mar 28 20:32:49 CST 2018]; root of context hierarchy
2018-03-28 20:35:44,434 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 20:35:44,436 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 20:35:44,437 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 20:35:44,437 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:35:44,437 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 20:35:44,437 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 20:35:44,438 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 20:35:44,438 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 20:35:44,438 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 20:35:44,439 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 20:35:44,440 INFO (SLF4JLogger.java:71)- Closed connection [connectionId{localValue:47, serverValue:47}] to localhost:27017 because the pool has been closed.
2018-03-28 20:35:44,785 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 20:35:44,785 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 20:35:44,787 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@73e55a57: startup date [Wed Mar 28 20:35:44 CST 2018]; root of context hierarchy
2018-03-28 20:35:45,067 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:35:45,086 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:35:45,103 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:35:45,104 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:35:45,105 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:35:45,107 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:35:45,108 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 20:35:45,111 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:35:45,112 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:35:45,114 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:48, serverValue:48}] to localhost:27017
2018-03-28 20:35:45,116 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=425134}
2018-03-28 20:35:45,117 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:35:45,122 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:35:45,126 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:35:45,128 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:35:45,130 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2c7cb375' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:35:45,130 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2c7cb375' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:35:45,131 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#35888119' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:35:45,132 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#8868981' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:35:45,132 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#8868981' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:35:45,132 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#3cc0f9b2' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:35:45,152 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:35:45,153 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy144] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:35:45,154 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:35:45,154 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:35:45,159 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:35:45,160 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.30' does not yet exist.  Creating now.
2018-03-28 20:35:45,161 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.30]
2018-03-28 20:35:45,162 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:35:45,172 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:35:45,272 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:35:45,404 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 20:35:45,405 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:35:45,405 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 20:35:45,405 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 20:35:45,405 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 20:35:45,406 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:35:45,450 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 20:35:45,450 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 663 ms
2018-03-28 20:35:45,496 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 20:35:45,496 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 20:35:45,497 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 20:35:45,497 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 20:35:45,497 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 20:35:45,497 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 20:35:45,500 WARN (DirectJDKLog.java:180)- Cannot deserialize session attribute [org.apache.shiro.subject.support.DefaultSubjectContext_PRINCIPALS_SESSION_KEY] for session [16EED2A18B7136655570076600C820EF]
2018-03-28 20:35:45,596 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 20:35:45,613 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 20:35:45,651 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 20:35:45,665 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 20:35:45,680 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 20:35:45,736 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 20:35:45,736 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 20:35:45,785 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@73e55a57: startup date [Wed Mar 28 20:35:44 CST 2018]; root of context hierarchy
2018-03-28 20:35:45,806 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 20:35:45,807 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:35:45,807 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 20:35:45,808 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 20:35:45,808 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 20:35:45,808 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 20:35:45,808 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 20:35:45,809 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:35:45,810 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 20:35:45,810 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 20:35:45,847 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:35:45,848 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:35:45,880 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:35:45,906 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 20:35:45,982 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 20:35:46,031 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 20:35:46,033 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 20:35:46,033 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 20:35:46,034 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:35:46,034 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 20:35:46,036 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 20:35:46,037 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 20:35:46,040 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 20:35:46,040 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.275 seconds (JVM running for 4306.18)
2018-03-28 20:35:46,042 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 20:36:45,681 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-28 20:37:18,070 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@73e55a57: startup date [Wed Mar 28 20:35:44 CST 2018]; root of context hierarchy
2018-03-28 20:37:18,071 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 20:37:18,071 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 20:37:18,071 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:37:18,072 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 20:37:18,072 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 20:37:18,072 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 20:37:18,072 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 20:37:18,072 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 20:37:18,073 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 20:37:18,368 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 20:37:18,369 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 20:37:18,371 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@579095af: startup date [Wed Mar 28 20:37:18 CST 2018]; root of context hierarchy
2018-03-28 20:37:18,623 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:37:18,641 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:37:18,654 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:37:18,655 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:37:18,655 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:37:18,658 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:37:18,658 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 20:37:18,662 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:37:18,663 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:37:18,665 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:49, serverValue:49}] to localhost:27017
2018-03-28 20:37:18,666 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=328028}
2018-03-28 20:37:18,667 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:37:18,670 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:37:18,673 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:37:18,674 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:37:18,676 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5a225174' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:37:18,677 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5a225174' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:37:18,677 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#106b36d' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:37:18,678 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#38648ee9' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:37:18,678 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#38648ee9' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:37:18,679 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#1468a455' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:37:18,691 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:37:18,691 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy146] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:37:18,691 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:37:18,692 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:37:18,695 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:37:18,696 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.31' does not yet exist.  Creating now.
2018-03-28 20:37:18,696 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.31]
2018-03-28 20:37:18,697 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:37:18,702 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:37:18,753 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:37:18,889 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 20:37:18,890 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:37:18,890 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 20:37:18,890 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 20:37:18,891 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 20:37:18,892 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:37:18,934 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 20:37:18,935 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 564 ms
2018-03-28 20:37:18,981 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 20:37:18,982 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 20:37:18,982 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 20:37:18,982 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 20:37:18,982 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 20:37:18,982 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 20:37:19,075 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 20:37:19,092 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 20:37:19,115 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 20:37:19,128 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 20:37:19,142 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 20:37:19,194 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 20:37:19,194 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 20:37:19,243 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@579095af: startup date [Wed Mar 28 20:37:18 CST 2018]; root of context hierarchy
2018-03-28 20:37:19,263 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 20:37:19,263 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:37:19,263 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 20:37:19,263 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 20:37:19,264 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 20:37:19,264 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 20:37:19,264 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 20:37:19,264 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:37:19,266 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 20:37:19,266 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 20:37:19,302 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:37:19,302 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:37:19,338 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:37:19,368 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 20:37:19,448 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 20:37:19,498 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 20:37:19,500 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 20:37:19,500 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 20:37:19,501 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:37:19,501 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 20:37:19,503 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 20:37:19,504 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 20:37:19,507 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 20:37:19,508 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.164 seconds (JVM running for 4399.647)
2018-03-28 20:37:19,509 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 20:37:29,752 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:37:29,756 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-28 20:37:29,757 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-28 20:37:29,761 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 4 ms
2018-03-28 20:37:34,962 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:50, serverValue:50}] to localhost:27017
2018-03-28 20:37:38,050 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 20:38:19,142 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 8, active threads = 0, queued tasks = 0, completed tasks = 15], outboundChannelpool size = 3, active threads = 0, queued tasks = 0, completed tasks = 3], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 2, completed tasks = 10]
2018-03-28 20:40:04,180 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@579095af: startup date [Wed Mar 28 20:37:18 CST 2018]; root of context hierarchy
2018-03-28 20:40:04,185 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 20:40:04,187 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 20:40:04,189 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 20:40:04,189 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[1 destination(s)], registry[1 sessions]]]]
2018-03-28 20:40:04,190 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 20:40:04,190 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 20:40:04,191 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 20:40:04,191 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 20:40:04,192 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 20:40:04,192 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 20:40:04,194 INFO (SLF4JLogger.java:71)- Closed connection [connectionId{localValue:50, serverValue:50}] to localhost:27017 because the pool has been closed.
2018-03-28 20:40:04,541 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 20:40:04,542 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 20:40:04,544 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@59fab030: startup date [Wed Mar 28 20:40:04 CST 2018]; root of context hierarchy
2018-03-28 20:40:04,787 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:40:04,799 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:40:04,812 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:40:04,813 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:40:04,813 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:40:04,815 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:40:04,816 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 20:40:04,819 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:40:04,820 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:40:04,822 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:51, serverValue:51}] to localhost:27017
2018-03-28 20:40:04,824 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=491845}
2018-03-28 20:40:04,825 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:40:04,829 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:40:04,834 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:40:04,835 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:40:04,838 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#344bb0b2' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:40:04,838 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#344bb0b2' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:40:04,839 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#23a2538f' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:40:04,841 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5fc8173b' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:40:04,841 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5fc8173b' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:40:04,842 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#960edfb' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:40:04,861 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:40:04,861 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy148] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:40:04,862 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:40:04,863 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:40:04,867 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:40:04,867 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.32' does not yet exist.  Creating now.
2018-03-28 20:40:04,868 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.32]
2018-03-28 20:40:04,868 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:40:04,876 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:40:04,997 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:40:05,136 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 20:40:05,137 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:40:05,137 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 20:40:05,137 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 20:40:05,137 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 20:40:05,139 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:40:05,184 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 20:40:05,184 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 640 ms
2018-03-28 20:40:05,231 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 20:40:05,231 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 20:40:05,231 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 20:40:05,231 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 20:40:05,232 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 20:40:05,232 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 20:40:05,235 WARN (DirectJDKLog.java:180)- Cannot deserialize session attribute [org.apache.shiro.subject.support.DefaultSubjectContext_PRINCIPALS_SESSION_KEY] for session [CD486267678B1CF20FA64971BC8633C9]
2018-03-28 20:40:05,330 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 20:40:05,346 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 20:40:05,370 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 20:40:05,383 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 20:40:05,397 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 20:40:05,455 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 20:40:05,455 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 20:40:05,509 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@59fab030: startup date [Wed Mar 28 20:40:04 CST 2018]; root of context hierarchy
2018-03-28 20:40:05,531 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 20:40:05,532 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:40:05,532 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 20:40:05,532 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 20:40:05,533 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 20:40:05,533 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 20:40:05,533 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 20:40:05,533 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:40:05,534 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 20:40:05,535 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 20:40:05,570 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:40:05,570 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:40:05,603 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:40:05,631 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 20:40:05,707 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 20:40:05,776 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 20:40:05,779 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 20:40:05,779 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 20:40:05,779 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:40:05,780 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 20:40:05,782 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 20:40:05,784 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 20:40:05,788 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 20:40:05,789 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.268 seconds (JVM running for 4565.928)
2018-03-28 20:40:05,791 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 20:40:31,403 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:40:31,406 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-28 20:40:31,407 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-28 20:40:31,413 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 6 ms
2018-03-28 20:40:38,512 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:52, serverValue:52}] to localhost:27017
2018-03-28 20:40:41,298 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 20:41:05,397 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 8, active threads = 0, queued tasks = 0, completed tasks = 12], outboundChannelpool size = 2, active threads = 0, queued tasks = 0, completed tasks = 2], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 2, completed tasks = 5]
2018-03-28 20:42:28,362 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@59fab030: startup date [Wed Mar 28 20:40:04 CST 2018]; root of context hierarchy
2018-03-28 20:42:28,363 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 20:42:28,365 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 20:42:28,366 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 20:42:28,366 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[1 destination(s)], registry[1 sessions]]]]
2018-03-28 20:42:28,366 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 20:42:28,366 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 20:42:28,367 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 20:42:28,367 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 20:42:28,368 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 20:42:28,368 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 20:42:28,370 INFO (SLF4JLogger.java:71)- Closed connection [connectionId{localValue:52, serverValue:52}] to localhost:27017 because the pool has been closed.
2018-03-28 20:42:28,679 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 20:42:28,679 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 20:42:28,682 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@18018d31: startup date [Wed Mar 28 20:42:28 CST 2018]; root of context hierarchy
2018-03-28 20:42:28,962 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:42:28,976 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:42:28,990 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:42:28,991 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:42:28,991 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:42:28,994 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:42:28,994 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 20:42:28,997 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:42:28,998 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:42:29,001 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:53, serverValue:53}] to localhost:27017
2018-03-28 20:42:29,003 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=537240}
2018-03-28 20:42:29,004 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:42:29,008 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:42:29,010 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:42:29,011 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:42:29,014 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#1c848c36' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:42:29,014 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#1c848c36' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:42:29,015 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#fe79af9' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:42:29,016 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6052ccba' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:42:29,016 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6052ccba' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:42:29,017 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#10a6cf5a' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:42:29,029 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:42:29,030 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy150] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:42:29,030 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:42:29,031 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:42:29,035 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:42:29,036 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.33' does not yet exist.  Creating now.
2018-03-28 20:42:29,037 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.33]
2018-03-28 20:42:29,037 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:42:29,042 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:42:29,129 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:42:29,277 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 20:42:29,278 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:42:29,278 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 20:42:29,279 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 20:42:29,280 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 20:42:29,282 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:42:29,315 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 20:42:29,315 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 633 ms
2018-03-28 20:42:29,362 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 20:42:29,363 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 20:42:29,363 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 20:42:29,363 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 20:42:29,363 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 20:42:29,363 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 20:42:29,366 WARN (DirectJDKLog.java:180)- Cannot deserialize session attribute [org.apache.shiro.subject.support.DefaultSubjectContext_PRINCIPALS_SESSION_KEY] for session [62B3FC1ED3E1AC7E671FB00793C677D2]
2018-03-28 20:42:29,458 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 20:42:29,473 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 20:42:29,497 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 20:42:29,509 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 20:42:29,523 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 20:42:29,574 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 20:42:29,574 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 20:42:29,625 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@18018d31: startup date [Wed Mar 28 20:42:28 CST 2018]; root of context hierarchy
2018-03-28 20:42:29,645 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 20:42:29,645 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:42:29,646 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 20:42:29,646 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 20:42:29,646 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 20:42:29,646 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 20:42:29,646 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 20:42:29,647 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:42:29,648 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 20:42:29,648 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 20:42:29,686 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:42:29,686 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:42:29,719 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:42:29,747 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 20:42:29,822 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 20:42:29,871 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 20:42:29,873 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 20:42:29,873 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 20:42:29,873 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:42:29,874 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 20:42:29,875 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 20:42:29,876 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 20:42:29,880 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 20:42:29,881 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.225 seconds (JVM running for 4710.02)
2018-03-28 20:42:29,882 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 20:42:37,108 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:42:37,111 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-28 20:42:37,111 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-28 20:42:37,120 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 8 ms
2018-03-28 20:42:37,919 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:42:37,920 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:42:37,921 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:42:45,091 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:54, serverValue:54}] to localhost:27017
2018-03-28 20:42:48,442 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 20:43:29,523 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 8, active threads = 0, queued tasks = 0, completed tasks = 15], outboundChannelpool size = 3, active threads = 0, queued tasks = 0, completed tasks = 3], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 2, completed tasks = 10]
2018-03-28 20:46:34,096 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@18018d31: startup date [Wed Mar 28 20:42:28 CST 2018]; root of context hierarchy
2018-03-28 20:46:34,099 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 20:46:34,101 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 20:46:34,107 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 20:46:34,107 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[1 destination(s)], registry[1 sessions]]]]
2018-03-28 20:46:34,107 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 20:46:34,108 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 20:46:34,109 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 20:46:34,109 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 20:46:34,109 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 20:46:34,110 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 20:46:34,112 INFO (SLF4JLogger.java:71)- Closed connection [connectionId{localValue:54, serverValue:54}] to localhost:27017 because the pool has been closed.
2018-03-28 20:46:34,496 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 20:46:34,497 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 20:46:34,500 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@685fc175: startup date [Wed Mar 28 20:46:34 CST 2018]; root of context hierarchy
2018-03-28 20:46:34,815 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:46:34,828 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:46:34,843 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:46:34,844 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:46:34,845 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:46:34,847 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:46:34,848 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 20:46:34,851 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:46:34,852 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:46:34,854 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:55, serverValue:55}] to localhost:27017
2018-03-28 20:46:34,856 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=471713}
2018-03-28 20:46:34,857 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:46:34,860 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:46:34,863 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:46:34,865 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:46:34,867 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2d7e49c' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:46:34,867 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2d7e49c' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:46:34,868 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5b112d7e' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:46:34,869 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#202f0b59' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:46:34,870 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#202f0b59' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:46:34,870 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6e247a1c' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:46:34,884 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:46:34,884 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy152] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:46:34,885 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:46:34,885 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:46:34,889 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:46:34,890 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.34' does not yet exist.  Creating now.
2018-03-28 20:46:34,891 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.34]
2018-03-28 20:46:34,891 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:46:34,898 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:46:34,979 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:46:35,095 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 20:46:35,095 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:46:35,095 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 20:46:35,096 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 20:46:35,096 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 20:46:35,097 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:46:35,131 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 20:46:35,131 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 631 ms
2018-03-28 20:46:35,181 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 20:46:35,182 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 20:46:35,182 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 20:46:35,182 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 20:46:35,182 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 20:46:35,182 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 20:46:35,185 WARN (DirectJDKLog.java:180)- Cannot deserialize session attribute [org.apache.shiro.subject.support.DefaultSubjectContext_PRINCIPALS_SESSION_KEY] for session [5AB008A1234E50A7CB50CC95C8D99CD3]
2018-03-28 20:46:35,317 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 20:46:35,333 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 20:46:35,357 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 20:46:35,369 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 20:46:35,383 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 20:46:35,440 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 20:46:35,440 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 20:46:35,489 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@685fc175: startup date [Wed Mar 28 20:46:34 CST 2018]; root of context hierarchy
2018-03-28 20:46:35,509 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 20:46:35,509 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:46:35,509 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 20:46:35,509 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 20:46:35,510 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 20:46:35,510 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 20:46:35,510 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 20:46:35,510 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:46:35,511 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 20:46:35,512 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 20:46:35,547 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:46:35,547 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:46:35,580 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:46:35,609 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 20:46:35,690 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 20:46:35,741 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 20:46:35,744 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 20:46:35,744 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 20:46:35,744 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:46:35,744 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 20:46:35,746 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 20:46:35,748 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 20:46:35,752 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 20:46:35,753 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.281 seconds (JVM running for 4955.892)
2018-03-28 20:46:35,754 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 20:47:15,916 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@685fc175: startup date [Wed Mar 28 20:46:34 CST 2018]; root of context hierarchy
2018-03-28 20:47:15,917 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 20:47:15,917 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 20:47:15,917 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:47:15,917 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 20:47:15,918 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 20:47:15,918 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 20:47:15,918 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 20:47:15,918 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 20:47:15,919 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 20:47:16,239 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 20:47:16,239 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 20:47:16,241 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1a03df4b: startup date [Wed Mar 28 20:47:16 CST 2018]; root of context hierarchy
2018-03-28 20:47:16,492 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:47:16,507 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:47:16,519 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:47:16,519 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:47:16,520 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:47:16,522 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:47:16,523 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 20:47:16,525 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:47:16,526 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:47:16,529 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:56, serverValue:56}] to localhost:27017
2018-03-28 20:47:16,530 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=562109}
2018-03-28 20:47:16,532 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:47:16,537 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:47:16,541 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:47:16,543 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:47:16,547 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4a758e54' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:47:16,548 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4a758e54' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:47:16,549 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#3378db76' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:47:16,550 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#70bb81e6' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:47:16,550 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#70bb81e6' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:47:16,550 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#38738579' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:47:16,565 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:47:16,565 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy154] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:47:16,565 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:47:16,566 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:47:16,569 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:47:16,570 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.35' does not yet exist.  Creating now.
2018-03-28 20:47:16,570 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.35]
2018-03-28 20:47:16,571 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:47:16,576 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:47:16,644 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:47:16,780 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 20:47:16,780 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:47:16,781 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 20:47:16,781 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 20:47:16,781 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 20:47:16,782 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:47:16,822 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 20:47:16,822 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 581 ms
2018-03-28 20:47:16,869 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 20:47:16,869 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 20:47:16,869 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 20:47:16,870 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 20:47:16,870 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 20:47:16,870 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 20:47:16,963 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 20:47:16,979 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 20:47:17,005 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 20:47:17,017 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 20:47:17,031 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 20:47:17,084 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 20:47:17,084 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 20:47:17,135 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1a03df4b: startup date [Wed Mar 28 20:47:16 CST 2018]; root of context hierarchy
2018-03-28 20:47:17,155 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 20:47:17,155 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:47:17,155 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 20:47:17,156 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 20:47:17,156 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 20:47:17,156 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 20:47:17,156 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 20:47:17,156 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:47:17,159 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 20:47:17,159 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 20:47:17,203 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:47:17,203 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:47:17,250 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:47:17,286 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 20:47:17,384 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 20:47:17,448 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 20:47:17,451 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 20:47:17,451 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 20:47:17,451 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:47:17,451 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 20:47:17,453 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 20:47:17,455 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 20:47:17,459 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 20:47:17,459 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.239 seconds (JVM running for 4997.599)
2018-03-28 20:47:17,461 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 20:48:17,032 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-28 20:48:25,540 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1a03df4b: startup date [Wed Mar 28 20:47:16 CST 2018]; root of context hierarchy
2018-03-28 20:48:25,541 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 20:48:25,542 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 20:48:25,542 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:48:25,542 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 20:48:25,542 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 20:48:25,542 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 20:48:25,543 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 20:48:25,543 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 20:48:25,543 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 20:48:25,845 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 20:48:25,846 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 20:48:25,848 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7616eb50: startup date [Wed Mar 28 20:48:25 CST 2018]; root of context hierarchy
2018-03-28 20:48:26,119 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:48:26,134 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:48:26,145 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:48:26,146 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:48:26,147 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:48:26,149 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:48:26,150 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 20:48:26,152 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:48:26,153 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:48:26,155 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:57, serverValue:57}] to localhost:27017
2018-03-28 20:48:26,157 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=394739}
2018-03-28 20:48:26,157 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:48:26,160 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:48:26,163 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:48:26,164 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:48:26,166 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2c425469' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:48:26,166 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2c425469' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:48:26,167 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6002d7dc' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:48:26,168 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7c4e327a' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:48:26,168 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7c4e327a' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:48:26,169 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#cc02fe7' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:48:26,181 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:48:26,181 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy156] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:48:26,181 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:48:26,182 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:48:26,185 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:48:26,186 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.36' does not yet exist.  Creating now.
2018-03-28 20:48:26,186 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.36]
2018-03-28 20:48:26,186 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:48:26,192 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:48:26,291 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:48:26,434 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 20:48:26,435 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:48:26,435 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 20:48:26,435 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 20:48:26,436 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 20:48:26,437 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:48:26,487 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 20:48:26,487 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 639 ms
2018-03-28 20:48:26,538 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 20:48:26,538 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 20:48:26,539 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 20:48:26,539 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 20:48:26,539 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 20:48:26,539 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 20:48:26,636 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 20:48:26,652 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 20:48:26,677 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 20:48:26,689 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 20:48:26,703 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 20:48:26,756 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 20:48:26,756 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 20:48:26,804 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7616eb50: startup date [Wed Mar 28 20:48:25 CST 2018]; root of context hierarchy
2018-03-28 20:48:26,825 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 20:48:26,825 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:48:26,825 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 20:48:26,826 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 20:48:26,826 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 20:48:26,826 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 20:48:26,826 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 20:48:26,826 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:48:26,829 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 20:48:26,829 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 20:48:26,863 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:48:26,864 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:48:26,897 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:48:26,925 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 20:48:27,003 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 20:48:27,052 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 20:48:27,054 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 20:48:27,054 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 20:48:27,054 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:48:27,054 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 20:48:27,056 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 20:48:27,058 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 20:48:27,063 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 20:48:27,064 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.241 seconds (JVM running for 5067.203)
2018-03-28 20:48:27,065 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 20:49:26,704 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-28 20:50:32,450 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7616eb50: startup date [Wed Mar 28 20:48:25 CST 2018]; root of context hierarchy
2018-03-28 20:50:32,452 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 20:50:32,452 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 20:50:32,452 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:50:32,452 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 20:50:32,453 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 20:50:32,453 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 20:50:32,453 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 20:50:32,453 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 20:50:32,453 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 20:50:32,766 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 20:50:32,767 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 20:50:32,768 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5e248ba2: startup date [Wed Mar 28 20:50:32 CST 2018]; root of context hierarchy
2018-03-28 20:50:33,021 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:33,037 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:33,056 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:33,057 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:33,058 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:33,062 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:33,063 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 20:50:33,067 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:33,068 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:33,071 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:58, serverValue:58}] to localhost:27017
2018-03-28 20:50:33,074 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=460660}
2018-03-28 20:50:33,076 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:33,081 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:33,085 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:33,086 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:33,089 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4bf8b72a' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:33,089 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4bf8b72a' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:33,090 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5d7e3a4a' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:33,091 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#687202eb' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:33,091 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#687202eb' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:33,092 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#29899cc' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:33,106 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:33,106 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy158] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:33,107 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:33,107 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:33,111 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:33,112 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.37' does not yet exist.  Creating now.
2018-03-28 20:50:33,113 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.37]
2018-03-28 20:50:33,113 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:33,119 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:33,202 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:50:33,357 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 20:50:33,358 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:50:33,359 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 20:50:33,359 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 20:50:33,359 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 20:50:33,361 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:50:33,403 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 20:50:33,403 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 635 ms
2018-03-28 20:50:33,449 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 20:50:33,450 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 20:50:33,450 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 20:50:33,450 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 20:50:33,450 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 20:50:33,450 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 20:50:33,552 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 20:50:33,567 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 20:50:33,590 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 20:50:33,603 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 20:50:33,616 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 20:50:33,674 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 20:50:33,674 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 20:50:33,739 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5e248ba2: startup date [Wed Mar 28 20:50:32 CST 2018]; root of context hierarchy
2018-03-28 20:50:33,762 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 20:50:33,762 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:50:33,762 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 20:50:33,763 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 20:50:33,763 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 20:50:33,763 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 20:50:33,763 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 20:50:33,763 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:50:33,765 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 20:50:33,765 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 20:50:33,803 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:50:33,803 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:50:33,835 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:50:33,863 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 20:50:33,943 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 20:50:33,998 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 20:50:34,002 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 20:50:34,003 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 20:50:34,003 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:50:34,003 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 20:50:34,006 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 20:50:34,007 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 20:50:34,010 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 20:50:34,011 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.264 seconds (JVM running for 5194.15)
2018-03-28 20:50:34,012 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 20:50:52,117 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5e248ba2: startup date [Wed Mar 28 20:50:32 CST 2018]; root of context hierarchy
2018-03-28 20:50:52,119 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 20:50:52,119 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 20:50:52,120 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:50:52,120 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 20:50:52,121 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 20:50:52,121 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 20:50:52,121 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 20:50:52,122 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 20:50:52,123 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 20:50:52,516 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 20:50:52,517 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 20:50:52,518 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@50a803d5: startup date [Wed Mar 28 20:50:52 CST 2018]; root of context hierarchy
2018-03-28 20:50:52,759 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:52,772 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:52,783 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:52,784 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:52,784 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:52,786 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:52,787 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 20:50:52,790 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:52,790 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:52,792 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:59, serverValue:59}] to localhost:27017
2018-03-28 20:50:52,793 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=317371}
2018-03-28 20:50:52,795 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:52,800 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:52,804 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:52,806 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:52,809 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#21d77551' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:52,810 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#21d77551' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:52,811 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#1f3a8a79' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:52,812 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2fc26eb2' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:52,813 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2fc26eb2' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:52,813 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#16b4db82' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:52,826 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:52,826 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy160] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:52,827 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:52,828 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:52,831 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:52,832 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.38' does not yet exist.  Creating now.
2018-03-28 20:50:52,832 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.38]
2018-03-28 20:50:52,833 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:52,838 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:50:52,939 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:50:53,078 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 20:50:53,079 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:50:53,079 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 20:50:53,080 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 20:50:53,080 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 20:50:53,081 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:50:53,112 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 20:50:53,112 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 594 ms
2018-03-28 20:50:53,160 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 20:50:53,161 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 20:50:53,161 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 20:50:53,161 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 20:50:53,161 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 20:50:53,161 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 20:50:53,253 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 20:50:53,269 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 20:50:53,293 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 20:50:53,307 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 20:50:53,321 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 20:50:53,373 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 20:50:53,373 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 20:50:53,423 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@50a803d5: startup date [Wed Mar 28 20:50:52 CST 2018]; root of context hierarchy
2018-03-28 20:50:53,444 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 20:50:53,444 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:50:53,445 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 20:50:53,445 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 20:50:53,445 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 20:50:53,445 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 20:50:53,446 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 20:50:53,446 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:50:53,447 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 20:50:53,448 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 20:50:53,484 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:50:53,485 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:50:53,517 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:50:53,545 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 20:50:53,628 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 20:50:53,694 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 20:50:53,697 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 20:50:53,697 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 20:50:53,697 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:50:53,698 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 20:50:53,700 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 20:50:53,701 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 20:50:53,705 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 20:50:53,706 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.209 seconds (JVM running for 5213.845)
2018-03-28 20:50:53,707 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 20:51:53,321 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-28 20:52:38,080 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@50a803d5: startup date [Wed Mar 28 20:50:52 CST 2018]; root of context hierarchy
2018-03-28 20:52:38,081 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 20:52:38,081 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 20:52:38,081 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:52:38,081 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 20:52:38,081 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 20:52:38,081 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 20:52:38,083 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 20:52:38,084 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 20:52:38,084 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 20:52:38,426 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 20:52:38,426 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 20:52:38,428 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4f3460dd: startup date [Wed Mar 28 20:52:38 CST 2018]; root of context hierarchy
2018-03-28 20:52:38,666 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:52:38,680 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:52:38,695 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:52:38,695 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:52:38,696 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:52:38,698 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:52:38,699 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 20:52:38,701 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:52:38,702 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:52:38,705 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:60, serverValue:60}] to localhost:27017
2018-03-28 20:52:38,707 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=341055}
2018-03-28 20:52:38,708 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:52:38,711 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:52:38,714 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:52:38,715 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:52:38,717 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#31a28f1' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:52:38,717 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#31a28f1' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:52:38,718 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6eff3c8' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:52:38,719 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7f94e5e9' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:52:38,719 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7f94e5e9' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:52:38,719 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6317b6ea' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:52:38,733 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:52:38,734 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy162] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:52:38,735 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:52:38,735 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:52:38,739 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:52:38,740 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.39' does not yet exist.  Creating now.
2018-03-28 20:52:38,741 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.39]
2018-03-28 20:52:38,741 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:52:38,746 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:52:38,816 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:52:38,975 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 20:52:38,976 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:52:38,976 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 20:52:38,977 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 20:52:38,977 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 20:52:38,978 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:52:39,025 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 20:52:39,026 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 598 ms
2018-03-28 20:52:39,084 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 20:52:39,085 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 20:52:39,085 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 20:52:39,085 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 20:52:39,085 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 20:52:39,085 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 20:52:39,173 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 20:52:39,190 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 20:52:39,214 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 20:52:39,226 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 20:52:39,240 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 20:52:39,289 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 20:52:39,290 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 20:52:39,336 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4f3460dd: startup date [Wed Mar 28 20:52:38 CST 2018]; root of context hierarchy
2018-03-28 20:52:39,355 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 20:52:39,355 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:52:39,356 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 20:52:39,356 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 20:52:39,357 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 20:52:39,357 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 20:52:39,357 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 20:52:39,358 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:52:39,360 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 20:52:39,360 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 20:52:39,401 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:52:39,401 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:52:39,433 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:52:39,461 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 20:52:39,536 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 20:52:39,586 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 20:52:39,588 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 20:52:39,588 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 20:52:39,589 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:52:39,589 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 20:52:39,591 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 20:52:39,592 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 20:52:39,596 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 20:52:39,596 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.191 seconds (JVM running for 5319.736)
2018-03-28 20:52:39,598 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 20:53:39,241 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-28 20:53:53,453 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4f3460dd: startup date [Wed Mar 28 20:52:38 CST 2018]; root of context hierarchy
2018-03-28 20:53:53,454 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 20:53:53,454 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 20:53:53,455 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:53:53,455 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 20:53:53,455 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 20:53:53,455 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 20:53:53,455 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 20:53:53,456 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 20:53:53,456 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 20:53:53,803 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 20:53:53,804 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 20:53:53,805 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5a897c61: startup date [Wed Mar 28 20:53:53 CST 2018]; root of context hierarchy
2018-03-28 20:53:54,062 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:53:54,077 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:53:54,092 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:53:54,093 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:53:54,094 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:53:54,097 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:53:54,098 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 20:53:54,101 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:53:54,102 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:53:54,105 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:61, serverValue:61}] to localhost:27017
2018-03-28 20:53:54,107 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=457503}
2018-03-28 20:53:54,108 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:53:54,113 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:53:54,116 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:53:54,118 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:53:54,120 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4e7de2d' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:53:54,121 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4e7de2d' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:53:54,122 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7c43c749' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:53:54,123 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#568e172d' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:53:54,123 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#568e172d' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:53:54,124 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#46bd68dd' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:53:54,139 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:53:54,139 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy164] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:53:54,140 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:53:54,140 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:53:54,146 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:53:54,146 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.40' does not yet exist.  Creating now.
2018-03-28 20:53:54,147 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.40]
2018-03-28 20:53:54,148 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:53:54,155 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:53:54,226 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:53:54,361 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 20:53:54,362 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:53:54,363 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 20:53:54,363 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 20:53:54,363 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 20:53:54,364 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:53:54,395 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 20:53:54,395 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 590 ms
2018-03-28 20:53:54,441 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 20:53:54,441 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 20:53:54,441 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 20:53:54,441 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 20:53:54,441 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 20:53:54,442 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 20:53:54,532 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 20:53:54,547 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 20:53:54,571 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 20:53:54,583 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 20:53:54,597 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 20:53:54,646 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 20:53:54,647 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 20:53:54,696 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5a897c61: startup date [Wed Mar 28 20:53:53 CST 2018]; root of context hierarchy
2018-03-28 20:53:54,716 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 20:53:54,717 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:53:54,717 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 20:53:54,717 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 20:53:54,717 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 20:53:54,717 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 20:53:54,718 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 20:53:54,718 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:53:54,719 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 20:53:54,719 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 20:53:54,755 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:53:54,755 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:53:54,788 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:53:54,815 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 20:53:54,891 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 20:53:54,938 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 20:53:54,940 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 20:53:54,940 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 20:53:54,941 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:53:54,941 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 20:53:54,943 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 20:53:54,944 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 20:53:54,947 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 20:53:54,948 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.164 seconds (JVM running for 5395.087)
2018-03-28 20:53:54,949 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 20:54:11,655 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5a897c61: startup date [Wed Mar 28 20:53:53 CST 2018]; root of context hierarchy
2018-03-28 20:54:11,656 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 20:54:11,657 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 20:54:11,657 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:54:11,657 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 20:54:11,657 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 20:54:11,657 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 20:54:11,658 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 20:54:11,658 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 20:54:11,658 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 20:54:11,982 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 20:54:11,983 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 20:54:11,985 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1792f5: startup date [Wed Mar 28 20:54:11 CST 2018]; root of context hierarchy
2018-03-28 20:54:12,233 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:12,247 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:12,259 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:12,260 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:12,261 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:12,263 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:12,264 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 20:54:12,266 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:12,267 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:12,269 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:62, serverValue:62}] to localhost:27017
2018-03-28 20:54:12,270 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=335923}
2018-03-28 20:54:12,271 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:12,274 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:12,277 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:12,278 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:12,280 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#69d4b5fe' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:12,281 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#69d4b5fe' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:12,282 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4f2018d' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:12,283 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#371e4edc' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:12,284 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#371e4edc' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:12,284 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#b148647' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:12,297 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:12,298 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy166] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:12,298 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:12,299 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:12,303 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:12,303 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.41' does not yet exist.  Creating now.
2018-03-28 20:54:12,304 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.41]
2018-03-28 20:54:12,304 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:12,312 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:12,383 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:54:12,541 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 20:54:12,542 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:54:12,542 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 20:54:12,542 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 20:54:12,543 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 20:54:12,544 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:54:12,576 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 20:54:12,577 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 592 ms
2018-03-28 20:54:12,624 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 20:54:12,624 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 20:54:12,625 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 20:54:12,625 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 20:54:12,625 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 20:54:12,625 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 20:54:12,718 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 20:54:12,734 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 20:54:12,759 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 20:54:12,772 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 20:54:12,786 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 20:54:12,859 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 20:54:12,859 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 20:54:12,915 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1792f5: startup date [Wed Mar 28 20:54:11 CST 2018]; root of context hierarchy
2018-03-28 20:54:12,940 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 20:54:12,940 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:54:12,940 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 20:54:12,941 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 20:54:12,941 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 20:54:12,941 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 20:54:12,941 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 20:54:12,941 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:54:12,943 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 20:54:12,944 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 20:54:12,980 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:54:12,981 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:54:13,016 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:54:13,044 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 20:54:13,120 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 20:54:13,168 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 20:54:13,169 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 20:54:13,170 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 20:54:13,170 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:54:13,170 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 20:54:13,172 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 20:54:13,173 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 20:54:13,176 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 20:54:13,177 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.216 seconds (JVM running for 5413.316)
2018-03-28 20:54:13,178 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 20:54:31,882 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1792f5: startup date [Wed Mar 28 20:54:11 CST 2018]; root of context hierarchy
2018-03-28 20:54:31,883 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 20:54:31,884 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 20:54:31,884 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:54:31,884 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 20:54:31,884 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 20:54:31,884 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 20:54:31,885 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 20:54:31,885 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 20:54:31,885 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 20:54:32,237 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 20:54:32,237 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 20:54:32,239 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4c3843b3: startup date [Wed Mar 28 20:54:32 CST 2018]; root of context hierarchy
2018-03-28 20:54:32,546 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:32,563 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:32,578 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:32,579 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:32,580 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:32,583 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:32,584 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 20:54:32,587 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:32,589 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:32,592 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:63, serverValue:63}] to localhost:27017
2018-03-28 20:54:32,594 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=370660}
2018-03-28 20:54:32,595 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:32,599 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:32,604 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:32,606 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:32,612 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#79e0947a' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:32,613 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#79e0947a' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:32,614 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#153ef223' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:32,615 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#59a93202' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:32,616 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#59a93202' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:32,617 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#25df9fcd' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:32,644 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:32,644 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy168] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:32,646 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:32,647 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:32,654 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:32,655 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.42' does not yet exist.  Creating now.
2018-03-28 20:54:32,655 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.42]
2018-03-28 20:54:32,656 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:32,666 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:54:32,772 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:54:32,934 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 20:54:32,935 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:54:32,935 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 20:54:32,935 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 20:54:32,935 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 20:54:32,936 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:54:32,974 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 20:54:32,974 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 735 ms
2018-03-28 20:54:33,044 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 20:54:33,045 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 20:54:33,045 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 20:54:33,045 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 20:54:33,046 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 20:54:33,047 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 20:54:33,151 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 20:54:33,168 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 20:54:33,194 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 20:54:33,207 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 20:54:33,223 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 20:54:33,282 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 20:54:33,282 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 20:54:33,346 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4c3843b3: startup date [Wed Mar 28 20:54:32 CST 2018]; root of context hierarchy
2018-03-28 20:54:33,371 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 20:54:33,371 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:54:33,371 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 20:54:33,371 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 20:54:33,372 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 20:54:33,372 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 20:54:33,372 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 20:54:33,373 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:54:33,374 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 20:54:33,375 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 20:54:33,412 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:54:33,413 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:54:33,446 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:54:33,475 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 20:54:33,553 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 20:54:33,603 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 20:54:33,605 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 20:54:33,605 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 20:54:33,605 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:54:33,605 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 20:54:33,608 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 20:54:33,610 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 20:54:33,614 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 20:54:33,615 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.406 seconds (JVM running for 5433.754)
2018-03-28 20:54:33,617 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 20:55:32,579 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4c3843b3: startup date [Wed Mar 28 20:54:32 CST 2018]; root of context hierarchy
2018-03-28 20:55:32,581 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 20:55:32,581 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 20:55:32,585 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:55:32,586 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 20:55:32,587 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 20:55:32,587 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 20:55:32,598 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 20:55:32,600 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 20:55:32,600 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 20:55:33,049 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 20:55:33,049 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 20:55:33,052 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2818bec6: startup date [Wed Mar 28 20:55:33 CST 2018]; root of context hierarchy
2018-03-28 20:55:33,318 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:33,376 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:33,416 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:33,417 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:33,418 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:33,421 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:33,422 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 20:55:33,426 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:33,427 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:33,429 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:64, serverValue:64}] to localhost:27017
2018-03-28 20:55:33,431 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=459871}
2018-03-28 20:55:33,433 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:33,438 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:33,442 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:33,444 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:33,447 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#3b6f1e36' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:33,447 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#3b6f1e36' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:33,448 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#1457e270' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:33,449 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7bf5ccfa' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:33,450 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7bf5ccfa' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:33,450 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5a65aa47' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:33,466 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:33,467 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy170] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:33,467 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:33,467 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:33,471 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:33,472 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.43' does not yet exist.  Creating now.
2018-03-28 20:55:33,473 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.43]
2018-03-28 20:55:33,473 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:33,478 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:33,575 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:55:33,722 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 20:55:33,723 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:55:33,723 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 20:55:33,723 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 20:55:33,723 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 20:55:33,724 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:55:33,776 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 20:55:33,777 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 725 ms
2018-03-28 20:55:33,825 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 20:55:33,825 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 20:55:33,825 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 20:55:33,825 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 20:55:33,825 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 20:55:33,826 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 20:55:33,945 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 20:55:33,967 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 20:55:34,002 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 20:55:34,015 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 20:55:34,030 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 20:55:34,088 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 20:55:34,089 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 20:55:34,149 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2818bec6: startup date [Wed Mar 28 20:55:33 CST 2018]; root of context hierarchy
2018-03-28 20:55:34,171 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 20:55:34,171 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:55:34,171 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 20:55:34,172 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 20:55:34,172 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 20:55:34,172 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 20:55:34,172 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 20:55:34,172 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:55:34,174 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 20:55:34,174 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 20:55:34,211 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:55:34,212 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:55:34,245 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:55:34,275 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 20:55:34,355 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 20:55:34,406 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 20:55:34,407 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 20:55:34,408 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 20:55:34,408 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:55:34,408 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 20:55:34,410 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 20:55:34,411 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 20:55:34,415 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 20:55:34,415 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.386 seconds (JVM running for 5494.554)
2018-03-28 20:55:34,417 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 20:55:38,848 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2818bec6: startup date [Wed Mar 28 20:55:33 CST 2018]; root of context hierarchy
2018-03-28 20:55:38,849 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 20:55:38,850 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 20:55:38,850 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:55:38,850 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 20:55:38,850 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 20:55:38,850 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 20:55:38,850 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 20:55:38,850 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 20:55:38,851 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 20:55:39,342 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 20:55:39,342 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 20:55:39,344 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7ce795af: startup date [Wed Mar 28 20:55:39 CST 2018]; root of context hierarchy
2018-03-28 20:55:39,591 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:39,603 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:39,614 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:39,615 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:39,616 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:39,618 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:39,619 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 20:55:39,622 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:39,623 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:39,624 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:65, serverValue:65}] to localhost:27017
2018-03-28 20:55:39,625 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=412107}
2018-03-28 20:55:39,627 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:39,632 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:39,635 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:39,637 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:39,639 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#3ad48b05' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:39,640 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#3ad48b05' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:39,641 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#49cfd96e' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:39,642 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#72c4504e' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:39,642 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#72c4504e' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:39,643 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#63dfd0d6' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:39,654 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:39,654 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy172] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:39,655 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:39,655 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:39,658 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:39,659 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.44' does not yet exist.  Creating now.
2018-03-28 20:55:39,660 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.44]
2018-03-28 20:55:39,660 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:39,666 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:55:39,729 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:55:39,884 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 20:55:39,885 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:55:39,886 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 20:55:39,886 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 20:55:39,886 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 20:55:39,887 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:55:39,927 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 20:55:39,927 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 583 ms
2018-03-28 20:55:39,987 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 20:55:39,988 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 20:55:39,988 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 20:55:39,988 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 20:55:39,988 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 20:55:39,988 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 20:55:40,091 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 20:55:40,110 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 20:55:40,137 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 20:55:40,149 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 20:55:40,164 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 20:55:40,214 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 20:55:40,214 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 20:55:40,265 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7ce795af: startup date [Wed Mar 28 20:55:39 CST 2018]; root of context hierarchy
2018-03-28 20:55:40,285 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 20:55:40,285 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:55:40,286 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 20:55:40,286 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 20:55:40,286 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 20:55:40,286 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 20:55:40,286 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 20:55:40,286 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:55:40,288 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 20:55:40,288 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 20:55:40,326 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:55:40,326 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:55:40,370 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:55:40,407 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 20:55:40,487 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 20:55:40,541 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 20:55:40,543 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 20:55:40,544 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 20:55:40,544 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:55:40,545 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 20:55:40,546 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 20:55:40,548 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 20:55:40,551 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 20:55:40,552 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.229 seconds (JVM running for 5500.691)
2018-03-28 20:55:40,554 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 20:56:40,164 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-28 20:58:42,648 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7ce795af: startup date [Wed Mar 28 20:55:39 CST 2018]; root of context hierarchy
2018-03-28 20:58:42,649 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 20:58:42,650 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 20:58:42,650 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:58:42,650 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 20:58:42,650 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 20:58:42,651 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 20:58:42,651 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 20:58:42,651 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 20:58:42,651 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 20:58:43,099 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 20:58:43,099 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 20:58:43,101 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@44243192: startup date [Wed Mar 28 20:58:43 CST 2018]; root of context hierarchy
2018-03-28 20:58:43,360 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:58:43,373 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:58:43,384 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:58:43,385 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:58:43,385 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:58:43,387 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:58:43,388 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 20:58:43,390 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:58:43,391 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:58:43,393 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:66, serverValue:66}] to localhost:27017
2018-03-28 20:58:43,395 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=370660}
2018-03-28 20:58:43,395 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:58:43,398 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:58:43,401 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:58:43,402 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:58:43,404 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6aab8ab7' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:58:43,404 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6aab8ab7' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:58:43,405 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5177a839' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:58:43,405 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2b11090b' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:58:43,406 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2b11090b' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:58:43,406 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7c91eff8' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:58:43,417 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:58:43,417 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy174] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:58:43,418 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:58:43,418 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:58:43,423 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:58:43,424 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.45' does not yet exist.  Creating now.
2018-03-28 20:58:43,425 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.45]
2018-03-28 20:58:43,425 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:58:43,431 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 20:58:43,541 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:58:43,683 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 20:58:43,684 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:58:43,685 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 20:58:43,685 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 20:58:43,685 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 20:58:43,686 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 20:58:43,721 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 20:58:43,721 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 620 ms
2018-03-28 20:58:43,769 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 20:58:43,770 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 20:58:43,770 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 20:58:43,770 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 20:58:43,770 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 20:58:43,770 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 20:58:43,866 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 20:58:43,882 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 20:58:43,906 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 20:58:43,919 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 20:58:43,934 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 20:58:43,983 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 20:58:43,983 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 20:58:44,039 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@44243192: startup date [Wed Mar 28 20:58:43 CST 2018]; root of context hierarchy
2018-03-28 20:58:44,058 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 20:58:44,059 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:58:44,059 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 20:58:44,059 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 20:58:44,059 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 20:58:44,060 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 20:58:44,060 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 20:58:44,060 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 20:58:44,061 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 20:58:44,062 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 20:58:44,097 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:58:44,097 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:58:44,130 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 20:58:44,158 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 20:58:44,238 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 20:58:44,295 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 20:58:44,297 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 20:58:44,297 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 20:58:44,297 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 20:58:44,297 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 20:58:44,299 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 20:58:44,300 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 20:58:44,303 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 20:58:44,304 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.225 seconds (JVM running for 5684.443)
2018-03-28 20:58:44,305 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 20:59:43,934 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-28 21:00:16,390 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@44243192: startup date [Wed Mar 28 20:58:43 CST 2018]; root of context hierarchy
2018-03-28 21:00:16,391 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 21:00:16,391 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 21:00:16,391 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 21:00:16,391 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 21:00:16,391 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 21:00:16,391 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 21:00:16,392 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 21:00:16,392 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 21:00:16,392 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 21:00:16,722 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 21:00:16,722 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 21:00:16,725 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1178a478: startup date [Wed Mar 28 21:00:16 CST 2018]; root of context hierarchy
2018-03-28 21:00:16,965 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:16,976 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:16,987 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:16,988 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:16,988 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:16,990 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:16,991 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 21:00:16,993 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:16,994 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:16,996 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:67, serverValue:67}] to localhost:27017
2018-03-28 21:00:16,998 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=342239}
2018-03-28 21:00:16,998 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:17,002 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:17,004 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:17,006 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:17,007 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6bbb4830' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:17,008 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6bbb4830' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:17,008 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7dfd11cc' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:17,009 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#61c489d' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:17,010 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#61c489d' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:17,010 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#64ac52cf' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:17,021 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:17,022 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy176] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:17,022 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:17,022 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:17,025 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:17,026 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.46' does not yet exist.  Creating now.
2018-03-28 21:00:17,026 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.46]
2018-03-28 21:00:17,027 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:17,032 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:17,086 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:00:17,193 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 21:00:17,194 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:00:17,195 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 21:00:17,195 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 21:00:17,195 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 21:00:17,196 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:00:17,229 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 21:00:17,230 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 505 ms
2018-03-28 21:00:17,275 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 21:00:17,276 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 21:00:17,276 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 21:00:17,276 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 21:00:17,276 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 21:00:17,276 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 21:00:17,366 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 21:00:17,381 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 21:00:17,410 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 21:00:17,429 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 21:00:17,443 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 21:00:17,497 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 21:00:17,497 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 21:00:17,564 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1178a478: startup date [Wed Mar 28 21:00:16 CST 2018]; root of context hierarchy
2018-03-28 21:00:17,589 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 21:00:17,589 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 21:00:17,590 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 21:00:17,590 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 21:00:17,590 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 21:00:17,590 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 21:00:17,591 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 21:00:17,591 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 21:00:17,592 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 21:00:17,593 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 21:00:17,632 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:00:17,632 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:00:17,671 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:00:17,713 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 21:00:17,795 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 21:00:17,858 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 21:00:17,860 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 21:00:17,861 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 21:00:17,861 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 21:00:17,861 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 21:00:17,864 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 21:00:17,865 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 21:00:17,869 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 21:00:17,870 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.168 seconds (JVM running for 5778.009)
2018-03-28 21:00:17,871 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 21:00:28,425 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1178a478: startup date [Wed Mar 28 21:00:16 CST 2018]; root of context hierarchy
2018-03-28 21:00:28,426 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 21:00:28,426 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 21:00:28,426 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 21:00:28,426 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 21:00:28,427 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 21:00:28,427 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 21:00:28,427 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 21:00:28,427 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 21:00:28,427 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 21:00:28,727 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 21:00:28,728 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 21:00:28,729 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7dfc08c: startup date [Wed Mar 28 21:00:28 CST 2018]; root of context hierarchy
2018-03-28 21:00:28,967 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:28,981 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:28,992 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:28,993 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:28,993 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:28,995 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:28,996 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 21:00:28,999 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:29,000 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:29,001 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:68, serverValue:68}] to localhost:27017
2018-03-28 21:00:29,003 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=365134}
2018-03-28 21:00:29,004 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:29,007 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:29,010 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:29,011 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:29,012 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4c8f10e6' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:29,013 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4c8f10e6' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:29,013 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#362390d5' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:29,014 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4ea03b27' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:29,014 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4ea03b27' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:29,015 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4af7a8c9' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:29,026 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:29,027 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy178] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:29,027 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:29,027 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:29,031 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:29,032 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.47' does not yet exist.  Creating now.
2018-03-28 21:00:29,032 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.47]
2018-03-28 21:00:29,033 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:29,037 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:29,106 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:00:29,223 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 21:00:29,224 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:00:29,224 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 21:00:29,224 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 21:00:29,225 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 21:00:29,226 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:00:29,260 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 21:00:29,260 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 531 ms
2018-03-28 21:00:29,314 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 21:00:29,314 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 21:00:29,315 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 21:00:29,315 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 21:00:29,315 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 21:00:29,315 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 21:00:29,408 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 21:00:29,424 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 21:00:29,454 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 21:00:29,466 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 21:00:29,480 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 21:00:29,540 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 21:00:29,541 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 21:00:29,589 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7dfc08c: startup date [Wed Mar 28 21:00:28 CST 2018]; root of context hierarchy
2018-03-28 21:00:29,608 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 21:00:29,608 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 21:00:29,608 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 21:00:29,609 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 21:00:29,609 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 21:00:29,609 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 21:00:29,609 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 21:00:29,610 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 21:00:29,611 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 21:00:29,612 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 21:00:29,648 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:00:29,648 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:00:29,680 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:00:29,707 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 21:00:29,783 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 21:00:29,832 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 21:00:29,834 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 21:00:29,835 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 21:00:29,835 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 21:00:29,835 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 21:00:29,837 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 21:00:29,838 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 21:00:29,841 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 21:00:29,841 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.135 seconds (JVM running for 5789.981)
2018-03-28 21:00:29,843 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 21:00:52,661 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7dfc08c: startup date [Wed Mar 28 21:00:28 CST 2018]; root of context hierarchy
2018-03-28 21:00:52,662 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 21:00:52,662 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 21:00:52,662 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 21:00:52,662 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 21:00:52,662 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 21:00:52,663 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 21:00:52,663 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 21:00:52,663 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 21:00:52,663 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 21:00:53,159 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 21:00:53,159 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 21:00:53,161 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2f1f812f: startup date [Wed Mar 28 21:00:53 CST 2018]; root of context hierarchy
2018-03-28 21:00:53,416 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:53,430 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:53,443 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:53,444 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:53,445 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:53,447 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:53,448 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 21:00:53,452 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:53,453 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:53,455 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:69, serverValue:69}] to localhost:27017
2018-03-28 21:00:53,458 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=541188}
2018-03-28 21:00:53,460 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:53,464 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:53,468 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:53,469 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:53,471 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5b211686' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:53,472 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5b211686' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:53,473 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#650ab6d9' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:53,474 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7f35b112' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:53,475 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7f35b112' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:53,476 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#c59d2aa' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:53,490 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:53,491 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy180] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:53,492 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:53,492 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:53,496 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:53,497 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.48' does not yet exist.  Creating now.
2018-03-28 21:00:53,498 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.48]
2018-03-28 21:00:53,498 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:53,504 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:00:53,574 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:00:53,760 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 21:00:53,761 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:00:53,761 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 21:00:53,761 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 21:00:53,762 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 21:00:53,763 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:00:53,804 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 21:00:53,804 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 643 ms
2018-03-28 21:00:53,862 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 21:00:53,863 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 21:00:53,863 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 21:00:53,863 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 21:00:53,863 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 21:00:53,863 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 21:00:53,966 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 21:00:53,984 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 21:00:54,010 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 21:00:54,024 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 21:00:54,041 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 21:00:54,105 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 21:00:54,105 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 21:00:54,166 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2f1f812f: startup date [Wed Mar 28 21:00:53 CST 2018]; root of context hierarchy
2018-03-28 21:00:54,189 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 21:00:54,190 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 21:00:54,190 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 21:00:54,190 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 21:00:54,190 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 21:00:54,191 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 21:00:54,191 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 21:00:54,191 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 21:00:54,193 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 21:00:54,194 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 21:00:54,238 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:00:54,238 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:00:54,285 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:00:54,332 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 21:00:54,433 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 21:00:54,497 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 21:00:54,499 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 21:00:54,499 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 21:00:54,500 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 21:00:54,500 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 21:00:54,502 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 21:00:54,503 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 21:00:54,507 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 21:00:54,507 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.368 seconds (JVM running for 5814.646)
2018-03-28 21:00:54,509 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 21:01:54,042 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-28 21:02:00,638 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:02:00,643 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-28 21:02:00,644 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-28 21:02:00,655 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 10 ms
2018-03-28 21:02:01,383 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:02:01,384 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:02:01,385 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:02:01,385 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:02:01,385 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:02:08,032 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:70, serverValue:70}] to localhost:27017
2018-03-28 21:02:14,253 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 21:05:36,388 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 21:05:45,412 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 21:08:03,619 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2f1f812f: startup date [Wed Mar 28 21:00:53 CST 2018]; root of context hierarchy
2018-03-28 21:08:03,620 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 21:08:03,624 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 21:08:03,625 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 21:08:03,625 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[1 sessions]]]]
2018-03-28 21:08:03,625 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 21:08:03,625 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 21:08:03,626 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 21:08:03,626 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 21:08:03,627 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 21:08:03,627 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 21:08:03,629 INFO (SLF4JLogger.java:71)- Closed connection [connectionId{localValue:70, serverValue:70}] to localhost:27017 because the pool has been closed.
2018-03-28 21:08:04,129 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 21:08:04,130 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 21:08:04,132 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4ce318b5: startup date [Wed Mar 28 21:08:04 CST 2018]; root of context hierarchy
2018-03-28 21:08:04,398 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:08:04,410 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:08:04,423 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:08:04,424 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:08:04,424 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:08:04,428 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:08:04,429 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 21:08:04,433 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:08:04,435 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:08:04,439 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:71, serverValue:71}] to localhost:27017
2018-03-28 21:08:04,442 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=585398}
2018-03-28 21:08:04,442 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:08:04,448 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:08:04,454 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:08:04,456 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:08:04,459 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#8dda289' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:08:04,460 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#8dda289' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:08:04,461 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#382bfae8' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:08:04,462 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7acdec84' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:08:04,463 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7acdec84' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:08:04,464 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#57ec4375' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:08:04,495 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:08:04,495 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy182] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:08:04,496 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:08:04,496 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:08:04,500 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:08:04,501 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.49' does not yet exist.  Creating now.
2018-03-28 21:08:04,502 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.49]
2018-03-28 21:08:04,502 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:08:04,509 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:08:04,598 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:08:04,769 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 21:08:04,770 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:08:04,771 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 21:08:04,771 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 21:08:04,771 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 21:08:04,773 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:08:04,816 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 21:08:04,816 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 684 ms
2018-03-28 21:08:04,895 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 21:08:04,896 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 21:08:04,896 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 21:08:04,896 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 21:08:04,897 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 21:08:04,897 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 21:08:04,902 WARN (DirectJDKLog.java:180)- Cannot deserialize session attribute [org.apache.shiro.subject.support.DefaultSubjectContext_PRINCIPALS_SESSION_KEY] for session [46275C79CA8D585D49251BC96FAFEE6B]
2018-03-28 21:08:05,058 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 21:08:05,080 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 21:08:05,110 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 21:08:05,125 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 21:08:05,141 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 21:08:05,199 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 21:08:05,200 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 21:08:05,258 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4ce318b5: startup date [Wed Mar 28 21:08:04 CST 2018]; root of context hierarchy
2018-03-28 21:08:05,282 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 21:08:05,282 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 21:08:05,283 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 21:08:05,283 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 21:08:05,283 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 21:08:05,283 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 21:08:05,284 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 21:08:05,284 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 21:08:05,286 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 21:08:05,286 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 21:08:05,325 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:08:05,325 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:08:05,361 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:08:05,391 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 21:08:05,472 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 21:08:05,543 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 21:08:05,546 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 21:08:05,546 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 21:08:05,547 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 21:08:05,547 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 21:08:05,549 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 21:08:05,551 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 21:08:05,554 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 21:08:05,555 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.445 seconds (JVM running for 6245.694)
2018-03-28 21:08:05,556 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 21:09:05,141 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-28 21:09:24,473 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:09:24,476 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-28 21:09:24,476 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-28 21:09:24,482 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 6 ms
2018-03-28 21:09:27,842 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:09:35,319 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:72, serverValue:72}] to localhost:27017
2018-03-28 21:09:38,693 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 21:14:34,847 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4ce318b5: startup date [Wed Mar 28 21:08:04 CST 2018]; root of context hierarchy
2018-03-28 21:14:34,849 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 21:14:34,851 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 21:14:34,875 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 21:14:34,875 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[1 destination(s)], registry[1 sessions]]]]
2018-03-28 21:14:34,875 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 21:14:34,876 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 21:14:34,876 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 21:14:34,876 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 21:14:34,877 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 21:14:34,877 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 21:14:34,883 INFO (SLF4JLogger.java:71)- Closed connection [connectionId{localValue:72, serverValue:72}] to localhost:27017 because the pool has been closed.
2018-03-28 21:14:35,278 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 21:14:35,278 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 21:14:35,280 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6123a332: startup date [Wed Mar 28 21:14:35 CST 2018]; root of context hierarchy
2018-03-28 21:14:35,538 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:14:35,550 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:14:35,563 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:14:35,563 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:14:35,564 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:14:35,566 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:14:35,567 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 21:14:35,569 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:14:35,570 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:14:35,572 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:73, serverValue:73}] to localhost:27017
2018-03-28 21:14:35,574 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=374607}
2018-03-28 21:14:35,574 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:14:35,577 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:14:35,580 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:14:35,582 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:14:35,583 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#727dfc75' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:14:35,584 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#727dfc75' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:14:35,585 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4de6856a' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:14:35,586 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#430a655e' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:14:35,586 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#430a655e' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:14:35,587 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6d0429ed' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:14:35,598 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:14:35,599 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy184] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:14:35,599 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:14:35,600 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:14:35,603 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:14:35,604 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.50' does not yet exist.  Creating now.
2018-03-28 21:14:35,604 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.50]
2018-03-28 21:14:35,604 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:14:35,610 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:14:35,704 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:14:35,851 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 21:14:35,852 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:14:35,852 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 21:14:35,853 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 21:14:35,853 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 21:14:35,854 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:14:35,903 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 21:14:35,904 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 624 ms
2018-03-28 21:14:35,954 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 21:14:35,955 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 21:14:35,955 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 21:14:35,955 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 21:14:35,955 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 21:14:35,955 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 21:14:35,957 WARN (DirectJDKLog.java:180)- Cannot deserialize session attribute [org.apache.shiro.subject.support.DefaultSubjectContext_PRINCIPALS_SESSION_KEY] for session [7689C00607138C61C7EA1155B7B46428]
2018-03-28 21:14:36,052 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 21:14:36,069 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 21:14:36,096 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 21:14:36,110 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 21:14:36,124 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 21:14:36,177 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 21:14:36,177 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 21:14:36,230 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6123a332: startup date [Wed Mar 28 21:14:35 CST 2018]; root of context hierarchy
2018-03-28 21:14:36,250 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 21:14:36,251 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 21:14:36,251 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 21:14:36,251 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 21:14:36,251 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 21:14:36,251 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 21:14:36,251 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 21:14:36,252 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 21:14:36,253 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 21:14:36,253 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 21:14:36,289 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:14:36,290 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:14:36,328 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:14:36,357 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 21:14:36,436 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 21:14:36,487 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 21:14:36,489 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 21:14:36,489 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 21:14:36,490 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 21:14:36,490 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 21:14:36,493 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 21:14:36,494 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 21:14:36,497 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 21:14:36,497 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.238 seconds (JVM running for 6636.637)
2018-03-28 21:14:36,499 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 21:15:36,124 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-28 21:16:27,160 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:16:27,164 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-28 21:16:27,164 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-28 21:16:27,171 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 6 ms
2018-03-28 21:16:27,865 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:16:27,866 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:16:27,866 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:16:27,867 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:16:27,867 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:16:33,361 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:74, serverValue:74}] to localhost:27017
2018-03-28 21:16:49,068 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 21:20:12,727 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6123a332: startup date [Wed Mar 28 21:14:35 CST 2018]; root of context hierarchy
2018-03-28 21:20:12,728 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 21:20:12,729 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 21:20:12,730 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 21:20:12,730 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 21:20:12,730 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 21:20:12,730 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 21:20:12,731 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 21:20:12,731 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 21:20:12,731 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 21:20:12,732 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 21:20:12,734 INFO (SLF4JLogger.java:71)- Closed connection [connectionId{localValue:74, serverValue:74}] to localhost:27017 because the pool has been closed.
2018-03-28 21:20:13,048 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 21:20:13,048 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 21:20:13,051 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@d72f2c0: startup date [Wed Mar 28 21:20:13 CST 2018]; root of context hierarchy
2018-03-28 21:20:13,374 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:20:13,391 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:20:13,408 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:20:13,409 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:20:13,410 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:20:13,413 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:20:13,414 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 21:20:13,417 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:20:13,418 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:20:13,428 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:20:13,435 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:75, serverValue:75}] to localhost:27017
2018-03-28 21:20:13,438 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=496187}
2018-03-28 21:20:13,440 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:20:13,443 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:20:13,445 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:20:13,447 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4e72640c' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:20:13,448 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4e72640c' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:20:13,448 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#728b63b0' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:20:13,450 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#52fe5345' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:20:13,450 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#52fe5345' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:20:13,451 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#36f8f9c5' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:20:13,468 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:20:13,469 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy186] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:20:13,469 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:20:13,469 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:20:13,476 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:20:13,477 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.51' does not yet exist.  Creating now.
2018-03-28 21:20:13,478 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.51]
2018-03-28 21:20:13,479 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:20:13,487 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:20:13,556 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:20:13,678 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 21:20:13,679 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:20:13,679 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 21:20:13,679 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 21:20:13,679 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 21:20:13,681 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:20:13,712 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 21:20:13,713 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 662 ms
2018-03-28 21:20:13,759 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 21:20:13,760 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 21:20:13,760 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 21:20:13,760 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 21:20:13,760 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 21:20:13,760 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 21:20:13,762 WARN (DirectJDKLog.java:180)- Cannot deserialize session attribute [org.apache.shiro.subject.support.DefaultSubjectContext_PRINCIPALS_SESSION_KEY] for session [591D9886122369A2174A0452CED196C8]
2018-03-28 21:20:13,854 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 21:20:13,870 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 21:20:13,893 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 21:20:13,906 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 21:20:13,920 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 21:20:13,970 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 21:20:13,970 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 21:20:14,018 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@d72f2c0: startup date [Wed Mar 28 21:20:13 CST 2018]; root of context hierarchy
2018-03-28 21:20:14,037 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 21:20:14,037 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 21:20:14,037 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 21:20:14,038 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 21:20:14,038 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 21:20:14,038 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 21:20:14,038 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 21:20:14,038 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 21:20:14,040 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 21:20:14,040 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 21:20:14,074 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:20:14,075 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:20:14,108 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:20:14,135 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 21:20:14,213 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 21:20:14,261 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 21:20:14,263 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 21:20:14,263 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 21:20:14,263 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 21:20:14,264 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 21:20:14,266 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 21:20:14,267 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 21:20:14,270 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 21:20:14,271 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.244 seconds (JVM running for 6974.41)
2018-03-28 21:20:14,272 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 21:21:13,921 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-28 21:25:53,884 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@d72f2c0: startup date [Wed Mar 28 21:20:13 CST 2018]; root of context hierarchy
2018-03-28 21:25:53,885 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 21:25:53,885 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 21:25:53,886 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 21:25:53,886 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 21:25:53,886 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 21:25:53,886 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 21:25:53,887 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 21:25:53,889 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 21:25:53,890 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 21:25:54,228 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2840 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 21:25:54,228 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 21:25:54,230 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@64495e42: startup date [Wed Mar 28 21:25:54 CST 2018]; root of context hierarchy
2018-03-28 21:25:54,526 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$74624723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:25:54,539 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:25:54,552 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:25:54,554 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:25:54,555 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$42fbe758] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:25:54,559 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$143d6476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:25:54,560 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 21:25:54,563 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:25:54,564 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:25:54,566 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:76, serverValue:76}] to localhost:27017
2018-03-28 21:25:54,568 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=360002}
2018-03-28 21:25:54,568 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:25:54,572 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:25:54,575 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:25:54,577 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:25:54,578 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5779dd9c' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:25:54,579 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5779dd9c' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:25:54,580 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#52ec782c' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:25:54,581 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5c2088c' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:25:54,581 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5c2088c' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:25:54,581 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5df1e18' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:25:54,592 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:25:54,593 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy188] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:25:54,593 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:25:54,594 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:25:54,597 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:25:54,597 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.52' does not yet exist.  Creating now.
2018-03-28 21:25:54,598 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.52]
2018-03-28 21:25:54,599 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:25:54,605 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:25:54,694 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:25:54,865 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 21:25:54,865 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:25:54,866 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 21:25:54,866 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 21:25:54,866 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 21:25:54,868 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:25:54,904 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 21:25:54,905 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 675 ms
2018-03-28 21:25:54,954 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 21:25:54,955 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 21:25:54,955 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 21:25:54,955 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 21:25:54,955 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 21:25:54,955 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 21:25:55,054 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 21:25:55,069 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 21:25:55,095 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 21:25:55,108 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 21:25:55,122 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 21:25:55,174 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 21:25:55,175 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 21:25:55,223 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@64495e42: startup date [Wed Mar 28 21:25:54 CST 2018]; root of context hierarchy
2018-03-28 21:25:55,243 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 21:25:55,243 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 21:25:55,243 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 21:25:55,244 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 21:25:55,244 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 21:25:55,244 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 21:25:55,244 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 21:25:55,245 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 21:25:55,246 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 21:25:55,246 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 21:25:55,280 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:25:55,281 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:25:55,313 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:25:55,340 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 21:25:55,415 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 21:25:55,465 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 21:25:55,467 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 21:25:55,467 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 21:25:55,467 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 21:25:55,468 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 21:25:55,474 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 21:25:55,476 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 21:25:55,483 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 21:25:55,484 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.275 seconds (JVM running for 7315.624)
2018-03-28 21:25:55,486 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 21:26:55,059 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 6980 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 21:26:55,062 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 21:26:55,216 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@633520a9: startup date [Wed Mar 28 21:26:55 CST 2018]; root of context hierarchy
2018-03-28 21:26:57,735 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$ffc879c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:27:00,197 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:27:00,305 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:27:00,315 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:27:00,337 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$de9627d1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:27:00,355 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$afd7a4ef] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:27:00,860 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 21:27:00,985 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:27:00,998 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:27:01,061 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:1, serverValue:77}] to localhost:27017
2018-03-28 21:27:01,067 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:27:01,069 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=5771085}
2018-03-28 21:27:01,103 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:27:01,219 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:27:01,259 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:27:01,278 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#c790101' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:27:01,279 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#c790101' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:27:01,283 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#716bdb69' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:27:01,290 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7aabf051' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:27:01,290 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7aabf051' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:27:01,304 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#72fcdbee' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:27:01,497 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:27:01,498 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy62] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:27:01,500 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:27:01,501 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:27:01,678 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:27:01,680 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache' does not yet exist.  Creating now.
2018-03-28 21:27:01,683 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache]
2018-03-28 21:27:01,697 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:27:01,751 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:27:02,438 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:27:02,866 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 21:27:02,925 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:27:02,925 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 21:27:02,952 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 21:27:02,953 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 21:27:02,999 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:27:03,278 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 21:27:03,279 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 8063 ms
2018-03-28 21:27:03,666 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 21:27:03,674 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 21:27:03,675 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 21:27:03,676 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 21:27:03,677 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 21:27:03,678 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 21:27:04,183 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 21:27:04,233 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 21:27:04,342 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 21:27:04,463 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 21:27:04,501 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 21:27:04,732 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 21:27:04,733 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 21:27:05,085 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@633520a9: startup date [Wed Mar 28 21:26:55 CST 2018]; root of context hierarchy
2018-03-28 21:27:05,239 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 21:27:05,242 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 21:27:05,243 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 21:27:05,245 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 21:27:05,246 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 21:27:05,247 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 21:27:05,247 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 21:27:05,248 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 21:27:05,256 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 21:27:05,258 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 21:27:05,361 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:27:05,361 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:27:05,468 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:27:05,586 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 21:27:06,035 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 21:27:06,192 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 21:27:06,207 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 21:27:06,208 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 21:27:06,208 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 21:27:06,211 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 21:27:06,225 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 21:27:06,301 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 21:27:06,319 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 21:27:06,323 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 12.916 seconds (JVM running for 14.251)
2018-03-28 21:27:42,979 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:27:43,013 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-28 21:27:43,015 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-28 21:27:43,069 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 51 ms
2018-03-28 21:27:53,182 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:27:53,316 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:2, serverValue:78}] to localhost:27017
2018-03-28 21:27:53,872 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 21:27:56,423 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 21:28:04,497 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 8, active threads = 0, queued tasks = 0, completed tasks = 12], outboundChannelpool size = 2, active threads = 0, queued tasks = 0, completed tasks = 2], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 1, completed tasks = 3]
2018-03-28 21:35:46,938 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@633520a9: startup date [Wed Mar 28 21:26:55 CST 2018]; root of context hierarchy
2018-03-28 21:35:46,942 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 21:35:46,943 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 21:35:46,943 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 21:35:46,943 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 21:35:46,944 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 21:35:46,946 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 21:35:46,947 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 21:35:46,948 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 21:35:46,949 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 21:35:46,993 INFO (SLF4JLogger.java:71)- Closed connection [connectionId{localValue:2, serverValue:78}] to localhost:27017 because the pool has been closed.
2018-03-28 21:35:47,575 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 6980 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 21:35:47,576 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 21:35:47,580 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@74fe14e9: startup date [Wed Mar 28 21:35:47 CST 2018]; root of context hierarchy
2018-03-28 21:35:48,159 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$ffc879c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:48,185 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:48,213 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:48,216 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:48,217 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$de9627d1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:48,228 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$afd7a4ef] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:48,230 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 21:35:48,239 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:48,241 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:48,251 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:48,262 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:48,267 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:3, serverValue:79}] to localhost:27017
2018-03-28 21:35:48,270 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=897242}
2018-03-28 21:35:48,275 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:48,279 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:48,285 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#ef05651' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:48,286 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#ef05651' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:48,288 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#27655d0a' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:48,290 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#34d24192' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:48,291 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#34d24192' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:48,293 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#39093320' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:48,321 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:48,322 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy86] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:48,325 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:48,326 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:48,338 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:48,339 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.1' does not yet exist.  Creating now.
2018-03-28 21:35:48,340 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.1]
2018-03-28 21:35:48,342 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:48,355 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:48,572 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:35:48,770 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 21:35:48,772 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:35:48,773 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 21:35:48,775 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 21:35:48,775 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 21:35:48,777 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:35:48,833 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 21:35:48,834 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 1254 ms
2018-03-28 21:35:48,952 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 21:35:48,955 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 21:35:48,956 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 21:35:48,956 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 21:35:48,957 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 21:35:48,957 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 21:35:49,041 WARN (DirectJDKLog.java:180)- Cannot deserialize session attribute [org.apache.shiro.subject.support.DefaultSubjectContext_PRINCIPALS_SESSION_KEY] for session [741E6B1A8219187E57ECA78309509B69]
2018-03-28 21:35:49,241 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 21:35:49,271 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 21:35:49,322 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 21:35:49,346 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 21:35:49,374 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 21:35:49,498 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 21:35:49,499 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 21:35:49,627 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@74fe14e9: startup date [Wed Mar 28 21:35:47 CST 2018]; root of context hierarchy
2018-03-28 21:35:49,667 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 21:35:49,668 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 21:35:49,668 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 21:35:49,673 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 21:35:49,674 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 21:35:49,675 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 21:35:49,675 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 21:35:49,676 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 21:35:49,679 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 21:35:49,680 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 21:35:49,755 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:35:49,756 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:35:49,818 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:35:49,873 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 21:35:50,021 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 21:35:50,098 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 21:35:50,105 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 21:35:50,106 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 21:35:50,106 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 21:35:50,106 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 21:35:50,111 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 21:35:50,114 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 21:35:50,119 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 21:35:50,121 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 2.602 seconds (JVM running for 538.049)
2018-03-28 21:35:50,129 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 21:35:57,577 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@74fe14e9: startup date [Wed Mar 28 21:35:47 CST 2018]; root of context hierarchy
2018-03-28 21:35:57,592 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 21:35:57,592 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 21:35:57,593 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 21:35:57,593 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 21:35:57,593 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 21:35:57,594 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 21:35:57,595 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 21:35:57,596 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 21:35:57,596 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 21:35:58,070 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 6980 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 21:35:58,071 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 21:35:58,076 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@164669dd: startup date [Wed Mar 28 21:35:58 CST 2018]; root of context hierarchy
2018-03-28 21:35:58,581 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$ffc879c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:58,607 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:58,632 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:58,636 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:58,638 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$de9627d1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:58,647 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$afd7a4ef] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:58,649 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 21:35:58,658 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:58,660 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:58,670 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:58,679 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:58,680 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:4, serverValue:80}] to localhost:27017
2018-03-28 21:35:58,686 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=3588573}
2018-03-28 21:35:58,695 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:58,698 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:58,702 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#51dff00a' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:58,702 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#51dff00a' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:58,704 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#175c817a' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:58,706 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2c03d9b7' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:58,706 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2c03d9b7' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:58,707 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2d7dcd0d' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:58,735 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:58,736 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy88] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:58,737 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:58,737 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:58,743 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:58,744 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.2' does not yet exist.  Creating now.
2018-03-28 21:35:58,745 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.2]
2018-03-28 21:35:58,746 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:58,754 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:35:58,979 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:35:59,174 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 21:35:59,177 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:35:59,178 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 21:35:59,179 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 21:35:59,180 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 21:35:59,181 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:35:59,227 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 21:35:59,228 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 1152 ms
2018-03-28 21:35:59,355 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 21:35:59,358 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 21:35:59,358 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 21:35:59,359 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 21:35:59,359 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 21:35:59,359 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 21:35:59,511 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 21:35:59,532 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 21:35:59,561 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 21:35:59,578 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 21:35:59,593 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 21:35:59,671 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 21:35:59,673 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 21:35:59,796 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@164669dd: startup date [Wed Mar 28 21:35:58 CST 2018]; root of context hierarchy
2018-03-28 21:35:59,835 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 21:35:59,835 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 21:35:59,836 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 21:35:59,836 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 21:35:59,837 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 21:35:59,837 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 21:35:59,838 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 21:35:59,839 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 21:35:59,842 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 21:35:59,843 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 21:35:59,900 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:35:59,900 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:35:59,944 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:35:59,996 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 21:36:00,117 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 21:36:00,188 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 21:36:00,191 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 21:36:00,192 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 21:36:00,192 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 21:36:00,192 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 21:36:00,197 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 21:36:00,199 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 21:36:00,203 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 21:36:00,204 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 2.193 seconds (JVM running for 548.132)
2018-03-28 21:36:00,206 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 21:36:59,592 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-28 21:38:23,249 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@164669dd: startup date [Wed Mar 28 21:35:58 CST 2018]; root of context hierarchy
2018-03-28 21:38:23,255 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 21:38:23,258 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 21:38:23,260 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 21:38:23,260 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 21:38:23,261 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 21:38:23,272 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 21:38:23,273 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 21:38:23,274 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 21:38:23,274 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 21:38:23,710 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 6980 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 21:38:23,711 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 21:38:23,716 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@12ca92e5: startup date [Wed Mar 28 21:38:23 CST 2018]; root of context hierarchy
2018-03-28 21:38:24,238 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$ffc879c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:38:24,274 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:38:24,307 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:38:24,309 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:38:24,310 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$de9627d1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:38:24,316 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$afd7a4ef] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:38:24,317 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 21:38:24,328 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:38:24,330 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:38:24,337 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:38:24,347 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:5, serverValue:81}] to localhost:27017
2018-03-28 21:38:24,350 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=750794}
2018-03-28 21:38:24,352 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:38:24,360 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:38:24,364 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:38:24,369 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#70d06d93' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:38:24,369 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#70d06d93' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:38:24,371 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#17ef497e' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:38:24,373 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#510d80' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:38:24,374 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#510d80' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:38:24,375 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#23e11f8' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:38:24,407 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:38:24,408 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy90] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:38:24,409 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:38:24,410 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:38:24,418 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:38:24,419 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.3' does not yet exist.  Creating now.
2018-03-28 21:38:24,420 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.3]
2018-03-28 21:38:24,422 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:38:24,436 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:38:24,509 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:38:24,755 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 21:38:24,756 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:38:24,757 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 21:38:24,758 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 21:38:24,758 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 21:38:24,760 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:38:24,917 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 21:38:24,919 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 1203 ms
2018-03-28 21:38:25,073 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 21:38:25,076 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 21:38:25,076 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 21:38:25,077 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 21:38:25,077 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 21:38:25,077 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 21:38:25,324 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 21:38:25,361 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 21:38:25,422 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 21:38:25,450 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 21:38:25,489 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 21:38:25,606 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 21:38:25,606 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 21:38:25,743 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@12ca92e5: startup date [Wed Mar 28 21:38:23 CST 2018]; root of context hierarchy
2018-03-28 21:38:25,801 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 21:38:25,803 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 21:38:25,804 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 21:38:25,806 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 21:38:25,806 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 21:38:25,807 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 21:38:25,809 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 21:38:25,810 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 21:38:25,816 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 21:38:25,818 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 21:38:25,983 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:38:25,984 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:38:26,050 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:38:26,106 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 21:38:26,228 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 21:38:26,300 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 21:38:26,303 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 21:38:26,303 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 21:38:26,304 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 21:38:26,304 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 21:38:26,308 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 21:38:26,310 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 21:38:26,315 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 21:38:26,316 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 2.656 seconds (JVM running for 694.244)
2018-03-28 21:38:26,318 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 21:38:29,361 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:38:29,365 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-28 21:38:29,365 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-28 21:38:29,375 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 9 ms
2018-03-28 21:38:30,377 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:38:30,380 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:38:30,477 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:38:45,615 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:6, serverValue:82}] to localhost:27017
2018-03-28 21:39:02,503 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:39:02,929 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 21:39:08,754 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 21:39:16,684 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 21:39:25,485 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 2 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(2)-CONNECTED(2)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 8, active threads = 0, queued tasks = 0, completed tasks = 21], outboundChannelpool size = 3, active threads = 0, queued tasks = 0, completed tasks = 3], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 2, completed tasks = 5]
2018-03-28 21:39:28,745 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 21:39:40,080 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 21:39:41,575 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 21:43:12,590 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 21:44:51,536 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 21:45:15,233 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 21:45:17,915 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 21:45:53,903 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 21:45:57,600 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-28 21:46:08,633 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a5082128308c4c089c2;username=huawei;nickname=huawei;jointime=null;online=false;Friends=vivo,]
2018-03-28 21:49:36,800 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@12ca92e5: startup date [Wed Mar 28 21:38:23 CST 2018]; root of context hierarchy
2018-03-28 21:49:36,803 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 21:49:36,805 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a5082128308c4c089c2;username=huawei;nickname=huawei;jointime=null;online=false;Friends=vivo,]
2018-03-28 21:49:36,807 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 21:49:36,808 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[1 destination(s)], registry[1 sessions]]]]
2018-03-28 21:49:36,808 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 21:49:36,809 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 21:49:36,810 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 21:49:36,811 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 21:49:36,812 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 21:49:36,814 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 21:49:36,819 INFO (SLF4JLogger.java:71)- Closed connection [connectionId{localValue:6, serverValue:82}] to localhost:27017 because the pool has been closed.
2018-03-28 21:49:37,265 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 6980 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 21:49:37,266 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 21:49:37,270 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@58561ba1: startup date [Wed Mar 28 21:49:37 CST 2018]; root of context hierarchy
2018-03-28 21:49:37,770 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$ffc879c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:49:37,798 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:49:37,816 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:49:37,818 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:49:37,819 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$de9627d1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:49:37,824 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$afd7a4ef] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:49:37,825 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 21:49:37,830 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:49:37,832 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:49:37,837 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:49:37,843 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:49:37,845 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:7, serverValue:83}] to localhost:27017
2018-03-28 21:49:37,973 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=1046848}
2018-03-28 21:49:37,976 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:49:37,978 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:49:37,983 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#39f5e901' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:49:37,983 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#39f5e901' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:49:37,986 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7af6ef7a' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:49:37,990 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#72a6fbf2' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:49:37,991 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#72a6fbf2' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:49:37,992 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#617274f4' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:49:38,019 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:49:38,020 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy92] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:49:38,021 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:49:38,021 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:49:38,029 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:49:38,030 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.4' does not yet exist.  Creating now.
2018-03-28 21:49:38,031 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.4]
2018-03-28 21:49:38,032 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:49:38,043 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:49:38,127 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:49:38,241 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 21:49:38,242 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:49:38,243 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 21:49:38,243 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 21:49:38,243 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 21:49:38,245 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:49:38,294 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 21:49:38,294 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 1024 ms
2018-03-28 21:49:38,356 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 21:49:38,357 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 21:49:38,357 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 21:49:38,358 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 21:49:38,358 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 21:49:38,358 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 21:49:38,364 WARN (DirectJDKLog.java:180)- Cannot deserialize session attribute [org.apache.shiro.subject.support.DefaultSubjectContext_PRINCIPALS_SESSION_KEY] for session [5D718C4398A4CB509E5FD6B7F2371A45]
2018-03-28 21:49:38,371 ERROR (DirectJDKLog.java:182)- Exception loading sessions from persistent storage
java.io.StreamCorruptedException: invalid type code: 00
	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1563)
	at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2245)
	at java.io.ObjectInputStream.defaultReadObject(ObjectInputStream.java:552)
	at java.lang.Throwable.readObject(Throwable.java:914)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1058)
	at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2136)
	at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2027)
	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1535)
	at java.io.ObjectInputStream.readObject(ObjectInputStream.java:422)
	at org.apache.catalina.session.StandardSession.doReadObject(StandardSession.java:1589)
	at org.apache.catalina.session.StandardSession.readObjectData(StandardSession.java:1077)
	at org.apache.catalina.session.StandardManager.doLoad(StandardManager.java:218)
	at org.apache.catalina.session.StandardManager.load(StandardManager.java:162)
	at org.apache.catalina.session.StandardManager.startInternal(StandardManager.java:356)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5232)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1419)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1409)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:748)
2018-03-28 21:49:38,518 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 21:49:38,543 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 21:49:38,579 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 21:49:38,594 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 21:49:38,614 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 21:49:38,728 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 21:49:38,728 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 21:49:38,826 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@58561ba1: startup date [Wed Mar 28 21:49:37 CST 2018]; root of context hierarchy
2018-03-28 21:49:38,854 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 21:49:38,854 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 21:49:38,855 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 21:49:38,855 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 21:49:38,856 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 21:49:38,856 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 21:49:38,857 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 21:49:38,858 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 21:49:38,862 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 21:49:38,862 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 21:49:38,920 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:49:38,921 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:49:38,981 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:49:39,036 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 21:49:39,170 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 21:49:39,222 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 21:49:39,225 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 21:49:39,226 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 21:49:39,226 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 21:49:39,226 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 21:49:39,229 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 21:49:39,231 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 21:49:39,239 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 21:49:39,240 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 2.026 seconds (JVM running for 1367.168)
2018-03-28 21:49:39,246 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 21:49:59,023 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@58561ba1: startup date [Wed Mar 28 21:49:37 CST 2018]; root of context hierarchy
2018-03-28 21:49:59,025 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 21:49:59,026 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 21:49:59,026 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 21:49:59,027 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 21:49:59,028 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 21:49:59,028 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 21:49:59,029 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 21:49:59,030 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 21:49:59,031 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 21:49:59,534 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 6980 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 21:49:59,535 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 21:49:59,540 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5c601de2: startup date [Wed Mar 28 21:49:59 CST 2018]; root of context hierarchy
2018-03-28 21:49:59,947 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$ffc879c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:49:59,965 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:49:59,988 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:49:59,990 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:49:59,991 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$de9627d1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:49:59,997 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$afd7a4ef] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:49:59,999 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 21:50:00,004 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:50:00,006 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:50:00,011 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:50:00,018 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:50:00,021 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:8, serverValue:84}] to localhost:27017
2018-03-28 21:50:00,024 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=686056}
2018-03-28 21:50:00,026 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:50:00,028 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:50:00,032 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#62b5b0ed' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:50:00,033 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#62b5b0ed' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:50:00,036 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4516ef2c' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:50:00,039 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#47bb9916' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:50:00,040 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#47bb9916' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:50:00,041 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#683fb2aa' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:50:00,078 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:50:00,079 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy94] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:50:00,080 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:50:00,081 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:50:00,089 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:50:00,091 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.5' does not yet exist.  Creating now.
2018-03-28 21:50:00,092 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.5]
2018-03-28 21:50:00,093 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:50:00,104 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:50:00,191 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:50:00,380 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 21:50:00,381 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:50:00,382 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 21:50:00,383 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 21:50:00,383 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 21:50:00,387 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:50:00,431 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 21:50:00,432 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 893 ms
2018-03-28 21:50:00,511 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 21:50:00,514 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 21:50:00,514 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 21:50:00,515 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 21:50:00,515 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 21:50:00,515 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 21:50:00,659 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 21:50:00,686 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 21:50:00,736 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 21:50:00,754 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 21:50:00,771 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 21:50:00,836 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 21:50:00,836 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 21:50:00,899 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5c601de2: startup date [Wed Mar 28 21:49:59 CST 2018]; root of context hierarchy
2018-03-28 21:50:00,929 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 21:50:00,930 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 21:50:00,930 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 21:50:00,930 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 21:50:00,931 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 21:50:00,931 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 21:50:00,931 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 21:50:00,931 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 21:50:00,934 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 21:50:00,935 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 21:50:00,996 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:50:00,996 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:50:01,034 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:50:01,077 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 21:50:01,162 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 21:50:01,235 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 21:50:01,238 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 21:50:01,239 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 21:50:01,239 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 21:50:01,239 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 21:50:01,244 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 21:50:01,247 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 21:50:01,258 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 21:50:01,259 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.775 seconds (JVM running for 1389.187)
2018-03-28 21:50:01,262 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 21:51:00,770 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-28 21:56:23,333 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5c601de2: startup date [Wed Mar 28 21:49:59 CST 2018]; root of context hierarchy
2018-03-28 21:56:23,334 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 21:56:23,335 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 21:56:23,335 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 21:56:23,335 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 21:56:23,336 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 21:56:23,336 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 21:56:23,336 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 21:56:23,337 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 21:56:23,337 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 21:56:23,786 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 6980 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 21:56:23,786 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 21:56:23,789 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@576ade5a: startup date [Wed Mar 28 21:56:23 CST 2018]; root of context hierarchy
2018-03-28 21:56:24,191 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$ffc879c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:56:24,210 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:56:24,228 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:56:24,229 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:56:24,230 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$de9627d1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:56:24,236 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$afd7a4ef] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:56:24,237 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 21:56:24,242 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:56:24,244 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:56:24,246 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:9, serverValue:85}] to localhost:27017
2018-03-28 21:56:24,249 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=661978}
2018-03-28 21:56:24,252 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:56:24,257 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:56:24,262 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:56:24,265 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:56:24,269 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#3305e66f' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:56:24,269 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#3305e66f' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:56:24,271 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#27b83974' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:56:24,273 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2e8dacbf' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:56:24,274 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2e8dacbf' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:56:24,275 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7fccf38d' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:56:24,308 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:56:24,309 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy96] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:56:24,309 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:56:24,310 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:56:24,318 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:56:24,320 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.6' does not yet exist.  Creating now.
2018-03-28 21:56:24,322 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.6]
2018-03-28 21:56:24,322 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:56:24,332 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:56:24,407 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:56:24,610 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 21:56:24,611 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:56:24,612 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 21:56:24,612 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 21:56:24,612 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 21:56:24,614 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:56:24,674 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 21:56:24,674 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 886 ms
2018-03-28 21:56:24,753 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 21:56:24,754 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 21:56:24,754 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 21:56:24,754 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 21:56:24,754 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 21:56:24,754 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 21:56:24,890 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 21:56:24,911 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 21:56:24,947 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 21:56:24,964 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 21:56:24,984 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 21:56:25,076 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 21:56:25,077 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 21:56:25,203 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@576ade5a: startup date [Wed Mar 28 21:56:23 CST 2018]; root of context hierarchy
2018-03-28 21:56:25,227 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 21:56:25,228 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 21:56:25,228 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 21:56:25,229 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 21:56:25,230 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 21:56:25,231 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 21:56:25,231 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 21:56:25,232 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 21:56:25,235 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 21:56:25,236 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 21:56:25,283 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:56:25,284 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:56:25,337 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:56:25,386 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 21:56:25,493 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 21:56:25,544 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 21:56:25,547 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 21:56:25,547 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 21:56:25,548 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 21:56:25,548 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 21:56:25,551 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 21:56:25,553 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 21:56:25,557 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 21:56:25,557 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.805 seconds (JVM running for 1773.486)
2018-03-28 21:56:25,560 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 21:56:31,394 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:56:31,398 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-28 21:56:31,398 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-28 21:56:31,405 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 7 ms
2018-03-28 21:56:32,465 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:56:44,244 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:10, serverValue:86}] to localhost:27017
2018-03-28 21:57:24,984 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-28 21:57:30,879 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@576ade5a: startup date [Wed Mar 28 21:56:23 CST 2018]; root of context hierarchy
2018-03-28 21:57:30,881 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 21:57:30,881 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 21:57:30,881 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 21:57:30,881 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 21:57:30,882 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 21:57:30,882 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 21:57:30,882 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 21:57:30,882 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 21:57:30,883 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 21:57:30,885 INFO (SLF4JLogger.java:71)- Closed connection [connectionId{localValue:10, serverValue:86}] to localhost:27017 because the pool has been closed.
2018-03-28 21:57:31,268 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 6980 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 21:57:31,268 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 21:57:31,271 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@fee8022: startup date [Wed Mar 28 21:57:31 CST 2018]; root of context hierarchy
2018-03-28 21:57:31,679 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$ffc879c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:57:31,701 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:57:31,725 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:57:31,726 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:57:31,727 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$de9627d1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:57:31,731 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$afd7a4ef] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:57:31,733 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 21:57:31,738 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:57:31,739 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:57:31,744 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:57:31,748 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:11, serverValue:87}] to localhost:27017
2018-03-28 21:57:31,751 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=686056}
2018-03-28 21:57:31,753 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:57:31,757 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:57:31,760 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:57:31,764 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#283b48c7' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:57:31,765 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#283b48c7' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:57:31,766 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2e918ad2' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:57:31,767 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#3dc9294f' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:57:31,768 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#3dc9294f' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:57:31,768 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4625c9f0' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:57:31,798 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:57:31,798 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy98] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:57:31,800 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:57:31,801 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:57:31,810 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:57:31,811 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.7' does not yet exist.  Creating now.
2018-03-28 21:57:31,813 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.7]
2018-03-28 21:57:31,813 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:57:31,820 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:57:31,885 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:57:32,034 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 21:57:32,035 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:57:32,035 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 21:57:32,035 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 21:57:32,035 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 21:57:32,036 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:57:32,072 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 21:57:32,072 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 801 ms
2018-03-28 21:57:32,120 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 21:57:32,121 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 21:57:32,121 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 21:57:32,121 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 21:57:32,121 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 21:57:32,121 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 21:57:32,125 WARN (DirectJDKLog.java:180)- Cannot deserialize session attribute [org.apache.shiro.subject.support.DefaultSubjectContext_PRINCIPALS_SESSION_KEY] for session [CFB0D76E5430923AE05DED51071890BC]
2018-03-28 21:57:32,253 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 21:57:32,275 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 21:57:32,300 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 21:57:32,312 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 21:57:32,326 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 21:57:32,402 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 21:57:32,403 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 21:57:32,470 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@fee8022: startup date [Wed Mar 28 21:57:31 CST 2018]; root of context hierarchy
2018-03-28 21:57:32,489 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 21:57:32,490 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 21:57:32,490 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 21:57:32,491 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 21:57:32,491 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 21:57:32,492 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 21:57:32,492 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 21:57:32,492 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 21:57:32,495 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 21:57:32,495 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 21:57:32,528 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:57:32,528 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:57:32,570 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:57:32,598 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 21:57:32,677 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 21:57:32,724 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 21:57:32,727 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 21:57:32,728 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 21:57:32,728 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 21:57:32,728 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 21:57:32,731 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 21:57:32,733 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 21:57:32,745 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 21:57:32,746 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.518 seconds (JVM running for 1840.674)
2018-03-28 21:57:32,748 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 21:58:32,326 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-28 21:58:52,951 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@fee8022: startup date [Wed Mar 28 21:57:31 CST 2018]; root of context hierarchy
2018-03-28 21:58:52,952 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 21:58:52,955 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 21:58:52,955 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 21:58:52,955 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 21:58:52,956 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 21:58:52,957 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 21:58:52,957 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 21:58:52,959 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 21:58:52,959 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 21:58:53,386 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 6980 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 21:58:53,386 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 21:58:53,389 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@67697f2: startup date [Wed Mar 28 21:58:53 CST 2018]; root of context hierarchy
2018-03-28 21:58:53,805 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$ffc879c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:58:53,821 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:58:53,841 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:58:53,843 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:58:53,844 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$de9627d1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:58:53,849 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$afd7a4ef] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:58:53,853 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 21:58:53,858 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:58:53,859 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:58:53,866 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:58:53,878 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:58:53,883 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:58:53,887 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:58:53,893 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#27d90c17' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:58:53,894 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#27d90c17' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:58:53,896 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5dbcdeff' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:58:53,899 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4e3327' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:58:53,902 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4e3327' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:58:53,903 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#477f478e' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:58:53,948 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:12, serverValue:88}] to localhost:27017
2018-03-28 21:58:53,956 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=2259881}
2018-03-28 21:58:53,971 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:58:53,972 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy100] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:58:53,973 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:58:53,973 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:58:53,981 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:58:53,982 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.8' does not yet exist.  Creating now.
2018-03-28 21:58:53,983 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.8]
2018-03-28 21:58:53,984 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:58:53,997 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 21:58:54,095 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:58:54,279 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 21:58:54,281 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:58:54,281 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 21:58:54,282 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 21:58:54,282 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 21:58:54,284 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 21:58:54,332 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 21:58:54,332 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 943 ms
2018-03-28 21:58:54,416 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 21:58:54,416 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 21:58:54,417 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 21:58:54,417 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 21:58:54,417 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 21:58:54,417 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 21:58:54,566 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 21:58:54,596 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 21:58:54,642 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 21:58:54,665 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 21:58:54,688 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 21:58:54,834 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 21:58:54,837 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 21:58:55,003 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@67697f2: startup date [Wed Mar 28 21:58:53 CST 2018]; root of context hierarchy
2018-03-28 21:58:55,038 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 21:58:55,039 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 21:58:55,039 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 21:58:55,040 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 21:58:55,041 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 21:58:55,041 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 21:58:55,041 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 21:58:55,042 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 21:58:55,045 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 21:58:55,046 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 21:58:55,095 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:58:55,095 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:58:55,130 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 21:58:55,167 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 21:58:55,279 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 21:58:55,326 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 21:58:55,328 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 21:58:55,329 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 21:58:55,329 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 21:58:55,329 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 21:58:55,332 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 21:58:55,334 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 21:58:55,341 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 21:58:55,343 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.988 seconds (JVM running for 1923.271)
2018-03-28 21:58:55,347 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 21:59:54,688 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-28 22:00:14,606 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@67697f2: startup date [Wed Mar 28 21:58:53 CST 2018]; root of context hierarchy
2018-03-28 22:00:14,607 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 22:00:14,607 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 22:00:14,607 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 22:00:14,608 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 22:00:14,608 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 22:00:14,608 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 22:00:14,608 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 22:00:14,609 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 22:00:14,609 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 22:00:14,992 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 6980 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 22:00:14,993 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 22:00:14,996 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1af017bf: startup date [Wed Mar 28 22:00:14 CST 2018]; root of context hierarchy
2018-03-28 22:00:15,396 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$ffc879c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:00:15,416 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:00:15,437 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:00:15,439 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:00:15,440 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$de9627d1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:00:15,443 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$afd7a4ef] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:00:15,444 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 22:00:15,449 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:00:15,450 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:00:15,452 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:13, serverValue:89}] to localhost:27017
2018-03-28 22:00:15,454 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=578687}
2018-03-28 22:00:15,455 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:00:15,460 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:00:15,465 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:00:15,467 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:00:15,470 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#526feaa1' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:00:15,471 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#526feaa1' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:00:15,472 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#263cde67' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:00:15,474 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#1ec30477' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:00:15,474 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#1ec30477' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:00:15,475 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#269589ab' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:00:15,501 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:00:15,502 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy102] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:00:15,503 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:00:15,504 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:00:15,510 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:00:15,512 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.9' does not yet exist.  Creating now.
2018-03-28 22:00:15,513 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.9]
2018-03-28 22:00:15,513 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:00:15,521 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:00:15,604 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:00:15,767 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 22:00:15,768 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:00:15,769 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 22:00:15,769 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 22:00:15,769 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 22:00:15,770 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:00:15,814 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 22:00:15,814 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 818 ms
2018-03-28 22:00:15,865 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 22:00:15,866 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 22:00:15,866 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 22:00:15,866 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 22:00:15,866 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 22:00:15,866 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 22:00:15,960 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 22:00:15,975 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 22:00:16,003 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 22:00:16,014 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 22:00:16,030 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 22:00:16,088 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 22:00:16,089 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 22:00:16,162 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1af017bf: startup date [Wed Mar 28 22:00:14 CST 2018]; root of context hierarchy
2018-03-28 22:00:16,187 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 22:00:16,187 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 22:00:16,188 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 22:00:16,189 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 22:00:16,189 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 22:00:16,189 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 22:00:16,190 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 22:00:16,190 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 22:00:16,193 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 22:00:16,194 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 22:00:16,252 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:00:16,252 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:00:16,301 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:00:16,334 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 22:00:16,434 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 22:00:16,477 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 22:00:16,480 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 22:00:16,481 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 22:00:16,481 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 22:00:16,481 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 22:00:16,483 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 22:00:16,484 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 22:00:16,487 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 22:00:16,488 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.534 seconds (JVM running for 2004.416)
2018-03-28 22:00:16,490 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 22:00:35,658 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:00:35,663 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-28 22:00:35,664 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-28 22:00:35,672 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 8 ms
2018-03-28 22:01:09,085 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:01:09,096 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:14, serverValue:90}] to localhost:27017
2018-03-28 22:01:16,030 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-28 22:10:14,922 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1af017bf: startup date [Wed Mar 28 22:00:14 CST 2018]; root of context hierarchy
2018-03-28 22:10:14,925 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 22:10:14,926 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 22:10:14,927 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 22:10:14,928 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 22:10:14,929 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 22:10:14,930 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 22:10:14,930 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 22:10:14,931 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 22:10:14,932 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 22:10:14,934 INFO (SLF4JLogger.java:71)- Closed connection [connectionId{localValue:14, serverValue:90}] to localhost:27017 because the pool has been closed.
2018-03-28 22:10:15,377 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 6980 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 22:10:15,377 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 22:10:15,380 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2701e61a: startup date [Wed Mar 28 22:10:15 CST 2018]; root of context hierarchy
2018-03-28 22:10:16,022 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$ffc879c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:16,037 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:16,051 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:16,052 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:16,053 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$de9627d1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:16,055 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$afd7a4ef] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:16,056 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 22:10:16,060 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:16,061 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:16,063 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:15, serverValue:91}] to localhost:27017
2018-03-28 22:10:16,066 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=528161}
2018-03-28 22:10:16,067 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:16,073 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:16,078 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:16,080 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:16,084 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#512266e8' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:16,085 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#512266e8' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:16,087 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7b8e0237' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:16,088 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#725cc9af' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:16,088 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#725cc9af' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:16,089 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#287d2f1c' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:16,113 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:16,114 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy104] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:16,115 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:16,116 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:16,127 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:16,128 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.10' does not yet exist.  Creating now.
2018-03-28 22:10:16,129 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.10]
2018-03-28 22:10:16,130 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:16,142 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:16,205 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:10:16,371 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 22:10:16,373 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:10:16,373 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 22:10:16,373 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 22:10:16,374 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 22:10:16,375 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:10:16,412 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 22:10:16,413 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 1033 ms
2018-03-28 22:10:16,470 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 22:10:16,471 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 22:10:16,471 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 22:10:16,472 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 22:10:16,472 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 22:10:16,473 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 22:10:16,477 WARN (DirectJDKLog.java:180)- Cannot deserialize session attribute [org.apache.shiro.subject.support.DefaultSubjectContext_PRINCIPALS_SESSION_KEY] for session [9E9B6FCA5EC18878C1399F305D04B395]
2018-03-28 22:10:16,587 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 22:10:16,610 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 22:10:16,644 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 22:10:16,661 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 22:10:16,678 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 22:10:16,750 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 22:10:16,751 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 22:10:16,812 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2701e61a: startup date [Wed Mar 28 22:10:15 CST 2018]; root of context hierarchy
2018-03-28 22:10:16,831 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 22:10:16,832 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 22:10:16,832 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 22:10:16,833 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 22:10:16,833 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 22:10:16,833 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 22:10:16,833 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 22:10:16,834 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 22:10:16,835 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 22:10:16,836 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 22:10:16,872 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:10:16,872 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:10:16,904 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:10:16,932 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 22:10:17,008 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 22:10:17,052 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 22:10:17,054 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 22:10:17,055 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 22:10:17,055 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 22:10:17,056 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 22:10:17,058 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 22:10:17,059 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 22:10:17,064 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 22:10:17,065 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.742 seconds (JVM running for 2604.993)
2018-03-28 22:10:17,067 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 22:10:20,435 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2701e61a: startup date [Wed Mar 28 22:10:15 CST 2018]; root of context hierarchy
2018-03-28 22:10:20,436 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 22:10:20,437 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 22:10:20,437 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 22:10:20,437 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 22:10:20,437 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 22:10:20,438 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 22:10:20,438 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 22:10:20,438 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 22:10:20,438 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 22:10:20,801 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 6980 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 22:10:20,803 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 22:10:20,807 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2ddc14fb: startup date [Wed Mar 28 22:10:20 CST 2018]; root of context hierarchy
2018-03-28 22:10:21,088 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:10:21,245 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 22:10:21,246 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:10:21,247 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-28 22:10:21,247 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 22:10:21,247 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 22:10:21,249 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:10:21,290 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 22:10:21,290 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 483 ms
2018-03-28 22:10:21,302 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 22:10:21,303 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 22:10:21,303 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 22:10:21,303 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 22:10:21,303 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 22:10:21,325 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 22:10:21,331 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:16, serverValue:92}] to localhost:27017
2018-03-28 22:10:21,333 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=440529}
2018-03-28 22:10:21,371 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2ddc14fb: startup date [Wed Mar 28 22:10:20 CST 2018]; root of context hierarchy
2018-03-28 22:10:21,377 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 22:10:21,377 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 22:10:21,382 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:10:21,383 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:10:21,392 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:10:21,398 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 22:10:21,421 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 22:10:21,461 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 22:10:21,466 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-28 22:10:21,467 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-28 22:10:21,473 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 22:10:21,474 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 0.708 seconds (JVM running for 2609.402)
2018-03-28 22:10:21,630 INFO (ConditionEvaluationDeltaLoggingListener.java:50)- Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

    None


Negative matches:
-----------------

   WebSocketMessagingAutoConfiguration.WebSocketMessageConverterConfiguration:
      Did not match:
         - @ConditionalOnBean (types: org.springframework.web.socket.config.annotation.DelegatingWebSocketMessageBrokerConfiguration,com.fasterxml.jackson.databind.ObjectMapper; SearchStrategy: all) did not find any beans of type org.springframework.web.socket.config.annotation.DelegatingWebSocketMessageBrokerConfiguration (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required classes 'com.fasterxml.jackson.databind.ObjectMapper', 'org.springframework.messaging.simp.config.AbstractMessageBrokerConfiguration'; @ConditionalOnMissingClass did not find unwanted class (OnClassCondition)


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2018-03-28 22:10:44,405 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2ddc14fb: startup date [Wed Mar 28 22:10:20 CST 2018]; root of context hierarchy
2018-03-28 22:10:44,409 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 22:10:47,166 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 6980 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 22:10:47,167 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 22:10:47,170 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@307d39ac: startup date [Wed Mar 28 22:10:47 CST 2018]; root of context hierarchy
2018-03-28 22:10:47,559 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$ffc879c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:47,591 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:47,618 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:47,619 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:47,620 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$de9627d1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:47,623 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$afd7a4ef] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:47,624 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 22:10:47,625 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:47,627 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:47,630 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:18, serverValue:94}] to localhost:27017
2018-03-28 22:10:47,634 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=541976}
2018-03-28 22:10:47,635 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:47,639 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:47,641 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:47,643 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:47,649 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#414be3df' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:47,650 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#414be3df' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:47,651 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#457e74ba' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:47,653 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#1e6a60d7' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:47,653 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#1e6a60d7' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:47,654 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#253273b0' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:47,677 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:47,678 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy108] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:47,681 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:47,682 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:47,690 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:47,691 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.12' does not yet exist.  Creating now.
2018-03-28 22:10:47,694 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.12]
2018-03-28 22:10:47,695 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:47,703 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:10:47,804 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:10:48,056 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 22:10:48,058 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:10:48,058 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 22:10:48,059 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 22:10:48,060 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:10:48,116 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 22:10:48,116 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 946 ms
2018-03-28 22:10:48,325 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 22:10:48,326 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 22:10:48,327 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 22:10:48,327 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 22:10:48,328 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 22:10:48,328 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 22:10:48,357 WARN (AbstractApplicationContext.java:557)- Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'homeController': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [springboot.Facedetect.controller.homeController] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@60733f16]
2018-03-28 22:10:48,362 INFO (DirectJDKLog.java:180)- Stopping service [Tomcat]
2018-03-28 22:10:48,388 INFO (ConditionEvaluationReportLoggingListener.java:102)- 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-03-28 22:10:48,389 ERROR (SpringApplication.java:833)- Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'homeController': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [springboot.Facedetect.controller.homeController] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@60733f16]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:262)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1198)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1123)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:760)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:388)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:327)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1234)
	at springboot.Facedetect.FacedetectApplication.main(FacedetectApplication.java:10)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: java.lang.IllegalStateException: Failed to introspect Class [springboot.Facedetect.controller.homeController] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@60733f16]
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:659)
	at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:556)
	at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:541)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:245)
	... 23 common frames omitted
Caused by: java.lang.NoClassDefFoundError: springboot/Facedetect/message/ChatMessage
	at java.lang.Class.getDeclaredMethods0(Native Method)
	at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)
	at java.lang.Class.getDeclaredMethods(Class.java:1975)
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:641)
	... 26 common frames omitted
Caused by: java.lang.ClassNotFoundException: springboot.Facedetect.message.ChatMessage
	at java.net.URLClassLoader.findClass(URLClassLoader.java:381)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:424)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:147)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	... 30 common frames omitted
2018-03-28 22:10:49,842 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 6980 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 22:10:49,842 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 22:10:49,845 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6934908: startup date [Wed Mar 28 22:10:49 CST 2018]; root of context hierarchy
2018-03-28 22:10:50,237 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:10:50,366 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 22:10:50,367 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:10:50,368 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 22:10:50,368 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 22:10:50,369 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:10:50,403 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 22:10:50,404 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 559 ms
2018-03-28 22:10:50,416 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 22:10:50,417 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 22:10:50,417 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 22:10:50,417 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 22:10:50,417 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 22:10:50,438 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 22:10:50,444 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:19, serverValue:95}] to localhost:27017
2018-03-28 22:10:50,445 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=448818}
2018-03-28 22:10:50,487 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6934908: startup date [Wed Mar 28 22:10:49 CST 2018]; root of context hierarchy
2018-03-28 22:10:50,492 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 22:10:50,493 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 22:10:50,497 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:10:50,498 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:10:50,506 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:10:50,513 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 22:10:50,543 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 22:10:50,575 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 22:10:50,583 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 22:10:50,584 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 0.771 seconds (JVM running for 2638.512)
2018-03-28 22:10:50,586 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 22:10:52,974 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6934908: startup date [Wed Mar 28 22:10:49 CST 2018]; root of context hierarchy
2018-03-28 22:10:52,975 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 22:10:53,425 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 6980 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 22:10:53,425 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 22:10:53,428 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@81c4fac: startup date [Wed Mar 28 22:10:53 CST 2018]; root of context hierarchy
2018-03-28 22:10:53,760 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:10:53,885 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 22:10:53,885 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:10:53,886 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 22:10:53,886 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 22:10:53,887 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:10:53,923 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 22:10:53,923 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 495 ms
2018-03-28 22:10:53,935 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 22:10:53,936 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 22:10:53,936 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 22:10:53,936 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 22:10:53,937 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 22:10:53,962 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 22:10:53,979 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:20, serverValue:96}] to localhost:27017
2018-03-28 22:10:53,980 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=337502}
2018-03-28 22:10:54,034 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@81c4fac: startup date [Wed Mar 28 22:10:53 CST 2018]; root of context hierarchy
2018-03-28 22:10:54,042 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 22:10:54,042 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 22:10:54,049 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:10:54,050 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:10:54,060 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:10:54,069 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 22:10:54,108 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 22:10:54,148 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 22:10:54,159 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 22:10:54,160 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 0.771 seconds (JVM running for 2642.088)
2018-03-28 22:10:54,162 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 22:11:19,736 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@81c4fac: startup date [Wed Mar 28 22:10:53 CST 2018]; root of context hierarchy
2018-03-28 22:11:19,737 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 22:11:26,626 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 6980 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 22:11:26,626 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 22:11:26,632 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2338583c: startup date [Wed Mar 28 22:11:26 CST 2018]; root of context hierarchy
2018-03-28 22:11:26,884 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$ffc879c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:11:26,895 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:11:26,909 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:11:26,910 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:11:26,912 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$de9627d1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:11:26,915 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$afd7a4ef] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:11:26,916 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 22:11:26,919 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:11:26,921 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:11:26,922 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:22, serverValue:98}] to localhost:27017
2018-03-28 22:11:26,924 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=536845}
2018-03-28 22:11:26,926 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:11:26,932 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:11:26,935 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:11:26,939 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:11:26,942 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4d73de0e' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:11:26,942 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4d73de0e' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:11:26,943 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#34ca332a' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:11:26,945 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#286b0994' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:11:26,945 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#286b0994' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:11:26,946 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5dc88020' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:11:26,971 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:11:26,972 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy113] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:11:26,973 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:11:26,974 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:11:26,983 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:11:26,985 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.14' does not yet exist.  Creating now.
2018-03-28 22:11:26,986 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.14]
2018-03-28 22:11:26,987 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:11:27,001 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:11:27,090 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:11:27,267 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 22:11:27,268 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:11:27,269 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 22:11:27,269 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 22:11:27,270 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:11:27,307 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 22:11:27,308 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 677 ms
2018-03-28 22:11:27,358 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 22:11:27,359 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 22:11:27,359 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 22:11:27,359 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 22:11:27,360 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 22:11:27,360 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 22:11:27,456 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 22:11:27,471 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 22:11:27,495 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 22:11:27,507 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 22:11:27,522 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 22:11:27,577 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 22:11:27,577 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 22:11:27,638 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2338583c: startup date [Wed Mar 28 22:11:26 CST 2018]; root of context hierarchy
2018-03-28 22:11:27,656 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 22:11:27,657 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 22:11:27,657 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 22:11:27,657 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 22:11:27,658 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 22:11:27,658 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 22:11:27,658 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 22:11:27,658 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 22:11:27,660 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 22:11:27,660 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 22:11:27,695 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:11:27,695 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:11:27,728 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:11:27,757 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 22:11:27,839 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 22:11:27,881 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 22:11:27,884 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 22:11:27,884 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 22:11:27,884 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 22:11:27,885 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 22:11:27,892 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 22:11:27,893 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.303 seconds (JVM running for 2675.821)
2018-03-28 22:11:27,896 INFO (ConditionEvaluationDeltaLoggingListener.java:50)- Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

   ShiroConfig#defaultAdvisorAutoProxyCreator matched:
      - @ConditionalOnMissingBean (types: org.springframework.aop.framework.autoproxy.DefaultAdvisorAutoProxyCreator; SearchStrategy: all) did not find any beans (OnBeanCondition)

   WebSocketMessagingAutoConfiguration.WebSocketMessageConverterConfiguration matched:
      - @ConditionalOnClass found required classes 'com.fasterxml.jackson.databind.ObjectMapper', 'org.springframework.messaging.simp.config.AbstractMessageBrokerConfiguration'; @ConditionalOnMissingClass did not find unwanted class (OnClassCondition)
      - @ConditionalOnBean (types: org.springframework.web.socket.config.annotation.DelegatingWebSocketMessageBrokerConfiguration,com.fasterxml.jackson.databind.ObjectMapper; SearchStrategy: all) found beans 'jacksonObjectMapper', 'org.springframework.web.socket.config.annotation.DelegatingWebSocketMessageBrokerConfiguration' (OnBeanCondition)


Negative matches:
-----------------

    None


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2018-03-28 22:12:24,792 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2338583c: startup date [Wed Mar 28 22:11:26 CST 2018]; root of context hierarchy
2018-03-28 22:12:24,793 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 22:12:24,793 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 22:12:24,793 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 22:12:24,794 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 22:12:24,794 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 22:12:24,794 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 22:12:24,794 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 22:12:24,795 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 22:12:24,795 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 22:12:25,309 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 6980 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 22:12:25,310 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 22:12:25,314 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@52495c37: startup date [Wed Mar 28 22:12:25 CST 2018]; root of context hierarchy
2018-03-28 22:12:26,394 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$ffc879c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:12:26,476 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:12:26,502 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:12:26,504 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:12:26,506 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$de9627d1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:12:26,513 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$afd7a4ef] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:12:26,516 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 22:12:26,521 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:12:26,524 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:12:26,529 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:12:26,534 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:23, serverValue:99}] to localhost:27017
2018-03-28 22:12:26,537 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=517503}
2018-03-28 22:12:26,538 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:12:26,543 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:12:26,545 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:12:26,551 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#1e3656e4' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:12:26,552 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#1e3656e4' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:12:26,554 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#3a573df8' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:12:26,556 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#79aca20b' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:12:26,557 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#79aca20b' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:12:26,558 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#517aa23e' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:12:26,580 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:12:26,581 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy115] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:12:26,582 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:12:26,583 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:12:26,587 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:12:26,588 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.15' does not yet exist.  Creating now.
2018-03-28 22:12:26,588 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.15]
2018-03-28 22:12:26,589 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:12:26,595 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:12:26,646 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:12:26,792 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 22:12:26,794 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:12:26,795 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 22:12:26,796 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 22:12:26,798 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:12:26,845 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 22:12:26,845 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 1531 ms
2018-03-28 22:12:26,912 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 22:12:26,913 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 22:12:26,913 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 22:12:26,913 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 22:12:26,913 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 22:12:26,914 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 22:12:27,009 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 22:12:27,025 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 22:12:27,051 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 22:12:27,064 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 22:12:27,077 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 22:12:27,188 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 22:12:27,189 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 22:12:27,301 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@52495c37: startup date [Wed Mar 28 22:12:25 CST 2018]; root of context hierarchy
2018-03-28 22:12:27,326 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 22:12:27,327 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 22:12:27,328 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 22:12:27,329 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 22:12:27,330 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 22:12:27,330 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 22:12:27,331 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 22:12:27,331 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 22:12:27,334 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 22:12:27,335 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 22:12:27,399 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:12:27,399 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:12:27,446 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:12:27,495 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 22:12:27,633 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 22:12:27,688 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 22:12:27,691 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 22:12:27,692 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 22:12:27,692 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 22:12:27,692 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 22:12:27,701 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 22:12:27,703 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 2.449 seconds (JVM running for 2735.63)
2018-03-28 22:12:27,706 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 22:13:02,385 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@52495c37: startup date [Wed Mar 28 22:12:25 CST 2018]; root of context hierarchy
2018-03-28 22:13:02,387 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 22:13:02,387 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 22:13:02,388 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 22:13:02,388 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 22:13:02,389 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 22:13:02,390 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 22:13:02,391 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 22:13:02,392 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 22:13:02,392 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 22:13:02,917 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 6980 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 22:13:02,918 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 22:13:02,920 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@47715fdc: startup date [Wed Mar 28 22:13:02 CST 2018]; root of context hierarchy
2018-03-28 22:13:03,199 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$ffc879c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:13:03,216 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:13:03,239 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:13:03,241 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:13:03,241 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$de9627d1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:13:03,246 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$afd7a4ef] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:13:03,247 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 22:13:03,252 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:13:03,254 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:13:03,256 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:24, serverValue:100}] to localhost:27017
2018-03-28 22:13:03,258 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=465793}
2018-03-28 22:13:03,259 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:13:03,265 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:13:03,268 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:13:03,271 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:13:03,273 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2120f639' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:13:03,274 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2120f639' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:13:03,275 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#534c2754' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:13:03,277 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#15fbb5a5' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:13:03,278 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#15fbb5a5' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:13:03,280 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#35c09956' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:13:03,304 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:13:03,305 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy117] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:13:03,306 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:13:03,306 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:13:03,313 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:13:03,314 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.16' does not yet exist.  Creating now.
2018-03-28 22:13:03,315 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.16]
2018-03-28 22:13:03,316 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:13:03,323 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:13:03,382 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:13:03,511 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 22:13:03,512 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:13:03,513 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 22:13:03,513 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 22:13:03,514 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:13:03,563 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 22:13:03,563 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 643 ms
2018-03-28 22:13:03,612 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 22:13:03,612 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 22:13:03,613 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 22:13:03,613 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 22:13:03,613 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 22:13:03,613 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 22:13:03,721 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 22:13:03,741 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 22:13:03,772 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 22:13:03,789 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 22:13:03,805 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 22:13:03,858 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 22:13:03,859 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 22:13:03,915 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@47715fdc: startup date [Wed Mar 28 22:13:02 CST 2018]; root of context hierarchy
2018-03-28 22:13:03,934 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 22:13:03,935 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 22:13:03,935 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 22:13:03,936 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 22:13:03,936 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 22:13:03,936 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 22:13:03,937 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 22:13:03,937 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 22:13:03,938 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 22:13:03,939 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 22:13:03,976 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:13:03,976 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:13:04,014 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:13:04,045 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 22:13:04,116 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 22:13:04,167 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 22:13:04,183 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 22:13:04,184 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 22:13:04,184 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 22:13:04,184 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 22:13:04,200 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 22:13:04,201 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.314 seconds (JVM running for 2772.13)
2018-03-28 22:13:04,204 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 22:14:02,078 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@47715fdc: startup date [Wed Mar 28 22:13:02 CST 2018]; root of context hierarchy
2018-03-28 22:14:02,079 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 22:14:02,080 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 22:14:02,080 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 22:14:02,081 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 22:14:02,081 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 22:14:02,082 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 22:14:02,082 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 22:14:02,082 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 22:14:02,083 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 22:14:02,630 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 6980 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 22:14:02,631 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 22:14:02,634 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7d35d83e: startup date [Wed Mar 28 22:14:02 CST 2018]; root of context hierarchy
2018-03-28 22:14:03,114 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$ffc879c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:03,133 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:03,154 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:03,156 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:03,157 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$de9627d1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:03,161 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$afd7a4ef] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:03,162 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 22:14:03,167 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:03,168 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:03,172 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:03,179 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:03,183 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:03,185 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:03,189 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#51149ad8' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:03,189 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#51149ad8' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:03,191 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#a721ef5' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:03,193 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#302133cb' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:03,193 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#302133cb' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:03,194 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#75d63ea7' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:03,201 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:25, serverValue:101}] to localhost:27017
2018-03-28 22:14:03,203 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=535660}
2018-03-28 22:14:03,230 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:03,230 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy119] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:03,232 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:03,233 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:03,245 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:03,246 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.17' does not yet exist.  Creating now.
2018-03-28 22:14:03,247 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.17]
2018-03-28 22:14:03,248 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:03,258 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:03,348 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:14:03,538 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 22:14:03,538 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:14:03,539 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 22:14:03,539 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 22:14:03,540 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:14:03,579 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 22:14:03,579 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 945 ms
2018-03-28 22:14:03,667 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 22:14:03,668 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 22:14:03,668 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 22:14:03,668 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 22:14:03,669 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 22:14:03,669 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 22:14:03,768 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 22:14:03,786 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 22:14:03,819 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 22:14:03,831 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 22:14:03,845 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 22:14:03,912 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 22:14:03,913 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 22:14:04,063 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7d35d83e: startup date [Wed Mar 28 22:14:02 CST 2018]; root of context hierarchy
2018-03-28 22:14:04,112 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 22:14:04,113 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 22:14:04,114 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 22:14:04,115 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 22:14:04,116 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 22:14:04,116 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 22:14:04,116 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 22:14:04,117 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 22:14:04,122 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 22:14:04,123 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 22:14:04,230 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:14:04,230 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:14:04,350 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:14:04,482 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 22:14:04,892 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 22:14:05,084 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 22:14:05,088 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 22:14:05,089 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 22:14:05,089 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 22:14:05,091 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 22:14:05,207 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 22:14:05,208 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 2.64 seconds (JVM running for 2833.136)
2018-03-28 22:14:05,212 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 22:14:06,866 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7d35d83e: startup date [Wed Mar 28 22:14:02 CST 2018]; root of context hierarchy
2018-03-28 22:14:06,867 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 22:14:06,868 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 22:14:06,868 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 22:14:06,868 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 22:14:06,868 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 22:14:06,869 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 22:14:06,869 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 22:14:06,869 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 22:14:06,870 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 22:14:07,252 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 6980 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 22:14:07,253 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 22:14:07,255 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4b26b54f: startup date [Wed Mar 28 22:14:07 CST 2018]; root of context hierarchy
2018-03-28 22:14:07,520 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$ffc879c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:07,546 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:07,576 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:07,579 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:07,581 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$de9627d1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:07,585 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$afd7a4ef] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:07,587 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 22:14:07,593 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:07,594 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:07,599 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:07,605 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:07,612 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:07,616 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:07,627 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#30ec5d95' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:07,628 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#30ec5d95' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:07,630 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#1c13133d' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:07,632 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:26, serverValue:102}] to localhost:27017
2018-03-28 22:14:07,634 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=541977}
2018-03-28 22:14:07,635 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#73da287a' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:07,636 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#73da287a' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:07,650 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#65c1d354' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:07,683 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:07,685 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy121] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:07,685 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:07,686 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:07,692 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:07,693 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.18' does not yet exist.  Creating now.
2018-03-28 22:14:07,694 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.18]
2018-03-28 22:14:07,694 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:07,702 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:14:07,892 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:14:08,139 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 22:14:08,141 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:14:08,142 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 22:14:08,142 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 22:14:08,144 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:14:08,195 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 22:14:08,195 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 940 ms
2018-03-28 22:14:08,251 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 22:14:08,251 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 22:14:08,252 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 22:14:08,252 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 22:14:08,252 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 22:14:08,252 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 22:14:08,550 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 22:14:08,580 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 22:14:08,610 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 22:14:08,627 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 22:14:08,645 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 22:14:08,735 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 22:14:08,736 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 22:14:08,859 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4b26b54f: startup date [Wed Mar 28 22:14:07 CST 2018]; root of context hierarchy
2018-03-28 22:14:08,894 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 22:14:08,895 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 22:14:08,895 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 22:14:08,896 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 22:14:08,896 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 22:14:08,896 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 22:14:08,896 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 22:14:08,897 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 22:14:08,947 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 22:14:08,950 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 22:14:09,087 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:14:09,088 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:14:09,170 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:14:09,245 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 22:14:09,326 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 22:14:09,370 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 22:14:09,372 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 22:14:09,372 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 22:14:09,372 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 22:14:09,373 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 22:14:09,379 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 22:14:09,380 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 2.149 seconds (JVM running for 2837.308)
2018-03-28 22:14:09,382 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 22:15:08,644 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-28 22:21:13,351 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4b26b54f: startup date [Wed Mar 28 22:14:07 CST 2018]; root of context hierarchy
2018-03-28 22:21:13,352 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 22:21:13,353 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 22:21:13,353 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 22:21:13,353 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 22:21:13,353 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 22:21:13,368 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 22:21:13,368 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 22:21:13,368 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 22:21:13,369 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 22:21:13,837 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 6980 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 22:21:13,837 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 22:21:13,840 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@e05d5f9: startup date [Wed Mar 28 22:21:13 CST 2018]; root of context hierarchy
2018-03-28 22:21:14,258 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$ffc879c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:21:14,280 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:21:14,293 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:21:14,295 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:21:14,296 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$de9627d1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:21:14,299 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$afd7a4ef] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:21:14,300 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 22:21:14,306 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:21:14,308 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:21:14,310 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:27, serverValue:103}] to localhost:27017
2018-03-28 22:21:14,313 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=703031}
2018-03-28 22:21:14,315 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:21:14,319 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:21:14,323 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:21:14,325 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:21:14,327 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#33190fbf' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:21:14,327 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#33190fbf' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:21:14,328 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#159146c2' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:21:14,329 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2931b8c9' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:21:14,330 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2931b8c9' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:21:14,330 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2d515352' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:21:14,343 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:21:14,344 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy123] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:21:14,344 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:21:14,345 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:21:14,349 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:21:14,350 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.19' does not yet exist.  Creating now.
2018-03-28 22:21:14,351 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.19]
2018-03-28 22:21:14,352 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:21:14,359 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:21:14,408 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:21:14,581 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 22:21:14,582 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:21:14,582 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 22:21:14,583 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 22:21:14,584 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:21:14,637 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 22:21:14,638 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 798 ms
2018-03-28 22:21:14,681 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 22:21:14,682 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 22:21:14,682 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 22:21:14,682 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 22:21:14,683 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 22:21:14,683 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 22:21:14,773 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 22:21:14,789 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 22:21:14,815 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 22:21:14,827 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 22:21:14,841 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 22:21:14,921 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 22:21:14,922 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 22:21:14,999 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@e05d5f9: startup date [Wed Mar 28 22:21:13 CST 2018]; root of context hierarchy
2018-03-28 22:21:15,019 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 22:21:15,020 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 22:21:15,020 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 22:21:15,020 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 22:21:15,021 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 22:21:15,021 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 22:21:15,021 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 22:21:15,022 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 22:21:15,024 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 22:21:15,025 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 22:21:15,061 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:21:15,062 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:21:15,095 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:21:15,122 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 22:21:15,194 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 22:21:15,237 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 22:21:15,240 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 22:21:15,240 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 22:21:15,241 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 22:21:15,241 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 22:21:15,249 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 22:21:15,250 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.457 seconds (JVM running for 3263.178)
2018-03-28 22:21:15,252 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 22:22:14,842 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-28 22:24:31,580 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@e05d5f9: startup date [Wed Mar 28 22:21:13 CST 2018]; root of context hierarchy
2018-03-28 22:24:31,584 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 22:24:31,585 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 22:24:31,585 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 22:24:31,585 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 22:24:31,586 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 22:24:31,586 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 22:24:31,586 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 22:24:31,587 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 22:24:31,587 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 22:24:31,989 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 6980 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 22:24:31,990 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 22:24:31,993 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3254765: startup date [Wed Mar 28 22:24:31 CST 2018]; root of context hierarchy
2018-03-28 22:24:32,356 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$ffc879c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:32,381 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:32,402 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:32,404 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:32,405 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$de9627d1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:32,410 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$afd7a4ef] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:32,412 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 22:24:32,418 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:32,419 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:32,425 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:32,435 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:32,439 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:32,443 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:32,447 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6e0512bd' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:32,447 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6e0512bd' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:32,449 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2f7a120' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:32,452 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#1e287bdf' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:32,453 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#1e287bdf' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:32,497 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#f1169cc' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:32,521 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:28, serverValue:104}] to localhost:27017
2018-03-28 22:24:32,523 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=540003}
2018-03-28 22:24:32,538 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:32,539 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy125] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:32,540 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:32,542 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:32,553 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:32,556 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.20' does not yet exist.  Creating now.
2018-03-28 22:24:32,557 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.20]
2018-03-28 22:24:32,558 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:32,573 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:32,757 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:24:32,905 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 22:24:32,906 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:24:32,907 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 22:24:32,907 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 22:24:32,908 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:24:33,024 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 22:24:33,025 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 1032 ms
2018-03-28 22:24:33,085 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 22:24:33,086 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 22:24:33,086 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 22:24:33,087 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 22:24:33,087 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 22:24:33,087 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 22:24:33,193 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 22:24:33,211 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 22:24:33,237 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 22:24:33,250 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 22:24:33,265 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 22:24:33,392 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 22:24:33,392 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 22:24:33,451 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3254765: startup date [Wed Mar 28 22:24:31 CST 2018]; root of context hierarchy
2018-03-28 22:24:33,471 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 22:24:33,472 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 22:24:33,472 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 22:24:33,472 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 22:24:33,472 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 22:24:33,473 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 22:24:33,473 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 22:24:33,473 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 22:24:33,474 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 22:24:33,475 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 22:24:33,508 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:24:33,508 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:24:33,540 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:24:33,567 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 22:24:33,637 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 22:24:33,682 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 22:24:33,684 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 22:24:33,684 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 22:24:33,684 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 22:24:33,684 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 22:24:33,690 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 22:24:33,691 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.744 seconds (JVM running for 3461.619)
2018-03-28 22:24:33,693 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 22:24:37,905 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3254765: startup date [Wed Mar 28 22:24:31 CST 2018]; root of context hierarchy
2018-03-28 22:24:37,907 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-28 22:24:37,908 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-28 22:24:37,908 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 22:24:37,909 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-28 22:24:37,909 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-28 22:24:37,910 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-28 22:24:37,910 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-28 22:24:37,911 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-28 22:24:37,912 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-28 22:24:38,279 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 6980 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-28 22:24:38,279 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-28 22:24:38,282 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@787b0d01: startup date [Wed Mar 28 22:24:38 CST 2018]; root of context hierarchy
2018-03-28 22:24:38,633 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$ffc879c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:38,660 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:38,679 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:38,680 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:38,681 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$de9627d1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:38,686 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$afd7a4ef] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:38,687 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-28 22:24:38,695 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:38,696 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:38,699 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:38,705 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:38,707 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:29, serverValue:105}] to localhost:27017
2018-03-28 22:24:38,711 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=546319}
2018-03-28 22:24:38,715 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:38,718 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:38,722 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#46af430b' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:38,723 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#46af430b' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:38,725 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6e6b7b8c' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:38,726 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6e2fca1b' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:38,727 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6e2fca1b' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:38,727 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#fb04017' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:38,745 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:38,745 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy127] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:38,746 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:38,746 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:38,755 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:38,756 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.21' does not yet exist.  Creating now.
2018-03-28 22:24:38,757 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.21]
2018-03-28 22:24:38,758 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:38,765 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-28 22:24:38,822 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:24:39,007 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-28 22:24:39,008 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:24:39,009 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-28 22:24:39,009 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-28 22:24:39,010 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-28 22:24:39,064 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-28 22:24:39,064 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 782 ms
2018-03-28 22:24:39,114 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-28 22:24:39,115 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-28 22:24:39,116 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-28 22:24:39,116 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-28 22:24:39,116 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-28 22:24:39,116 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-28 22:24:39,297 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-28 22:24:39,363 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-28 22:24:39,465 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-28 22:24:39,504 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-28 22:24:39,534 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-28 22:24:39,616 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-28 22:24:39,618 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-28 22:24:39,686 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@787b0d01: startup date [Wed Mar 28 22:24:38 CST 2018]; root of context hierarchy
2018-03-28 22:24:39,708 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-28 22:24:39,709 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 22:24:39,709 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-28 22:24:39,710 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-28 22:24:39,710 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-28 22:24:39,710 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-28 22:24:39,711 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-28 22:24:39,712 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-28 22:24:39,716 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-28 22:24:39,717 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 22:24:39,757 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:24:39,758 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:24:39,797 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-28 22:24:39,846 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-28 22:24:39,952 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-28 22:24:40,023 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-28 22:24:40,025 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-28 22:24:40,025 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-28 22:24:40,025 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-28 22:24:40,025 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-28 22:24:40,032 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-28 22:24:40,033 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.804 seconds (JVM running for 3467.961)
2018-03-28 22:24:40,034 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-28 22:25:39,534 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
