2018-03-29 22:08:58,612 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 1448 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-29 22:08:58,642 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-29 22:08:58,771 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@77b6d135: startup date [Thu Mar 29 22:08:58 CST 2018]; root of context hierarchy
2018-03-29 22:09:00,947 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$7b4cbbc1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:09:04,223 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:09:04,276 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:09:04,285 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:09:04,291 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$49e65bf6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:09:04,308 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$1b27d914] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:09:04,928 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-29 22:09:05,070 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:09:05,084 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:09:05,149 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:09:05,181 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:09:05,238 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:09:05,283 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:09:05,306 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2daa4346' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:09:05,307 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2daa4346' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:09:05,314 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#1d9f7d04' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:09:05,323 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#11e3184a' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:09:05,323 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#11e3184a' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:09:05,330 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#563c6176' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:09:05,605 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:09:05,606 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy80] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:09:05,608 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:09:05,610 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:09:05,799 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:09:05,800 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache' does not yet exist.  Creating now.
2018-03-29 22:09:05,803 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache]
2018-03-29 22:09:05,821 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:09:05,871 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:09:06,161 INFO (SLF4JLogger.java:76)- Exception in monitor thread while connecting to server localhost:27017
com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62)
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126)
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59)
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57)
	... 3 common frames omitted
2018-03-29 22:09:07,089 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:09:07,479 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-29 22:09:07,555 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:09:07,556 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-29 22:09:07,607 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-29 22:09:07,607 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-29 22:09:07,650 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:09:08,298 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-29 22:09:08,299 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 9528 ms
2018-03-29 22:09:08,831 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-29 22:09:08,840 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-29 22:09:08,841 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-29 22:09:08,843 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-29 22:09:08,844 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-29 22:09:08,847 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-29 22:09:09,305 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-29 22:09:09,343 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-29 22:09:09,472 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-29 22:09:09,673 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-29 22:09:09,718 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-29 22:09:09,972 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-29 22:09:09,973 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-29 22:09:10,359 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@77b6d135: startup date [Thu Mar 29 22:08:58 CST 2018]; root of context hierarchy
2018-03-29 22:09:10,508 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-29 22:09:10,510 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-29 22:09:10,511 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-29 22:09:10,514 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-29 22:09:10,516 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-29 22:09:10,517 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-29 22:09:10,519 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-29 22:09:10,521 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-29 22:09:10,539 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-29 22:09:10,543 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-29 22:09:10,784 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 22:09:10,785 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 22:09:10,911 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 22:09:11,029 WARN (TemplateMode.java:150)- [THYMELEAF][main] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-29 22:09:11,610 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-29 22:09:11,626 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-29 22:09:11,627 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-29 22:09:11,629 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-29 22:09:11,630 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-29 22:09:11,642 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-29 22:09:11,886 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-29 22:09:11,911 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-29 22:09:11,914 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 16.179 seconds (JVM running for 27.771)
2018-03-29 22:10:09,720 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-29 22:10:40,198 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:10:40,215 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-29 22:10:40,215 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-29 22:10:40,263 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 47 ms
2018-03-29 22:10:45,743 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:10:46,016 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:10:53,033 INFO (SLF4JLogger.java:71)- Cluster description not yet available. Waiting for 30000 ms before timing out
2018-03-29 22:11:23,035 WARN (AbstractAuthenticator.java:216)- Authentication failed for token submission [org.apache.shiro.authc.UsernamePasswordToken - vivo, rememberMe=false (0:0:0:0:0:0:0:1)].  Possible unexpected error? (Typical or expected login exceptions should extend from AuthenticationException).
org.springframework.dao.DataAccessResourceFailureException: Timed out after 30000 ms while waiting to connect. Client view of cluster state is {type=UNKNOWN, servers=[{address=localhost:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused: connect}}]; nested exception is com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting to connect. Client view of cluster state is {type=UNKNOWN, servers=[{address=localhost:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused: connect}}]
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:87)
	at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:2589)
	at org.springframework.data.mongodb.core.MongoTemplate.executeFindMultiInternal(MongoTemplate.java:2457)
	at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2265)
	at org.springframework.data.mongodb.core.ExecutableFindOperationSupport$ExecutableFindSupport.doFind(ExecutableFindOperationSupport.java:213)
	at org.springframework.data.mongodb.core.ExecutableFindOperationSupport$ExecutableFindSupport.oneValue(ExecutableFindOperationSupport.java:138)
	at org.springframework.data.mongodb.repository.query.AbstractMongoQuery.lambda$getExecution$4(AbstractMongoQuery.java:124)
	at org.springframework.data.mongodb.repository.query.AbstractMongoQuery.execute(AbstractMongoQuery.java:97)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:590)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:578)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:59)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)
	at com.sun.proxy.$Proxy80.findByUsername(Unknown Source)
	at springboot.Facedetect.service.UserServiceImpl.findByUsername(UserServiceImpl.java:29)
	at springboot.Facedetect.config.MyShiroRealm.doGetAuthenticationInfo(MyShiroRealm.java:26)
	at org.apache.shiro.realm.AuthenticatingRealm.getAuthenticationInfo(AuthenticatingRealm.java:571)
	at org.apache.shiro.authc.pam.ModularRealmAuthenticator.doSingleRealmAuthentication(ModularRealmAuthenticator.java:180)
	at org.apache.shiro.authc.pam.ModularRealmAuthenticator.doAuthenticate(ModularRealmAuthenticator.java:267)
	at org.apache.shiro.authc.AbstractAuthenticator.authenticate(AbstractAuthenticator.java:198)
	at org.apache.shiro.mgt.AuthenticatingSecurityManager.authenticate(AuthenticatingSecurityManager.java:106)
	at org.apache.shiro.mgt.DefaultSecurityManager.login(DefaultSecurityManager.java:274)
	at org.apache.shiro.subject.support.DelegatingSubject.login(DelegatingSubject.java:260)
	at org.apache.shiro.web.filter.authc.AuthenticatingFilter.executeLogin(AuthenticatingFilter.java:53)
	at org.apache.shiro.web.filter.authc.FormAuthenticationFilter.onAccessDenied(FormAuthenticationFilter.java:154)
	at org.apache.shiro.web.filter.AccessControlFilter.onAccessDenied(AccessControlFilter.java:133)
	at org.apache.shiro.web.filter.AccessControlFilter.onPreHandle(AccessControlFilter.java:162)
	at org.apache.shiro.web.filter.PathMatchingFilter.isFilterChainContinued(PathMatchingFilter.java:203)
	at org.apache.shiro.web.filter.PathMatchingFilter.preHandle(PathMatchingFilter.java:178)
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:131)
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66)
	at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449)
	at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365)
	at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90)
	at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83)
	at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:387)
	at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362)
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting to connect. Client view of cluster state is {type=UNKNOWN, servers=[{address=localhost:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused: connect}}]
	at com.mongodb.connection.BaseCluster.getDescription(BaseCluster.java:167)
	at com.mongodb.Mongo.getConnectedClusterDescription(Mongo.java:885)
	at com.mongodb.Mongo.createClientSession(Mongo.java:877)
	at com.mongodb.Mongo$3.getClientSession(Mongo.java:866)
	at com.mongodb.Mongo$3.execute(Mongo.java:823)
	at com.mongodb.MongoIterableImpl.execute(MongoIterableImpl.java:130)
	at com.mongodb.MongoIterableImpl.iterator(MongoIterableImpl.java:77)
	at org.springframework.data.mongodb.core.MongoTemplate.executeFindMultiInternal(MongoTemplate.java:2440)
	... 75 common frames omitted
2018-03-29 22:13:46,454 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:44, serverValue:1}] to localhost:27017
2018-03-29 22:13:46,471 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=4931473}
2018-03-29 22:13:57,642 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:45, serverValue:2}] to localhost:27017
2018-03-29 22:14:00,931 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-29 22:14:07,513 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-29 22:14:07,716 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-29 22:15:49,860 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 1468 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-29 22:15:49,880 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-29 22:15:50,018 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6451a5d0: startup date [Thu Mar 29 22:15:50 CST 2018]; root of context hierarchy
2018-03-29 22:15:51,932 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$6016efda] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:15:54,053 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:15:54,100 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:15:54,109 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:15:54,118 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$2eb0900f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:15:54,139 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$fff20d2d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:15:54,755 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-29 22:15:54,864 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:15:54,881 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:15:54,936 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:1, serverValue:3}] to localhost:27017
2018-03-29 22:15:54,945 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=4561998}
2018-03-29 22:15:54,991 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:15:55,029 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:15:55,107 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:15:55,146 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:15:55,160 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#3e51ea9b' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:15:55,161 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#3e51ea9b' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:15:55,165 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#68cf408b' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:15:55,172 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#50dd59e1' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:15:55,173 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#50dd59e1' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:15:55,181 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5dc541b5' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:15:55,372 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:15:55,373 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy80] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:15:55,377 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:15:55,379 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:15:55,545 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:15:55,546 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache' does not yet exist.  Creating now.
2018-03-29 22:15:55,549 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache]
2018-03-29 22:15:55,564 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:15:55,620 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:15:56,192 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:15:56,725 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-29 22:15:56,835 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:15:56,836 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-29 22:15:56,879 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-29 22:15:56,880 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-29 22:15:56,892 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:15:57,267 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-29 22:15:57,268 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 7250 ms
2018-03-29 22:15:57,699 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-29 22:15:57,707 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-29 22:15:57,708 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-29 22:15:57,709 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-29 22:15:57,709 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-29 22:15:57,710 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-29 22:15:58,199 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-29 22:15:58,246 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-29 22:15:58,353 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-29 22:15:58,453 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-29 22:15:58,503 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-29 22:15:58,784 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-29 22:15:58,785 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-29 22:15:59,156 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6451a5d0: startup date [Thu Mar 29 22:15:50 CST 2018]; root of context hierarchy
2018-03-29 22:15:59,329 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-29 22:15:59,332 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-29 22:15:59,333 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-29 22:15:59,335 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-29 22:15:59,336 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-29 22:15:59,337 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-29 22:15:59,338 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-29 22:15:59,339 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-29 22:15:59,351 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-29 22:15:59,353 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-29 22:15:59,469 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 22:15:59,470 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 22:15:59,640 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 22:15:59,778 WARN (TemplateMode.java:150)- [THYMELEAF][main] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-29 22:16:00,365 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-29 22:16:00,377 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-29 22:16:00,378 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-29 22:16:00,380 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-29 22:16:00,381 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-29 22:16:00,395 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-29 22:16:00,895 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-29 22:16:00,919 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-29 22:16:00,923 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 13.15 seconds (JVM running for 29.272)
2018-03-29 22:16:30,428 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:16:30,460 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-29 22:16:30,460 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-29 22:16:30,510 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 49 ms
2018-03-29 22:16:31,349 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:16:31,356 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:16:37,763 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:2, serverValue:4}] to localhost:27017
2018-03-29 22:16:38,403 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,vivo,huawei,]
2018-03-29 22:16:41,842 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,vivo,huawei,]
2018-03-29 22:16:41,965 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,vivo,huawei,]
2018-03-29 22:16:58,500 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 2 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(2)-CONNECTED(2)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 8, active threads = 0, queued tasks = 0, completed tasks = 21], outboundChannelpool size = 3, active threads = 0, queued tasks = 0, completed tasks = 3], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 2, completed tasks = 5]
2018-03-29 22:18:12,430 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 7936 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-29 22:18:12,437 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-29 22:18:12,496 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702ddb9a: startup date [Thu Mar 29 22:18:12 CST 2018]; root of context hierarchy
2018-03-29 22:18:14,213 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$69b02b5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:18:14,831 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:18:14,901 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:18:14,910 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:18:14,919 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$d534a2ea] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:18:14,943 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$a6762008] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:18:15,395 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-29 22:18:15,452 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:18:15,477 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:18:15,502 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:1, serverValue:5}] to localhost:27017
2018-03-29 22:18:15,514 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=5801478}
2018-03-29 22:18:15,586 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:18:15,624 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:18:15,669 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:18:15,711 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:18:15,733 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#18eaebbd' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:18:15,734 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#18eaebbd' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:18:15,741 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#55c6b246' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:18:15,751 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#58736002' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:18:15,752 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#58736002' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:18:15,760 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6b0fc70b' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:18:15,936 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:18:15,937 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy80] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:18:15,939 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:18:15,940 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:18:16,101 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:18:16,103 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache' does not yet exist.  Creating now.
2018-03-29 22:18:16,109 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache]
2018-03-29 22:18:16,130 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:18:16,207 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:18:16,681 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:18:16,824 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-29 22:18:16,847 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:18:16,847 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-29 22:18:16,866 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-29 22:18:16,867 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-29 22:18:16,882 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:18:17,073 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-29 22:18:17,074 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 4578 ms
2018-03-29 22:18:17,472 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-29 22:18:17,480 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-29 22:18:17,480 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-29 22:18:17,481 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-29 22:18:17,481 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-29 22:18:17,482 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-29 22:18:17,940 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-29 22:18:17,984 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-29 22:18:18,085 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-29 22:18:18,178 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-29 22:18:18,229 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-29 22:18:18,484 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-29 22:18:18,485 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-29 22:18:18,844 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702ddb9a: startup date [Thu Mar 29 22:18:12 CST 2018]; root of context hierarchy
2018-03-29 22:18:18,959 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-29 22:18:18,961 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-29 22:18:18,962 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-29 22:18:18,964 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-29 22:18:18,965 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-29 22:18:18,965 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-29 22:18:18,966 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-29 22:18:18,967 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-29 22:18:18,978 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-29 22:18:18,980 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-29 22:18:19,110 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 22:18:19,112 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 22:18:19,245 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 22:18:19,380 WARN (TemplateMode.java:150)- [THYMELEAF][main] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-29 22:18:19,892 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-29 22:18:20,254 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-29 22:18:20,255 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-29 22:18:20,255 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-29 22:18:20,256 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-29 22:18:20,267 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-29 22:18:20,339 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-29 22:18:20,380 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-29 22:18:20,383 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 8.674 seconds (JVM running for 15.139)
2018-03-29 22:19:18,226 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-29 22:20:04,617 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:20:04,635 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-29 22:20:04,635 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-29 22:20:04,685 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 49 ms
2018-03-29 22:20:05,692 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:20:05,706 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:20:11,546 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:2, serverValue:6}] to localhost:27017
2018-03-29 22:20:12,229 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,]
2018-03-29 22:20:21,784 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,]
2018-03-29 22:20:21,980 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,]
2018-03-29 22:21:46,852 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 6328 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-29 22:21:46,861 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-29 22:21:46,956 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4fbccbf8: startup date [Thu Mar 29 22:21:46 CST 2018]; root of context hierarchy
2018-03-29 22:21:48,722 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$cb4ce538] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:21:49,422 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:21:49,498 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:21:49,508 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:21:49,517 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$99e6856d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:21:49,540 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$6b28028b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:21:50,036 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-29 22:21:50,096 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:21:50,115 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:21:50,132 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:1, serverValue:7}] to localhost:27017
2018-03-29 22:21:50,149 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=13141253}
2018-03-29 22:21:50,200 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:21:50,235 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:21:50,310 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:21:50,356 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:21:50,378 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7ce3f568' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:21:50,378 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7ce3f568' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:21:50,386 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#aef004b' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:21:50,398 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#158f4a51' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:21:50,399 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#158f4a51' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:21:50,408 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#3c3ab80c' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:21:50,589 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:21:50,590 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy80] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:21:50,592 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:21:50,594 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:21:50,718 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:21:50,719 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache' does not yet exist.  Creating now.
2018-03-29 22:21:50,723 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache]
2018-03-29 22:21:50,739 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:21:50,811 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:21:51,214 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:21:51,381 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-29 22:21:51,411 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:21:51,412 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-29 22:21:51,431 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-29 22:21:51,432 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-29 22:21:51,446 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:21:51,637 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-29 22:21:51,637 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 4681 ms
2018-03-29 22:21:52,004 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-29 22:21:52,011 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-29 22:21:52,012 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-29 22:21:52,012 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-29 22:21:52,013 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-29 22:21:52,014 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-29 22:21:52,474 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-29 22:21:52,553 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-29 22:21:52,653 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-29 22:21:52,757 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-29 22:21:52,805 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-29 22:21:53,059 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-29 22:21:53,060 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-29 22:21:53,407 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4fbccbf8: startup date [Thu Mar 29 22:21:46 CST 2018]; root of context hierarchy
2018-03-29 22:21:53,542 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-29 22:21:53,546 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-29 22:21:53,547 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-29 22:21:53,549 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-29 22:21:53,550 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-29 22:21:53,551 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-29 22:21:53,552 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-29 22:21:53,553 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-29 22:21:53,566 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-29 22:21:53,568 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-29 22:21:53,701 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 22:21:53,704 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 22:21:53,830 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 22:21:53,950 WARN (TemplateMode.java:150)- [THYMELEAF][main] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-29 22:21:54,414 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-29 22:21:54,795 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-29 22:21:54,796 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-29 22:21:54,798 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-29 22:21:54,799 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-29 22:21:54,809 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-29 22:21:54,824 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-29 22:21:54,851 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-29 22:21:54,855 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 8.782 seconds (JVM running for 15.124)
2018-03-29 22:22:52,803 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-29 22:23:05,164 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:23:05,202 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-29 22:23:05,203 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-29 22:23:05,284 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 80 ms
2018-03-29 22:23:06,150 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:23:06,168 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:23:12,454 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:2, serverValue:8}] to localhost:27017
2018-03-29 22:23:13,002 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:23:13,172 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,vivo,huawei,]
2018-03-29 22:23:22,133 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,vivo,huawei,]
2018-03-29 22:23:22,263 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,vivo,huawei,]
2018-03-29 22:25:26,046 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,vivo,huawei,]
2018-03-29 22:28:35,022 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 5772 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-29 22:28:35,057 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-29 22:28:35,314 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4069852e: startup date [Thu Mar 29 22:28:35 CST 2018]; root of context hierarchy
2018-03-29 22:28:37,332 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$21050187] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:28:38,690 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:28:38,751 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:28:38,761 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:28:38,769 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$ef9ea1bc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:28:38,787 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$c0e01eda] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:28:39,327 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-29 22:28:39,401 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:28:39,415 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:28:39,502 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:1, serverValue:9}] to localhost:27017
2018-03-29 22:28:39,512 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:28:39,512 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=5267791}
2018-03-29 22:28:39,573 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:28:39,634 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:28:39,677 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:28:39,702 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#35ef6e27' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:28:39,703 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#35ef6e27' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:28:39,710 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#39426cf3' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:28:39,720 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7df7a07b' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:28:39,721 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7df7a07b' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:28:39,728 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5007f5e7' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:28:39,919 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:28:39,920 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy80] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:28:39,923 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:28:39,924 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:28:40,086 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:28:40,088 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache' does not yet exist.  Creating now.
2018-03-29 22:28:40,091 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache]
2018-03-29 22:28:40,113 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:28:40,182 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:28:40,742 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:28:41,123 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-29 22:28:41,184 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:28:41,186 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-29 22:28:41,227 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-29 22:28:41,228 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-29 22:28:41,244 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:28:41,496 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-29 22:28:41,497 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 6183 ms
2018-03-29 22:28:41,843 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-29 22:28:41,852 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-29 22:28:41,853 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-29 22:28:41,853 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-29 22:28:41,854 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-29 22:28:41,854 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-29 22:28:42,360 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-29 22:28:42,403 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-29 22:28:42,503 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-29 22:28:42,617 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-29 22:28:42,667 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-29 22:28:42,943 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-29 22:28:42,944 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-29 22:28:43,288 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4069852e: startup date [Thu Mar 29 22:28:35 CST 2018]; root of context hierarchy
2018-03-29 22:28:43,440 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-29 22:28:43,444 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-29 22:28:43,445 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-29 22:28:43,446 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-29 22:28:43,447 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-29 22:28:43,448 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-29 22:28:43,448 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-29 22:28:43,449 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-29 22:28:43,461 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-29 22:28:43,462 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-29 22:28:43,574 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 22:28:43,576 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 22:28:43,685 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 22:28:43,792 WARN (TemplateMode.java:150)- [THYMELEAF][main] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-29 22:28:44,273 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-29 22:28:44,290 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-29 22:28:44,292 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-29 22:28:44,293 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-29 22:28:44,294 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-29 22:28:44,306 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-29 22:28:44,765 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-29 22:28:44,788 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-29 22:28:44,791 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 11.915 seconds (JVM running for 28.594)
2018-03-29 22:29:22,714 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:29:22,740 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-29 22:29:22,741 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-29 22:29:22,793 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 52 ms
2018-03-29 22:29:23,666 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:29:23,668 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:29:42,664 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-29 22:29:47,208 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:2, serverValue:10}] to localhost:27017
2018-03-29 22:29:53,171 INFO (WebSocketConfiguration.java:44)- online: [id=5abcf85b821283168c15b95a;username=meizu;nickname=meizu;jointime=null;online=false;Friends=]
2018-03-29 22:30:01,789 INFO (WebSocketConfiguration.java:52)- offline: [id=5abcf85b821283168c15b95a;username=meizu;nickname=meizu;jointime=null;online=false;Friends=]
2018-03-29 22:30:13,669 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a5082128308c4c089c2;username=huawei;nickname=huawei;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,vivo,huawei,]
2018-03-29 22:31:36,801 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a5082128308c4c089c2;username=huawei;nickname=huawei;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,vivo,huawei,]
2018-03-29 22:31:36,897 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a5082128308c4c089c2;username=huawei;nickname=huawei;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,vivo,huawei,]
2018-03-29 22:32:25,883 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a5082128308c4c089c2;username=huawei;nickname=huawei;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,vivo,huawei,]
2018-03-29 22:32:26,050 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a5082128308c4c089c2;username=huawei;nickname=huawei;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,vivo,huawei,]
2018-03-29 22:33:59,205 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 5264 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-29 22:33:59,217 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-29 22:33:59,332 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6458b707: startup date [Thu Mar 29 22:33:59 CST 2018]; root of context hierarchy
2018-03-29 22:34:01,007 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$fe09fffc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:34:01,604 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:34:01,661 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:34:01,670 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:34:01,679 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$cca3a031] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:34:01,699 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$9de51d4f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:34:02,132 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-29 22:34:02,192 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:34:02,216 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:34:02,241 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:1, serverValue:11}] to localhost:27017
2018-03-29 22:34:02,249 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=4624761}
2018-03-29 22:34:02,292 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:34:02,361 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:34:02,399 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:34:02,444 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:34:02,466 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#267e605b' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:34:02,467 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#267e605b' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:34:02,477 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#45621df7' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:34:02,485 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#61f60a28' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:34:02,486 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#61f60a28' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:34:02,493 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5ece21bf' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:34:02,679 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:34:02,680 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy80] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:34:02,682 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:34:02,685 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:34:02,829 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:34:02,830 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache' does not yet exist.  Creating now.
2018-03-29 22:34:02,834 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache]
2018-03-29 22:34:02,851 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:34:02,929 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:34:03,401 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:34:03,575 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-29 22:34:03,603 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:34:03,604 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-29 22:34:03,628 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-29 22:34:03,629 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-29 22:34:03,646 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:34:03,811 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-29 22:34:03,812 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 4480 ms
2018-03-29 22:34:04,157 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-29 22:34:04,164 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-29 22:34:04,165 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-29 22:34:04,165 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-29 22:34:04,166 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-29 22:34:04,166 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-29 22:34:04,635 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-29 22:34:04,681 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-29 22:34:04,777 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-29 22:34:04,871 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-29 22:34:04,902 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-29 22:34:05,093 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-29 22:34:05,094 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-29 22:34:05,419 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6458b707: startup date [Thu Mar 29 22:33:59 CST 2018]; root of context hierarchy
2018-03-29 22:34:05,541 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-29 22:34:05,543 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-29 22:34:05,544 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-29 22:34:05,546 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-29 22:34:05,547 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-29 22:34:05,548 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-29 22:34:05,549 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-29 22:34:05,550 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-29 22:34:05,559 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-29 22:34:05,561 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-29 22:34:05,692 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 22:34:05,693 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 22:34:05,816 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 22:34:05,922 WARN (TemplateMode.java:150)- [THYMELEAF][main] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-29 22:34:06,396 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-29 22:34:06,412 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-29 22:34:06,414 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-29 22:34:06,415 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-29 22:34:06,417 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-29 22:34:06,429 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-29 22:34:06,787 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-29 22:34:06,814 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-29 22:34:06,818 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 8.33 seconds (JVM running for 14.758)
2018-03-29 22:35:04,899 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-29 22:36:01,186 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:36:01,205 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-29 22:36:01,206 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-29 22:36:01,263 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 57 ms
2018-03-29 22:36:02,028 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:36:02,037 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:36:08,246 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:2, serverValue:12}] to localhost:27017
2018-03-29 22:36:08,946 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a5082128308c4c089c2;username=huawei;nickname=huawei;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,vivo,huawei,huawei,meizu,huawei,meizu,]
2018-03-29 22:36:13,334 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a5082128308c4c089c2;username=huawei;nickname=huawei;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,vivo,huawei,huawei,meizu,huawei,meizu,]
2018-03-29 22:36:13,465 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a5082128308c4c089c2;username=huawei;nickname=huawei;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,vivo,huawei,huawei,meizu,huawei,meizu,]
2018-03-29 22:51:25,857 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 7260 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-29 22:51:25,864 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-29 22:51:25,944 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@438278b: startup date [Thu Mar 29 22:51:25 CST 2018]; root of context hierarchy
2018-03-29 22:51:27,742 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$b0f9b13a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:51:28,397 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:51:28,471 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:51:28,480 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:51:28,490 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$7f93516f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:51:28,506 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$50d4ce8d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:51:28,898 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-29 22:51:28,953 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:51:28,974 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:51:28,993 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:1, serverValue:13}] to localhost:27017
2018-03-29 22:51:29,001 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=4648445}
2018-03-29 22:51:29,057 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:51:29,124 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:51:29,200 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:51:29,254 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:51:29,274 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#618a08d9' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:51:29,275 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#618a08d9' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:51:29,281 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4aeca59c' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:51:29,289 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#55dd1dc8' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:51:29,290 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#55dd1dc8' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:51:29,297 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#f1ca32c' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:51:29,463 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:51:29,464 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy80] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:51:29,467 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:51:29,468 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:51:29,627 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:51:29,630 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache' does not yet exist.  Creating now.
2018-03-29 22:51:29,633 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache]
2018-03-29 22:51:29,648 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:51:29,703 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:51:30,096 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:51:30,276 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-29 22:51:30,309 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:51:30,310 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-29 22:51:30,333 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-29 22:51:30,335 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-29 22:51:30,350 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:51:30,521 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-29 22:51:30,521 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 4577 ms
2018-03-29 22:51:30,839 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-29 22:51:30,846 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-29 22:51:30,847 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-29 22:51:30,847 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-29 22:51:30,847 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-29 22:51:30,848 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-29 22:51:31,286 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-29 22:51:31,318 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-29 22:51:31,440 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-29 22:51:31,535 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-29 22:51:31,567 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-29 22:51:31,780 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-29 22:51:31,781 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-29 22:51:32,136 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@438278b: startup date [Thu Mar 29 22:51:25 CST 2018]; root of context hierarchy
2018-03-29 22:51:32,310 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-29 22:51:32,314 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-29 22:51:32,315 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-29 22:51:32,318 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-29 22:51:32,319 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-29 22:51:32,320 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-29 22:51:32,320 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-29 22:51:32,321 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-29 22:51:32,335 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-29 22:51:32,336 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-29 22:51:32,444 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 22:51:32,444 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 22:51:32,536 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 22:51:32,648 WARN (TemplateMode.java:150)- [THYMELEAF][main] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-29 22:51:33,150 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-29 22:51:33,613 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-29 22:51:33,615 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-29 22:51:33,615 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-29 22:51:33,617 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-29 22:51:33,629 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-29 22:51:33,648 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-29 22:51:33,674 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-29 22:51:33,677 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 8.432 seconds (JVM running for 15.108)
2018-03-29 22:52:31,564 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-29 22:52:53,401 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:52:53,432 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-29 22:52:53,433 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-29 22:52:53,491 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 57 ms
2018-03-29 22:52:54,268 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:52:54,270 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:53:00,401 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:2, serverValue:14}] to localhost:27017
2018-03-29 22:53:01,147 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,vivo,huawei,vivo,vivo,]
2018-03-29 22:53:05,875 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,vivo,huawei,vivo,vivo,]
2018-03-29 22:53:06,053 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,vivo,huawei,vivo,vivo,]
2018-03-29 22:54:44,808 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 7804 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-29 22:54:44,817 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-29 22:54:44,883 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@62ac8dd6: startup date [Thu Mar 29 22:54:44 CST 2018]; root of context hierarchy
2018-03-29 22:54:46,655 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$e40fe2cc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:54:47,387 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:54:47,444 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:54:47,453 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:54:47,462 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$b2a98301] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:54:47,488 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$83eb001f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:54:47,912 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-29 22:54:47,965 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:54:47,995 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:54:48,010 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:1, serverValue:15}] to localhost:27017
2018-03-29 22:54:48,020 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=5556345}
2018-03-29 22:54:48,073 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:54:48,135 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:54:48,180 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:54:48,222 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:54:48,245 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#73e2a4c5' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:54:48,245 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#73e2a4c5' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:54:48,253 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2fb788ee' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:54:48,263 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#39b76b3c' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:54:48,263 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#39b76b3c' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:54:48,271 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6eb821be' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:54:48,487 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:54:48,488 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy80] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:54:48,492 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:54:48,494 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:54:48,630 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:54:48,684 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache' does not yet exist.  Creating now.
2018-03-29 22:54:48,687 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache]
2018-03-29 22:54:48,714 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:54:48,765 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:54:49,205 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:54:49,435 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-29 22:54:49,465 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:54:49,466 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-29 22:54:49,483 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-29 22:54:49,484 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-29 22:54:49,500 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:54:49,665 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-29 22:54:49,666 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 4783 ms
2018-03-29 22:54:50,039 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-29 22:54:50,065 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-29 22:54:50,066 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-29 22:54:50,067 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-29 22:54:50,067 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-29 22:54:50,067 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-29 22:54:50,546 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-29 22:54:50,584 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-29 22:54:50,697 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-29 22:54:50,802 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-29 22:54:50,853 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-29 22:54:51,122 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-29 22:54:51,123 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-29 22:54:51,498 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@62ac8dd6: startup date [Thu Mar 29 22:54:44 CST 2018]; root of context hierarchy
2018-03-29 22:54:51,634 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-29 22:54:51,636 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-29 22:54:51,637 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-29 22:54:51,639 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-29 22:54:51,640 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-29 22:54:51,641 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-29 22:54:51,641 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-29 22:54:51,642 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-29 22:54:51,652 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-29 22:54:51,654 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-29 22:54:51,770 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 22:54:51,770 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 22:54:51,910 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 22:54:52,050 WARN (TemplateMode.java:150)- [THYMELEAF][main] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-29 22:54:52,461 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-29 22:54:52,473 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-29 22:54:52,474 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-29 22:54:52,474 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-29 22:54:52,475 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-29 22:54:52,488 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-29 22:54:52,925 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-29 22:54:52,954 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-29 22:54:52,957 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 8.772 seconds (JVM running for 15.341)
2018-03-29 22:55:50,849 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-29 22:56:32,125 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:56:32,155 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-29 22:56:32,155 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-29 22:56:32,201 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 45 ms
2018-03-29 22:56:39,050 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:2, serverValue:16}] to localhost:27017
2018-03-29 22:56:39,378 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:56:39,493 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:56:39,699 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,vivo,huawei,vivo,vivo,vivo,huawei,]
2018-03-29 22:57:18,819 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,vivo,huawei,vivo,vivo,vivo,huawei,]
2018-03-29 22:57:19,014 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,vivo,huawei,vivo,vivo,vivo,huawei,]
2018-03-29 22:59:45,167 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 7904 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-29 22:59:45,175 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-29 22:59:45,230 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@50bbcc6b: startup date [Thu Mar 29 22:59:45 CST 2018]; root of context hierarchy
2018-03-29 22:59:47,045 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$8aee0586] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:59:47,661 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:59:47,735 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:59:47,743 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:59:47,754 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$5987a5bb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:59:47,775 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$2ac922d9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:59:48,245 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-29 22:59:48,304 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:59:48,322 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:59:48,337 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:1, serverValue:17}] to localhost:27017
2018-03-29 22:59:48,348 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=5014763}
2018-03-29 22:59:48,404 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:59:48,468 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:59:48,514 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:59:48,559 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:59:48,582 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4b457cc3' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:59:48,583 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4b457cc3' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:59:48,590 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#589365ee' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:59:48,601 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7df88eec' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:59:48,602 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7df88eec' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:59:48,611 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7c703b03' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:59:48,781 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:59:48,782 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy80] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:59:48,784 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:59:48,786 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:59:48,943 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:59:48,944 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache' does not yet exist.  Creating now.
2018-03-29 22:59:48,947 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache]
2018-03-29 22:59:48,968 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:59:49,031 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 22:59:49,449 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:59:49,654 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-29 22:59:49,683 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:59:49,685 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-29 22:59:49,703 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-29 22:59:49,704 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-29 22:59:49,723 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:59:49,909 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-29 22:59:49,909 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 4679 ms
2018-03-29 22:59:50,261 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-29 22:59:50,267 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-29 22:59:50,267 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-29 22:59:50,268 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-29 22:59:50,268 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-29 22:59:50,268 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-29 22:59:50,681 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-29 22:59:50,758 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-29 22:59:50,857 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-29 22:59:50,954 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-29 22:59:50,998 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-29 22:59:51,256 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-29 22:59:51,257 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-29 22:59:51,615 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@50bbcc6b: startup date [Thu Mar 29 22:59:45 CST 2018]; root of context hierarchy
2018-03-29 22:59:51,752 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-29 22:59:51,755 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-29 22:59:51,756 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-29 22:59:51,758 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-29 22:59:51,759 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-29 22:59:51,759 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-29 22:59:51,760 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-29 22:59:51,761 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-29 22:59:51,771 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-29 22:59:51,773 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-29 22:59:51,880 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 22:59:51,880 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 22:59:51,979 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 22:59:52,098 WARN (TemplateMode.java:150)- [THYMELEAF][main] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-29 22:59:52,602 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-29 22:59:52,624 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-29 22:59:52,625 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-29 22:59:52,626 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-29 22:59:52,628 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-29 22:59:52,643 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-29 22:59:52,974 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-29 22:59:53,002 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-29 22:59:53,006 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 8.535 seconds (JVM running for 15.046)
2018-03-29 22:59:56,423 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 22:59:56,444 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-29 22:59:56,444 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-29 22:59:56,494 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 49 ms
2018-03-29 23:00:02,859 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:2, serverValue:18}] to localhost:27017
2018-03-29 23:00:03,211 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:00:03,321 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:00:03,515 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,vivo,huawei,vivo,vivo,vivo,huawei,vivo,vivo,]
2018-03-29 23:00:08,397 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,vivo,huawei,vivo,vivo,vivo,huawei,vivo,vivo,]
2018-03-29 23:00:08,587 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,vivo,huawei,vivo,vivo,vivo,huawei,vivo,vivo,]
2018-03-29 23:00:52,624 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 8040 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-29 23:00:52,638 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-29 23:00:52,706 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@332ef6fa: startup date [Thu Mar 29 23:00:52 CST 2018]; root of context hierarchy
2018-03-29 23:00:54,501 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$b16e300] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:00:55,250 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:00:55,313 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:00:55,322 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:00:55,332 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$d9b08335] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:00:55,352 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$aaf20053] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:00:55,761 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-29 23:00:55,821 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:00:55,856 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:00:55,861 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:1, serverValue:19}] to localhost:27017
2018-03-29 23:00:55,875 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=4528050}
2018-03-29 23:00:55,932 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:00:55,999 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:00:56,044 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:00:56,086 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:00:56,109 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#24313e9a' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:00:56,109 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#24313e9a' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:00:56,114 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#1fb80151' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:00:56,124 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#18a2e43c' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:00:56,125 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#18a2e43c' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:00:56,137 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#3c7ef3ed' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:00:56,347 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:00:56,348 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy80] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:00:56,351 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:00:56,352 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:00:56,512 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:00:56,514 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache' does not yet exist.  Creating now.
2018-03-29 23:00:56,517 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache]
2018-03-29 23:00:56,536 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:00:56,602 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:00:57,008 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:00:57,183 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-29 23:00:57,214 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:00:57,215 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-29 23:00:57,238 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-29 23:00:57,239 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-29 23:00:57,252 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:00:57,428 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-29 23:00:57,429 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 4723 ms
2018-03-29 23:00:57,810 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-29 23:00:57,818 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-29 23:00:57,819 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-29 23:00:57,820 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-29 23:00:57,820 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-29 23:00:57,821 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-29 23:00:58,339 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-29 23:00:58,387 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-29 23:00:58,488 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-29 23:00:58,582 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-29 23:00:58,620 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-29 23:00:58,838 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-29 23:00:58,839 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-29 23:00:59,181 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@332ef6fa: startup date [Thu Mar 29 23:00:52 CST 2018]; root of context hierarchy
2018-03-29 23:00:59,326 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-29 23:00:59,329 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-29 23:00:59,329 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-29 23:00:59,332 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-29 23:00:59,333 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-29 23:00:59,333 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-29 23:00:59,334 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-29 23:00:59,338 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-29 23:00:59,348 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-29 23:00:59,350 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-29 23:00:59,467 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 23:00:59,469 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 23:00:59,603 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 23:00:59,742 WARN (TemplateMode.java:150)- [THYMELEAF][main] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-29 23:01:00,247 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-29 23:01:00,264 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-29 23:01:00,266 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-29 23:01:00,267 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-29 23:01:00,268 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-29 23:01:00,280 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-29 23:01:00,685 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-29 23:01:00,710 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-29 23:01:00,714 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 8.717 seconds (JVM running for 14.995)
2018-03-29 23:01:58,618 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-29 23:02:58,394 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:02:58,414 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-29 23:02:58,414 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-29 23:02:58,465 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 51 ms
2018-03-29 23:02:59,179 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:03:05,538 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:2, serverValue:20}] to localhost:27017
2018-03-29 23:03:05,926 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:03:06,129 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,vivo,huawei,vivo,vivo,vivo,huawei,vivo,vivo,vivo,vivo,]
2018-03-29 23:03:15,241 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,vivo,huawei,vivo,vivo,vivo,huawei,vivo,vivo,vivo,vivo,]
2018-03-29 23:03:15,385 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,vivo,huawei,vivo,vivo,vivo,huawei,vivo,vivo,vivo,vivo,]
2018-03-29 23:05:50,050 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 7692 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-29 23:05:50,058 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-29 23:05:50,132 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@772b952a: startup date [Thu Mar 29 23:05:50 CST 2018]; root of context hierarchy
2018-03-29 23:05:51,804 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$242c9822] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:05:52,505 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:05:52,580 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:05:52,589 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:05:52,599 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$f2c63857] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:05:52,625 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$c407b575] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:05:53,028 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-29 23:05:53,088 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:05:53,127 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:1, serverValue:21}] to localhost:27017
2018-03-29 23:05:53,135 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:05:53,139 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=6738983}
2018-03-29 23:05:53,253 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:05:53,292 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:05:53,342 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:05:53,389 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:05:53,411 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#74687ecb' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:05:53,412 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#74687ecb' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:05:53,418 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#56cf4cb5' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:05:53,425 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#3d831d87' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:05:53,426 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#3d831d87' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:05:53,435 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#64ef4ed8' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:05:53,607 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:05:53,608 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy80] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:05:53,611 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:05:53,612 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:05:53,744 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:05:53,747 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache' does not yet exist.  Creating now.
2018-03-29 23:05:53,752 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache]
2018-03-29 23:05:53,773 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:05:53,859 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:05:54,273 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:05:54,457 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-29 23:05:54,482 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:05:54,483 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-29 23:05:54,499 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-29 23:05:54,500 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-29 23:05:54,516 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:05:54,712 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-29 23:05:54,712 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 4580 ms
2018-03-29 23:05:55,071 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-29 23:05:55,078 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-29 23:05:55,079 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-29 23:05:55,080 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-29 23:05:55,080 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-29 23:05:55,081 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-29 23:05:55,537 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-29 23:05:55,584 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-29 23:05:55,689 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-29 23:05:55,776 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-29 23:05:55,813 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-29 23:05:56,052 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-29 23:05:56,053 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-29 23:05:56,396 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@772b952a: startup date [Thu Mar 29 23:05:50 CST 2018]; root of context hierarchy
2018-03-29 23:05:56,537 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-29 23:05:56,540 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-29 23:05:56,542 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-29 23:05:56,544 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-29 23:05:56,545 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-29 23:05:56,546 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-29 23:05:56,547 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-29 23:05:56,548 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-29 23:05:56,557 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-29 23:05:56,559 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-29 23:05:56,705 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 23:05:56,705 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 23:05:56,831 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 23:05:56,970 WARN (TemplateMode.java:150)- [THYMELEAF][main] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-29 23:05:57,473 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-29 23:05:57,486 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-29 23:05:57,487 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-29 23:05:57,488 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-29 23:05:57,489 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-29 23:05:57,501 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-29 23:05:57,975 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-29 23:05:58,002 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-29 23:05:58,006 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 8.605 seconds (JVM running for 15.019)
2018-03-29 23:06:55,811 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-29 23:07:08,490 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:07:08,519 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-29 23:07:08,520 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-29 23:07:08,579 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 59 ms
2018-03-29 23:07:15,305 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:2, serverValue:22}] to localhost:27017
2018-03-29 23:07:15,630 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:07:15,639 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:07:15,980 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,vivo,huawei,vivo,vivo,vivo,huawei,vivo,vivo,vivo,vivo,vivo,vivo,]
2018-03-29 23:07:19,325 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,vivo,huawei,vivo,vivo,vivo,huawei,vivo,vivo,vivo,vivo,vivo,vivo,]
2018-03-29 23:07:19,493 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,vivo,huawei,vivo,vivo,vivo,huawei,vivo,vivo,vivo,vivo,vivo,vivo,]
2018-03-29 23:18:06,240 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2020 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-29 23:18:06,256 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-29 23:18:06,326 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3655e944: startup date [Thu Mar 29 23:18:06 CST 2018]; root of context hierarchy
2018-03-29 23:18:08,086 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$e6b58656] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:18:08,712 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:18:08,782 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:18:08,791 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:18:08,801 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$b54f268b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:18:08,821 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$8690a3a9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:18:09,231 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-29 23:18:09,286 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:18:09,308 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:18:09,328 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:1, serverValue:23}] to localhost:27017
2018-03-29 23:18:09,344 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=4611735}
2018-03-29 23:18:09,395 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:18:09,454 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:18:09,500 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:18:09,547 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:18:09,568 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#48c95916' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:18:09,569 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#48c95916' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:18:09,576 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2f29c70b' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:18:09,585 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#629ad349' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:18:09,585 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#629ad349' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:18:09,592 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2a640d9e' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:18:09,768 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:18:09,769 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy80] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:18:09,772 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:18:09,775 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:18:09,922 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:18:09,925 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache' does not yet exist.  Creating now.
2018-03-29 23:18:09,931 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache]
2018-03-29 23:18:09,955 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:18:10,038 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:18:10,479 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:18:10,749 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-29 23:18:10,778 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:18:10,779 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-29 23:18:10,802 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-29 23:18:10,803 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-29 23:18:10,822 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:18:11,017 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-29 23:18:11,017 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 4691 ms
2018-03-29 23:18:11,410 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-29 23:18:11,417 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-29 23:18:11,418 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-29 23:18:11,418 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-29 23:18:11,419 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-29 23:18:11,419 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-29 23:18:11,883 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-29 23:18:11,929 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-29 23:18:12,042 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-29 23:18:12,142 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-29 23:18:12,223 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-29 23:18:12,538 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-29 23:18:12,539 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-29 23:18:12,893 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3655e944: startup date [Thu Mar 29 23:18:06 CST 2018]; root of context hierarchy
2018-03-29 23:18:13,000 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-29 23:18:13,002 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-29 23:18:13,003 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-29 23:18:13,005 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-29 23:18:13,006 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-29 23:18:13,007 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-29 23:18:13,008 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-29 23:18:13,009 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-29 23:18:13,017 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-29 23:18:13,018 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-29 23:18:13,123 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 23:18:13,124 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 23:18:13,241 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 23:18:13,360 WARN (TemplateMode.java:150)- [THYMELEAF][main] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-29 23:18:13,904 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-29 23:18:13,921 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-29 23:18:13,922 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-29 23:18:13,925 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-29 23:18:13,926 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-29 23:18:13,938 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-29 23:18:14,308 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-29 23:18:14,334 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-29 23:18:14,337 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 8.832 seconds (JVM running for 15.349)
2018-03-29 23:18:32,395 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:18:32,426 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-29 23:18:32,426 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-29 23:18:32,489 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 63 ms
2018-03-29 23:18:33,266 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:18:33,273 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:18:39,360 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:2, serverValue:24}] to localhost:27017
2018-03-29 23:18:40,011 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,vivo,huawei,vivo,vivo,vivo,huawei,vivo,vivo,vivo,vivo,vivo,vivo,vivo,vivo,]
2018-03-29 23:19:40,347 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 6716 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-29 23:19:40,353 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-29 23:19:40,411 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@271f60ef: startup date [Thu Mar 29 23:19:40 CST 2018]; root of context hierarchy
2018-03-29 23:19:42,176 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$2b0d533] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:19:42,828 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:19:42,900 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:19:42,909 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:19:42,918 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$d14a7568] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:19:42,940 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$a28bf286] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:19:43,382 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-29 23:19:43,439 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:19:43,459 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:19:43,494 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:1, serverValue:25}] to localhost:27017
2018-03-29 23:19:43,504 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=5121343}
2018-03-29 23:19:43,588 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:19:43,634 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:19:43,676 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:19:43,723 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:19:43,746 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5733f06f' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:19:43,747 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5733f06f' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:19:43,754 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#3b367eb5' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:19:43,766 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#c7deb5e' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:19:43,767 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#c7deb5e' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:19:43,778 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6dcf8e75' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:19:43,976 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:19:43,977 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy80] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:19:43,980 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:19:43,982 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:19:44,144 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:19:44,147 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache' does not yet exist.  Creating now.
2018-03-29 23:19:44,154 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache]
2018-03-29 23:19:44,175 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:19:44,244 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:19:44,659 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:19:44,846 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-29 23:19:44,878 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:19:44,879 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-29 23:19:44,897 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-29 23:19:44,898 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-29 23:19:44,910 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:19:45,111 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-29 23:19:45,112 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 4701 ms
2018-03-29 23:19:45,493 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-29 23:19:45,498 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-29 23:19:45,499 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-29 23:19:45,499 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-29 23:19:45,500 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-29 23:19:45,500 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-29 23:19:46,036 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-29 23:19:46,084 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-29 23:19:46,203 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-29 23:19:46,294 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-29 23:19:46,339 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-29 23:19:46,604 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-29 23:19:46,605 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-29 23:19:46,972 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@271f60ef: startup date [Thu Mar 29 23:19:40 CST 2018]; root of context hierarchy
2018-03-29 23:19:47,133 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-29 23:19:47,135 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-29 23:19:47,138 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-29 23:19:47,140 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-29 23:19:47,140 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-29 23:19:47,141 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-29 23:19:47,142 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-29 23:19:47,143 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-29 23:19:47,155 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-29 23:19:47,157 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-29 23:19:47,309 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 23:19:47,321 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 23:19:47,462 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 23:19:47,604 WARN (TemplateMode.java:150)- [THYMELEAF][main] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-29 23:19:48,118 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-29 23:19:48,136 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-29 23:19:48,138 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-29 23:19:48,139 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-29 23:19:48,140 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-29 23:19:48,155 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-29 23:19:48,571 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-29 23:19:48,600 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-29 23:19:48,604 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 8.932 seconds (JVM running for 15.517)
2018-03-29 23:20:46,336 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-29 23:20:47,147 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:20:47,195 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-29 23:20:47,195 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-29 23:20:47,345 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 149 ms
2018-03-29 23:20:58,455 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:20:58,575 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:2, serverValue:26}] to localhost:27017
2018-03-29 23:20:58,997 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:20:59,387 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,vivo,huawei,vivo,vivo,vivo,huawei,vivo,vivo,vivo,vivo,vivo,vivo,vivo,vivo,]
2018-03-29 23:21:05,974 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,vivo,huawei,vivo,vivo,vivo,huawei,vivo,vivo,vivo,vivo,vivo,vivo,vivo,vivo,]
2018-03-29 23:21:06,090 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:21:06,105 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:21:06,139 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,vivo,huawei,vivo,vivo,vivo,huawei,vivo,vivo,vivo,vivo,vivo,vivo,vivo,vivo,]
2018-03-29 23:21:15,415 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,vivo,huawei,vivo,vivo,vivo,huawei,vivo,vivo,vivo,vivo,vivo,vivo,vivo,vivo,]
2018-03-29 23:21:26,268 INFO (WebSocketConfiguration.java:44)- online: [id=5abcf85b821283168c15b95a;username=meizu;nickname=meizu;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,vivo,huawei,vivo,vivo,vivo,huawei,vivo,vivo,vivo,vivo,vivo,vivo,vivo,vivo,vivo,meizu,]
2018-03-29 23:22:05,516 INFO (WebSocketConfiguration.java:52)- offline: [id=5abcf85b821283168c15b95a;username=meizu;nickname=meizu;jointime=null;online=false;Friends=huawei,vivo,huawei,vivo,huawei,vivo,huawei,vivo,vivo,vivo,huawei,vivo,vivo,vivo,vivo,vivo,vivo,vivo,vivo,vivo,meizu,]
2018-03-29 23:25:08,568 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 8064 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-29 23:25:08,577 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-29 23:25:08,642 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@10fac852: startup date [Thu Mar 29 23:25:08 CST 2018]; root of context hierarchy
2018-03-29 23:25:10,453 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$a711e531] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:25:11,101 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:25:11,173 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:25:11,183 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:25:11,193 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$75ab8566] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:25:11,217 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$46ed0284] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:25:11,696 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-29 23:25:11,759 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:25:11,782 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:25:11,789 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:1, serverValue:27}] to localhost:27017
2018-03-29 23:25:11,797 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=5053448}
2018-03-29 23:25:11,892 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:25:11,936 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:25:11,983 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:25:12,029 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:25:12,058 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4e67ec3a' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:25:12,059 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4e67ec3a' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:25:12,067 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#59609fcd' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:25:12,077 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#60b1386b' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:25:12,079 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#60b1386b' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:25:12,086 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#36e26c0f' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:25:12,267 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:25:12,269 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy80] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:25:12,271 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:25:12,272 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:25:12,420 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:25:12,422 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache' does not yet exist.  Creating now.
2018-03-29 23:25:12,425 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache]
2018-03-29 23:25:12,443 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:25:12,514 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:25:12,870 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:25:13,023 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-29 23:25:13,055 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:25:13,056 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-29 23:25:13,076 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-29 23:25:13,077 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-29 23:25:13,096 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:25:13,278 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-29 23:25:13,279 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 4637 ms
2018-03-29 23:25:13,646 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-29 23:25:13,654 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-29 23:25:13,655 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-29 23:25:13,655 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-29 23:25:13,657 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-29 23:25:13,657 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-29 23:25:14,099 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-29 23:25:14,127 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-29 23:25:14,213 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-29 23:25:14,294 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-29 23:25:14,338 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-29 23:25:14,551 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-29 23:25:14,552 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-29 23:25:14,899 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@10fac852: startup date [Thu Mar 29 23:25:08 CST 2018]; root of context hierarchy
2018-03-29 23:25:15,053 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-29 23:25:15,056 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-29 23:25:15,059 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-29 23:25:15,061 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-29 23:25:15,062 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-29 23:25:15,062 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-29 23:25:15,063 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-29 23:25:15,064 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-29 23:25:15,073 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-29 23:25:15,075 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-29 23:25:15,229 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 23:25:15,271 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 23:25:15,429 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 23:25:15,542 WARN (TemplateMode.java:150)- [THYMELEAF][main] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-29 23:25:15,996 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-29 23:25:16,371 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-29 23:25:16,373 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-29 23:25:16,374 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-29 23:25:16,375 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-29 23:25:16,386 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-29 23:25:16,399 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-29 23:25:16,423 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-29 23:25:16,426 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 8.613 seconds (JVM running for 15.677)
2018-03-29 23:25:31,363 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:25:31,387 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-29 23:25:31,387 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-29 23:25:31,466 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 78 ms
2018-03-29 23:25:31,662 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:2, serverValue:28}] to localhost:27017
2018-03-29 23:25:32,556 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:25:32,567 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:25:32,812 INFO (WebSocketConfiguration.java:44)- online: [id=5abd04fe8212831a3c063f49;username=test3;nickname=test1;jointime=null;online=false;Friends=]
2018-03-29 23:25:40,463 ERROR (DirectJDKLog.java:182)- Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause
java.lang.NullPointerException: null
	at springboot.Facedetect.service.UserServiceImpl.addFriends(UserServiceImpl.java:64)
	at springboot.Facedetect.controller.homeController.addfriend(homeController.java:55)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:870)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:776)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:881)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:855)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61)
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108)
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137)
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66)
	at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449)
	at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365)
	at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90)
	at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83)
	at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:387)
	at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362)
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-03-29 23:25:44,529 INFO (WebSocketConfiguration.java:52)- offline: [id=5abd04fe8212831a3c063f49;username=test3;nickname=test1;jointime=null;online=false;Friends=]
2018-03-29 23:25:44,672 INFO (WebSocketConfiguration.java:44)- online: [id=5abd04fe8212831a3c063f49;username=test3;nickname=test1;jointime=null;online=false;Friends=]
2018-03-29 23:26:14,335 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 2 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(2)-CONNECTED(2)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 8, active threads = 0, queued tasks = 0, completed tasks = 21], outboundChannelpool size = 3, active threads = 0, queued tasks = 0, completed tasks = 3], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 2, completed tasks = 10]
2018-03-29 23:26:53,516 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 5696 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-29 23:26:53,528 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-29 23:26:53,586 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6452fe7: startup date [Thu Mar 29 23:26:53 CST 2018]; root of context hierarchy
2018-03-29 23:26:55,282 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$349a8b0b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:26:55,881 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:26:55,949 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:26:55,959 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:26:55,968 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$3342b40] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:26:55,994 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$d475a85e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:26:56,384 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-29 23:26:56,477 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:26:56,514 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:26:56,531 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:1, serverValue:29}] to localhost:27017
2018-03-29 23:26:56,542 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=7251354}
2018-03-29 23:26:56,614 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:26:56,679 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:26:56,731 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:26:56,776 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:26:56,806 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#702f02ae' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:26:56,807 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#702f02ae' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:26:56,816 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4b9a9673' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:26:56,825 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#34bc6d2b' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:26:56,825 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#34bc6d2b' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:26:56,833 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4872286e' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:26:57,027 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:26:57,028 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy80] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:26:57,030 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:26:57,032 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:26:57,155 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:26:57,157 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache' does not yet exist.  Creating now.
2018-03-29 23:26:57,160 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache]
2018-03-29 23:26:57,173 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:26:57,229 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:26:57,657 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:26:57,837 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-29 23:26:57,866 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:26:57,867 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-29 23:26:57,886 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-29 23:26:57,886 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-29 23:26:57,899 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:26:58,076 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-29 23:26:58,077 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 4490 ms
2018-03-29 23:26:58,409 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-29 23:26:58,417 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-29 23:26:58,417 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-29 23:26:58,418 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-29 23:26:58,418 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-29 23:26:58,419 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-29 23:26:58,921 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-29 23:26:58,949 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-29 23:26:59,020 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-29 23:26:59,140 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-29 23:26:59,172 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-29 23:26:59,413 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-29 23:26:59,413 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-29 23:26:59,756 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6452fe7: startup date [Thu Mar 29 23:26:53 CST 2018]; root of context hierarchy
2018-03-29 23:26:59,884 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-29 23:26:59,886 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-29 23:26:59,889 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-29 23:26:59,891 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-29 23:26:59,891 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-29 23:26:59,892 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-29 23:26:59,893 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-29 23:26:59,893 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-29 23:26:59,903 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-29 23:26:59,904 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-29 23:27:00,070 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 23:27:00,071 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 23:27:00,208 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 23:27:00,338 WARN (TemplateMode.java:150)- [THYMELEAF][main] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-29 23:27:00,819 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-29 23:27:00,835 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-29 23:27:00,836 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-29 23:27:00,838 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-29 23:27:00,839 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-29 23:27:00,850 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-29 23:27:01,214 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-29 23:27:01,243 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-29 23:27:01,246 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 8.394 seconds (JVM running for 14.927)
2018-03-29 23:27:18,234 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:27:18,258 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-29 23:27:18,259 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-29 23:27:18,310 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 51 ms
2018-03-29 23:27:25,930 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:27:26,030 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:2, serverValue:30}] to localhost:27017
2018-03-29 23:27:26,529 INFO (WebSocketConfiguration.java:44)- online: [id=5abd04aa8212831a3c063f47;username=test1;nickname=test1;jointime=null;online=false;Friends=]
2018-03-29 23:27:30,620 ERROR (DirectJDKLog.java:182)- Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause
java.lang.NullPointerException: null
	at springboot.Facedetect.service.UserServiceImpl.addFriends(UserServiceImpl.java:73)
	at springboot.Facedetect.controller.homeController.addfriend(homeController.java:55)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:870)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:776)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:881)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:855)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61)
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108)
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137)
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66)
	at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449)
	at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365)
	at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90)
	at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83)
	at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:387)
	at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362)
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-03-29 23:27:59,170 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 8, active threads = 0, queued tasks = 0, completed tasks = 9], outboundChannelpool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 2, completed tasks = 8]
2018-03-29 23:28:57,360 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 6884 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-29 23:28:57,376 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-29 23:28:57,447 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4ce9cd7b: startup date [Thu Mar 29 23:28:57 CST 2018]; root of context hierarchy
2018-03-29 23:28:59,176 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$392883a1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:28:59,918 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:28:59,993 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:29:00,003 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:29:00,015 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$7c223d6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:29:00,043 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$d903a0f4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:29:00,544 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-29 23:29:00,621 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:29:00,652 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:29:00,693 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:1, serverValue:31}] to localhost:27017
2018-03-29 23:29:00,705 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=5192396}
2018-03-29 23:29:00,767 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:29:00,837 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:29:00,885 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:29:00,931 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:29:00,961 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#24f7414d' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:29:00,962 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#24f7414d' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:29:00,971 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7f9b1b0a' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:29:00,981 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#282ece1d' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:29:00,981 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#282ece1d' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:29:00,990 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#483566e8' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:29:01,224 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:29:01,227 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy80] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:29:01,230 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:29:01,231 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:29:01,406 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:29:01,409 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache' does not yet exist.  Creating now.
2018-03-29 23:29:01,417 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache]
2018-03-29 23:29:01,438 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:29:01,522 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:29:01,961 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:29:02,143 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-29 23:29:02,178 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:29:02,179 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-29 23:29:02,198 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-29 23:29:02,198 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-29 23:29:02,218 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:29:02,412 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-29 23:29:02,412 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 4965 ms
2018-03-29 23:29:02,793 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-29 23:29:02,802 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-29 23:29:02,803 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-29 23:29:02,803 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-29 23:29:02,803 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-29 23:29:02,804 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-29 23:29:03,226 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-29 23:29:03,274 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-29 23:29:03,378 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-29 23:29:03,460 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-29 23:29:03,500 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-29 23:29:03,763 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-29 23:29:03,764 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-29 23:29:04,121 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4ce9cd7b: startup date [Thu Mar 29 23:28:57 CST 2018]; root of context hierarchy
2018-03-29 23:29:04,262 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-29 23:29:04,266 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-29 23:29:04,268 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-29 23:29:04,271 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-29 23:29:04,272 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-29 23:29:04,273 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-29 23:29:04,273 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-29 23:29:04,274 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-29 23:29:04,284 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-29 23:29:04,286 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-29 23:29:04,407 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 23:29:04,408 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 23:29:04,575 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 23:29:04,708 WARN (TemplateMode.java:150)- [THYMELEAF][main] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-29 23:29:05,193 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-29 23:29:05,598 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-29 23:29:05,599 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-29 23:29:05,600 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-29 23:29:05,601 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-29 23:29:05,613 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-29 23:29:05,631 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-29 23:29:05,659 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-29 23:29:05,664 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 8.913 seconds (JVM running for 15.595)
2018-03-29 23:30:03,498 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-29 23:30:25,957 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:30:25,976 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-29 23:30:25,977 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-29 23:30:26,016 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 39 ms
2018-03-29 23:30:37,361 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:2, serverValue:32}] to localhost:27017
2018-03-29 23:30:37,873 INFO (WebSocketConfiguration.java:44)- online: [id=5abd04aa8212831a3c063f47;username=test1;nickname=test1;jointime=null;online=false;Friends=]
2018-03-29 23:30:41,488 INFO (WebSocketConfiguration.java:52)- offline: [id=5abd04aa8212831a3c063f47;username=test1;nickname=test1;jointime=null;online=false;Friends=]
2018-03-29 23:30:41,595 INFO (WebSocketConfiguration.java:44)- online: [id=5abd04aa8212831a3c063f47;username=test1;nickname=test1;jointime=null;online=false;Friends=]
2018-03-29 23:30:45,040 INFO (WebSocketConfiguration.java:52)- offline: [id=5abd04aa8212831a3c063f47;username=test1;nickname=test1;jointime=null;online=false;Friends=]
2018-03-29 23:30:53,772 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:30:57,319 INFO (WebSocketConfiguration.java:44)- online: [id=5abd04b58212831a3c063f48;username=test2;nickname=test2;jointime=null;online=false;Friends=test1,]
2018-03-29 23:31:07,288 INFO (WebSocketConfiguration.java:52)- offline: [id=5abd04b58212831a3c063f48;username=test2;nickname=test2;jointime=null;online=false;Friends=test1,]
2018-03-29 23:33:50,750 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 4844 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-29 23:33:50,760 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-29 23:33:50,868 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5b7a9a47: startup date [Thu Mar 29 23:33:50 CST 2018]; root of context hierarchy
2018-03-29 23:33:52,639 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$b7b09aca] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:33:53,324 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:33:53,392 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:33:53,400 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:33:53,410 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$864a3aff] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:33:53,435 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$578bb81d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:33:53,849 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-29 23:33:53,903 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:33:53,926 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:33:53,946 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:1, serverValue:33}] to localhost:27017
2018-03-29 23:33:53,959 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=7552145}
2018-03-29 23:33:54,048 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:33:54,096 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:33:54,139 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:33:54,188 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:33:54,213 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6bf86f1c' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:33:54,214 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6bf86f1c' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:33:54,221 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#45cf995a' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:33:54,234 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4bfe258c' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:33:54,235 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4bfe258c' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:33:54,243 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#624ab054' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:33:54,430 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:33:54,431 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy80] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:33:54,433 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:33:54,434 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:33:54,601 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:33:54,605 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache' does not yet exist.  Creating now.
2018-03-29 23:33:54,610 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache]
2018-03-29 23:33:54,628 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:33:54,711 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-29 23:33:55,107 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:33:55,280 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-29 23:33:55,312 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:33:55,313 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-29 23:33:55,333 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-29 23:33:55,333 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-29 23:33:55,348 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:33:55,521 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-29 23:33:55,522 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 4654 ms
2018-03-29 23:33:55,853 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-29 23:33:55,860 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-29 23:33:55,861 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-29 23:33:55,862 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-29 23:33:55,862 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-29 23:33:55,863 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-29 23:33:56,357 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-29 23:33:56,404 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-29 23:33:56,486 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-29 23:33:56,571 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-29 23:33:56,624 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-29 23:33:56,851 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-29 23:33:56,852 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-29 23:33:57,201 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5b7a9a47: startup date [Thu Mar 29 23:33:50 CST 2018]; root of context hierarchy
2018-03-29 23:33:57,353 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/test]}" onto public java.lang.String springboot.Facedetect.controller.homeController.test(org.springframework.ui.Model)
2018-03-29 23:33:57,356 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-29 23:33:57,357 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-29 23:33:57,359 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-29 23:33:57,360 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-29 23:33:57,361 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-29 23:33:57,363 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-29 23:33:57,364 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-29 23:33:57,374 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-29 23:33:57,376 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-29 23:33:57,501 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 23:33:57,503 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 23:33:57,633 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-29 23:33:57,761 WARN (TemplateMode.java:150)- [THYMELEAF][main] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-29 23:33:58,223 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-29 23:33:58,593 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-29 23:33:58,594 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-29 23:33:58,595 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-29 23:33:58,596 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-29 23:33:58,608 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-29 23:33:58,625 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-29 23:33:58,650 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-29 23:33:58,654 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 8.669 seconds (JVM running for 15.231)
2018-03-29 23:34:11,495 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:34:11,579 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-29 23:34:11,579 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-29 23:34:11,670 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 91 ms
2018-03-29 23:34:12,425 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:34:23,452 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:2, serverValue:34}] to localhost:27017
2018-03-29 23:34:24,112 INFO (WebSocketConfiguration.java:44)- online: [id=5abd04aa8212831a3c063f47;username=test1;nickname=test1;jointime=null;online=false;Friends=test2,]
2018-03-29 23:34:31,079 INFO (WebSocketConfiguration.java:52)- offline: [id=5abd04aa8212831a3c063f47;username=test1;nickname=test1;jointime=null;online=false;Friends=test2,]
2018-03-29 23:34:31,146 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-29 23:34:31,170 INFO (WebSocketConfiguration.java:44)- online: [id=5abd04aa8212831a3c063f47;username=test1;nickname=test1;jointime=null;online=false;Friends=test2,]
2018-03-29 23:34:41,686 INFO (WebSocketConfiguration.java:52)- offline: [id=5abd04aa8212831a3c063f47;username=test1;nickname=test1;jointime=null;online=false;Friends=test2,]
