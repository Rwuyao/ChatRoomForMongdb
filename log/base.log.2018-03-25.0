2018-03-25 15:36:56,583 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 7324 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-25 15:36:56,606 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-25 15:36:56,805 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6bfca956: startup date [Sun Mar 25 15:36:56 CST 2018]; root of context hierarchy
2018-03-25 15:37:01,480 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$e1057425] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:37:02,202 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:37:02,265 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:37:02,276 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:37:02,282 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$af9f145a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:37:02,309 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$80e09178] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:37:02,918 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-25 15:37:03,142 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:37:03,163 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:37:03,443 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:37:03,548 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:37:03,607 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:37:03,817 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:37:03,856 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7007ed15' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:37:03,857 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7007ed15' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:37:03,862 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#41738d99' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:37:03,887 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#65d73c92' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:37:03,887 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#65d73c92' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:37:03,894 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#551bfb01' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:37:04,170 INFO (SLF4JLogger.java:76)- Exception in monitor thread while connecting to server localhost:27017
com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62)
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126)
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59)
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57)
	... 3 common frames omitted
2018-03-25 15:37:04,258 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:37:04,259 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy62] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:37:04,261 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:37:04,261 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:37:04,552 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:37:04,553 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache' does not yet exist.  Creating now.
2018-03-25 15:37:04,557 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache]
2018-03-25 15:37:04,571 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:37:04,624 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:37:05,601 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 15:37:06,576 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-25 15:37:06,722 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 15:37:06,723 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-25 15:37:06,807 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-25 15:37:06,808 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-25 15:37:06,873 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 15:37:07,169 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-25 15:37:07,169 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 10364 ms
2018-03-25 15:37:07,658 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-25 15:37:07,666 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-25 15:37:07,666 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-25 15:37:07,666 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-25 15:37:07,667 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-25 15:37:07,667 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-25 15:37:08,323 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-25 15:37:08,367 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-25 15:37:08,510 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-25 15:37:08,637 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-25 15:37:08,688 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-25 15:37:08,974 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-25 15:37:08,975 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-25 15:37:09,492 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6bfca956: startup date [Sun Mar 25 15:36:56 CST 2018]; root of context hierarchy
2018-03-25 15:37:09,734 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(java.security.Principal,org.springframework.ui.Model)
2018-03-25 15:37:09,736 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 15:37:09,739 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-25 15:37:09,739 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-25 15:37:09,740 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-25 15:37:09,744 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 15:37:09,745 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-25 15:37:09,763 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-25 15:37:09,766 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-25 15:37:09,928 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 15:37:09,929 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 15:37:10,147 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 15:37:10,322 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-25 15:37:10,721 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-25 15:37:10,935 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-25 15:37:10,965 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-25 15:37:10,967 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-25 15:37:10,975 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-25 15:37:10,979 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-25 15:37:11,005 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-25 15:37:11,110 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-25 15:37:11,179 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-25 15:37:11,189 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 16.857 seconds (JVM running for 18.353)
2018-03-25 15:37:23,616 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 15:37:23,642 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-25 15:37:23,643 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-25 15:37:23,704 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 61 ms
2018-03-25 15:37:25,517 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 15:37:25,519 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 15:37:25,526 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 15:37:25,535 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 15:37:25,536 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 15:37:41,384 INFO (SLF4JLogger.java:71)- Cluster description not yet available. Waiting for 30000 ms before timing out
2018-03-25 15:38:08,684 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-25 15:38:11,386 WARN (AbstractAuthenticator.java:216)- Authentication failed for token submission [org.apache.shiro.authc.UsernamePasswordToken - huawei, rememberMe=false (0:0:0:0:0:0:0:1)].  Possible unexpected error? (Typical or expected login exceptions should extend from AuthenticationException).
org.springframework.dao.DataAccessResourceFailureException: Timed out after 30000 ms while waiting to connect. Client view of cluster state is {type=UNKNOWN, servers=[{address=localhost:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused: connect}}]; nested exception is com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting to connect. Client view of cluster state is {type=UNKNOWN, servers=[{address=localhost:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused: connect}}]
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:87)
	at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:2589)
	at org.springframework.data.mongodb.core.MongoTemplate.executeFindMultiInternal(MongoTemplate.java:2457)
	at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2265)
	at org.springframework.data.mongodb.core.ExecutableFindOperationSupport$ExecutableFindSupport.doFind(ExecutableFindOperationSupport.java:213)
	at org.springframework.data.mongodb.core.ExecutableFindOperationSupport$ExecutableFindSupport.oneValue(ExecutableFindOperationSupport.java:138)
	at org.springframework.data.mongodb.repository.query.AbstractMongoQuery.lambda$getExecution$4(AbstractMongoQuery.java:124)
	at org.springframework.data.mongodb.repository.query.AbstractMongoQuery.execute(AbstractMongoQuery.java:97)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:590)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:578)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:59)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)
	at com.sun.proxy.$Proxy62.findByUsername(Unknown Source)
	at springboot.Facedetect.service.UserServiceImpl.findByUsername(UserServiceImpl.java:29)
	at springboot.Facedetect.config.MyShiroRealm.doGetAuthenticationInfo(MyShiroRealm.java:26)
	at org.apache.shiro.realm.AuthenticatingRealm.getAuthenticationInfo(AuthenticatingRealm.java:571)
	at org.apache.shiro.authc.pam.ModularRealmAuthenticator.doSingleRealmAuthentication(ModularRealmAuthenticator.java:180)
	at org.apache.shiro.authc.pam.ModularRealmAuthenticator.doAuthenticate(ModularRealmAuthenticator.java:267)
	at org.apache.shiro.authc.AbstractAuthenticator.authenticate(AbstractAuthenticator.java:198)
	at org.apache.shiro.mgt.AuthenticatingSecurityManager.authenticate(AuthenticatingSecurityManager.java:106)
	at org.apache.shiro.mgt.DefaultSecurityManager.login(DefaultSecurityManager.java:274)
	at org.apache.shiro.subject.support.DelegatingSubject.login(DelegatingSubject.java:260)
	at org.apache.shiro.web.filter.authc.AuthenticatingFilter.executeLogin(AuthenticatingFilter.java:53)
	at org.apache.shiro.web.filter.authc.FormAuthenticationFilter.onAccessDenied(FormAuthenticationFilter.java:154)
	at org.apache.shiro.web.filter.AccessControlFilter.onAccessDenied(AccessControlFilter.java:133)
	at org.apache.shiro.web.filter.AccessControlFilter.onPreHandle(AccessControlFilter.java:162)
	at org.apache.shiro.web.filter.PathMatchingFilter.isFilterChainContinued(PathMatchingFilter.java:203)
	at org.apache.shiro.web.filter.PathMatchingFilter.preHandle(PathMatchingFilter.java:178)
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:131)
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66)
	at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449)
	at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365)
	at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90)
	at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83)
	at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:387)
	at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362)
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting to connect. Client view of cluster state is {type=UNKNOWN, servers=[{address=localhost:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused: connect}}]
	at com.mongodb.connection.BaseCluster.getDescription(BaseCluster.java:167)
	at com.mongodb.Mongo.getConnectedClusterDescription(Mongo.java:885)
	at com.mongodb.Mongo.createClientSession(Mongo.java:877)
	at com.mongodb.Mongo$3.getClientSession(Mongo.java:866)
	at com.mongodb.Mongo$3.execute(Mongo.java:823)
	at com.mongodb.MongoIterableImpl.execute(MongoIterableImpl.java:130)
	at com.mongodb.MongoIterableImpl.iterator(MongoIterableImpl.java:77)
	at org.springframework.data.mongodb.core.MongoTemplate.executeFindMultiInternal(MongoTemplate.java:2440)
	... 75 common frames omitted
2018-03-25 15:38:44,673 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:28, serverValue:1}] to localhost:27017
2018-03-25 15:38:44,695 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=4437279}
2018-03-25 15:51:02,492 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6bfca956: startup date [Sun Mar 25 15:36:56 CST 2018]; root of context hierarchy
2018-03-25 15:51:02,497 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-25 15:51:02,498 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-25 15:51:02,498 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-25 15:51:02,498 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-25 15:51:02,499 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-25 15:51:02,507 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-25 15:51:02,508 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-25 15:51:02,509 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-25 15:51:02,510 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-25 15:51:03,464 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 7324 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-25 15:51:03,465 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-25 15:51:03,469 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5281a7b7: startup date [Sun Mar 25 15:51:03 CST 2018]; root of context hierarchy
2018-03-25 15:51:04,097 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$e1057425] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:04,131 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:04,160 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:04,163 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:04,166 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$af9f145a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:04,172 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$80e09178] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:04,174 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-25 15:51:04,180 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:04,182 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:04,189 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:04,195 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:29, serverValue:2}] to localhost:27017
2018-03-25 15:51:04,199 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=1889229}
2018-03-25 15:51:04,208 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:04,215 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:04,218 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:04,224 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#10519bbc' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:04,225 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#10519bbc' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:04,227 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#55f53827' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:04,230 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#befea1' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:04,231 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#befea1' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:04,232 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2a52f5a9' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:04,266 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:04,267 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy85] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:04,269 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:04,270 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:04,280 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:04,281 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.1' does not yet exist.  Creating now.
2018-03-25 15:51:04,282 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.1]
2018-03-25 15:51:04,284 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:04,298 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:04,438 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 15:51:04,650 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-25 15:51:04,651 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 15:51:04,652 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-25 15:51:04,652 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-25 15:51:04,653 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-25 15:51:04,655 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 15:51:04,733 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-25 15:51:04,735 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 1266 ms
2018-03-25 15:51:04,902 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-25 15:51:04,903 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-25 15:51:04,904 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-25 15:51:04,905 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-25 15:51:04,905 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-25 15:51:04,906 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-25 15:51:05,154 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-25 15:51:05,187 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-25 15:51:05,403 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-25 15:51:05,448 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-25 15:51:05,529 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-25 15:51:05,646 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-25 15:51:05,647 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-25 15:51:05,779 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5281a7b7: startup date [Sun Mar 25 15:51:03 CST 2018]; root of context hierarchy
2018-03-25 15:51:05,816 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(java.security.Principal,org.springframework.ui.Model)
2018-03-25 15:51:05,817 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 15:51:05,821 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-25 15:51:05,822 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-25 15:51:05,823 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-25 15:51:05,823 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 15:51:05,824 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-25 15:51:05,829 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-25 15:51:05,830 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-25 15:51:05,913 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 15:51:05,916 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 15:51:05,974 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 15:51:06,030 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-25 15:51:06,176 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-25 15:51:06,293 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-25 15:51:06,298 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-25 15:51:06,299 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-25 15:51:06,299 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-25 15:51:06,300 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-25 15:51:06,307 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-25 15:51:06,311 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-25 15:51:06,325 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-25 15:51:06,328 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 2.936 seconds (JVM running for 853.492)
2018-03-25 15:51:06,334 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-25 15:51:07,796 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5281a7b7: startup date [Sun Mar 25 15:51:03 CST 2018]; root of context hierarchy
2018-03-25 15:51:07,798 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-25 15:51:07,798 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-25 15:51:07,799 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-25 15:51:07,799 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-25 15:51:07,800 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-25 15:51:07,800 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-25 15:51:07,801 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-25 15:51:07,802 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-25 15:51:07,807 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-25 15:51:08,280 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 7324 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-25 15:51:08,281 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-25 15:51:08,323 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@35b718ef: startup date [Sun Mar 25 15:51:08 CST 2018]; root of context hierarchy
2018-03-25 15:51:08,845 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$e1057425] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:08,876 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:08,904 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:08,906 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:08,908 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$af9f145a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:08,913 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$80e09178] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:08,915 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-25 15:51:08,920 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:08,921 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:08,930 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:30, serverValue:3}] to localhost:27017
2018-03-25 15:51:08,939 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=3015029}
2018-03-25 15:51:08,946 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:08,953 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:08,961 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:08,964 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:08,969 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#3c269fa8' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:08,969 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#3c269fa8' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:08,971 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6bb0d0cd' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:08,973 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#55929e26' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:08,975 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#55929e26' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:08,976 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#bf3be69' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:09,010 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:09,010 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy87] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:09,011 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:09,012 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:09,023 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:09,024 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.2' does not yet exist.  Creating now.
2018-03-25 15:51:09,026 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.2]
2018-03-25 15:51:09,027 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:09,039 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:09,196 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 15:51:09,394 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-25 15:51:09,397 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 15:51:09,397 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-25 15:51:09,398 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-25 15:51:09,399 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-25 15:51:09,401 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 15:51:09,484 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-25 15:51:09,485 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 1162 ms
2018-03-25 15:51:09,567 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-25 15:51:09,569 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-25 15:51:09,569 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-25 15:51:09,570 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-25 15:51:09,570 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-25 15:51:09,571 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-25 15:51:09,753 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-25 15:51:09,787 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-25 15:51:09,836 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-25 15:51:09,858 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-25 15:51:09,892 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-25 15:51:10,016 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-25 15:51:10,017 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-25 15:51:10,100 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@35b718ef: startup date [Sun Mar 25 15:51:08 CST 2018]; root of context hierarchy
2018-03-25 15:51:10,126 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(java.security.Principal,org.springframework.ui.Model)
2018-03-25 15:51:10,126 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 15:51:10,128 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-25 15:51:10,128 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-25 15:51:10,128 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-25 15:51:10,129 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 15:51:10,130 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-25 15:51:10,132 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-25 15:51:10,135 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-25 15:51:10,204 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 15:51:10,205 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 15:51:10,255 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 15:51:10,303 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-25 15:51:10,441 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-25 15:51:10,510 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-25 15:51:10,515 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-25 15:51:10,516 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-25 15:51:10,516 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-25 15:51:10,517 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-25 15:51:10,522 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-25 15:51:10,524 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-25 15:51:10,529 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-25 15:51:10,530 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 2.287 seconds (JVM running for 857.694)
2018-03-25 15:51:10,535 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-25 15:51:13,926 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@35b718ef: startup date [Sun Mar 25 15:51:08 CST 2018]; root of context hierarchy
2018-03-25 15:51:13,946 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-25 15:51:13,947 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-25 15:51:13,948 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-25 15:51:13,948 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-25 15:51:13,949 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-25 15:51:13,964 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-25 15:51:13,965 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-25 15:51:13,965 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-25 15:51:13,966 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-25 15:51:14,355 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 7324 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-25 15:51:14,356 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-25 15:51:14,359 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@fd0da33: startup date [Sun Mar 25 15:51:14 CST 2018]; root of context hierarchy
2018-03-25 15:51:14,811 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$e1057425] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:14,835 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:14,859 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:14,861 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:14,862 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$af9f145a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:14,868 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$80e09178] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:14,869 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-25 15:51:14,876 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:14,877 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:14,883 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:14,891 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:31, serverValue:4}] to localhost:27017
2018-03-25 15:51:14,894 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=910666}
2018-03-25 15:51:14,896 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:14,907 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:14,910 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:14,912 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#144b76b0' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:14,913 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#144b76b0' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:14,914 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#54837fdd' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:14,916 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#344020a3' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:14,916 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#344020a3' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:14,917 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5b603cd8' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:14,946 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:14,947 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy89] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:14,948 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:14,949 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:14,954 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:14,955 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.3' does not yet exist.  Creating now.
2018-03-25 15:51:14,957 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.3]
2018-03-25 15:51:14,958 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:14,976 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 15:51:15,068 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 15:51:15,288 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-25 15:51:15,290 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 15:51:15,290 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-25 15:51:15,291 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-25 15:51:15,292 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-25 15:51:15,295 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 15:51:15,379 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-25 15:51:15,379 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 1020 ms
2018-03-25 15:51:15,469 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-25 15:51:15,470 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-25 15:51:15,471 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-25 15:51:15,471 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-25 15:51:15,471 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-25 15:51:15,472 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-25 15:51:15,657 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-25 15:51:15,681 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-25 15:51:15,729 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-25 15:51:15,749 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-25 15:51:15,768 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-25 15:51:15,878 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-25 15:51:15,879 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-25 15:51:15,986 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@fd0da33: startup date [Sun Mar 25 15:51:14 CST 2018]; root of context hierarchy
2018-03-25 15:51:16,014 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(java.security.Principal,org.springframework.ui.Model)
2018-03-25 15:51:16,015 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 15:51:16,015 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-25 15:51:16,016 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-25 15:51:16,016 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-25 15:51:16,016 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 15:51:16,017 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-25 15:51:16,019 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-25 15:51:16,020 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-25 15:51:16,075 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 15:51:16,075 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 15:51:16,117 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 15:51:16,160 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-25 15:51:16,296 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-25 15:51:16,366 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-25 15:51:16,370 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-25 15:51:16,370 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-25 15:51:16,371 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-25 15:51:16,371 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-25 15:51:16,375 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-25 15:51:16,377 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-25 15:51:16,382 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-25 15:51:16,383 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 2.074 seconds (JVM running for 863.547)
2018-03-25 15:51:16,386 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-25 15:52:15,767 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-25 16:06:46,311 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@fd0da33: startup date [Sun Mar 25 15:51:14 CST 2018]; root of context hierarchy
2018-03-25 16:06:46,323 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-25 16:06:46,324 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-25 16:06:46,324 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-25 16:06:46,324 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-25 16:06:46,325 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-25 16:06:46,325 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-25 16:06:46,329 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-25 16:06:46,329 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-25 16:06:46,330 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-25 16:06:46,784 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 7324 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-25 16:06:46,785 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-25 16:06:46,787 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6fe2a21d: startup date [Sun Mar 25 16:06:46 CST 2018]; root of context hierarchy
2018-03-25 16:06:47,361 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$e1057425] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:06:47,385 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:06:47,403 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:06:47,405 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:06:47,408 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$af9f145a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:06:47,412 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$80e09178] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:06:47,413 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-25 16:06:47,419 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:06:47,420 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:06:47,428 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:06:47,432 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:32, serverValue:5}] to localhost:27017
2018-03-25 16:06:47,435 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=785929}
2018-03-25 16:06:47,438 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:06:47,443 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:06:47,445 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:06:47,448 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#18bc2e8b' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:06:47,449 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#18bc2e8b' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:06:47,451 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5acb2cb0' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:06:47,453 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#20c91e23' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:06:47,454 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#20c91e23' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:06:47,455 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4fdb32ed' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:06:47,478 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:06:47,479 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy91] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:06:47,480 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:06:47,481 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:06:47,487 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:06:47,488 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.4' does not yet exist.  Creating now.
2018-03-25 16:06:47,489 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.4]
2018-03-25 16:06:47,490 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:06:47,502 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:06:47,603 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 16:06:47,815 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-25 16:06:47,817 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 16:06:47,818 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-25 16:06:47,819 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-25 16:06:47,820 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-25 16:06:47,821 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 16:06:47,895 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-25 16:06:47,895 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 1108 ms
2018-03-25 16:06:47,984 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-25 16:06:47,985 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-25 16:06:47,985 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-25 16:06:47,986 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-25 16:06:47,986 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-25 16:06:47,988 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-25 16:06:48,352 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-25 16:06:48,382 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-25 16:06:48,443 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-25 16:06:48,485 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-25 16:06:48,519 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-25 16:06:48,678 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-25 16:06:48,679 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-25 16:06:48,829 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6fe2a21d: startup date [Sun Mar 25 16:06:46 CST 2018]; root of context hierarchy
2018-03-25 16:06:48,859 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(java.security.Principal,org.springframework.ui.Model)
2018-03-25 16:06:48,860 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 16:06:48,861 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-25 16:06:48,861 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-25 16:06:48,862 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-25 16:06:48,862 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 16:06:48,863 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-25 16:06:48,866 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-25 16:06:48,867 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-25 16:06:48,923 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 16:06:48,924 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 16:06:48,989 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 16:06:49,044 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-25 16:06:49,168 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-25 16:06:49,251 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-25 16:06:49,255 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-25 16:06:49,256 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-25 16:06:49,257 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-25 16:06:49,258 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-25 16:06:49,262 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-25 16:06:49,265 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-25 16:06:49,271 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-25 16:06:49,272 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 2.522 seconds (JVM running for 1796.436)
2018-03-25 16:06:49,274 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-25 16:08:01,635 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 6288 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-25 16:08:01,660 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-25 16:08:01,928 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3eddf9ad: startup date [Sun Mar 25 16:08:01 CST 2018]; root of context hierarchy
2018-03-25 16:08:04,434 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$9c3c08c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:08:05,850 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:08:05,913 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:08:05,925 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:08:05,934 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$d85d60c1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:08:05,954 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$a99edddf] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:08:06,508 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-25 16:08:06,587 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:08:06,602 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:08:06,658 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:1, serverValue:6}] to localhost:27017
2018-03-25 16:08:06,665 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=4015696}
2018-03-25 16:08:06,677 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:08:06,710 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:08:06,838 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:08:06,875 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:08:06,893 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#40cfd8ef' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:08:06,893 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#40cfd8ef' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:08:06,898 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#42eb3807' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:08:06,904 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5b0cf58b' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:08:06,904 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5b0cf58b' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:08:06,910 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#15c2eac8' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:08:07,103 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:08:07,104 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy62] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:08:07,106 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:08:07,108 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:08:07,243 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:08:07,244 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache' does not yet exist.  Creating now.
2018-03-25 16:08:07,247 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache]
2018-03-25 16:08:07,260 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:08:07,309 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:08:07,924 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 16:08:08,549 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-25 16:08:08,600 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 16:08:08,601 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-25 16:08:08,654 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-25 16:08:08,654 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-25 16:08:08,684 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 16:08:08,975 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-25 16:08:08,975 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 7047 ms
2018-03-25 16:08:09,340 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-25 16:08:09,348 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-25 16:08:09,348 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-25 16:08:09,349 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-25 16:08:09,349 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-25 16:08:09,350 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-25 16:08:09,831 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-25 16:08:09,878 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-25 16:08:09,984 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-25 16:08:10,100 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-25 16:08:10,139 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-25 16:08:10,447 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-25 16:08:10,448 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-25 16:08:10,753 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3eddf9ad: startup date [Sun Mar 25 16:08:01 CST 2018]; root of context hierarchy
2018-03-25 16:08:10,918 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 16:08:10,924 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(java.security.Principal,org.springframework.ui.Model)
2018-03-25 16:08:10,928 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-25 16:08:10,930 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-25 16:08:10,931 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-25 16:08:10,932 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-25 16:08:10,932 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 16:08:10,941 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-25 16:08:10,942 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-25 16:08:11,063 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 16:08:11,063 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 16:08:11,189 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 16:08:11,328 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-25 16:08:11,754 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-25 16:08:11,932 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-25 16:08:11,955 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-25 16:08:11,956 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-25 16:08:11,958 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-25 16:08:11,960 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-25 16:08:11,973 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-25 16:08:12,013 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-25 16:08:12,041 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-25 16:08:12,044 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 12.093 seconds (JVM running for 13.199)
2018-03-25 16:09:10,137 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-25 16:11:27,310 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 16:11:27,335 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-25 16:11:27,336 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-25 16:11:27,401 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 62 ms
2018-03-25 16:11:35,154 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:2, serverValue:7}] to localhost:27017
2018-03-25 16:26:22,757 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 1864 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-25 16:26:22,821 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-25 16:26:23,549 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6ac1aaab: startup date [Sun Mar 25 16:26:23 CST 2018]; root of context hierarchy
2018-03-25 16:26:37,402 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$aa8a6da1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:26:39,446 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:26:39,608 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:26:39,616 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:26:39,624 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$79240dd6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:26:39,785 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$4a658af4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:26:42,932 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-25 16:26:43,623 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:26:43,651 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:26:44,207 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:1, serverValue:1}] to localhost:27017
2018-03-25 16:26:44,306 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=4139636}
2018-03-25 16:26:45,029 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:26:45,967 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:26:46,368 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:26:47,183 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:26:47,230 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#51daf2cd' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:26:47,232 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#51daf2cd' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:26:47,242 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2bce587f' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:26:47,277 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#3b9a95d' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:26:47,278 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#3b9a95d' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:26:47,326 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2abdfaae' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:26:49,575 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:26:49,576 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy62] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:26:49,578 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:26:49,578 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:26:51,423 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:26:51,425 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache' does not yet exist.  Creating now.
2018-03-25 16:26:51,428 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache]
2018-03-25 16:26:51,447 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:26:51,519 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:26:53,624 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 16:26:58,801 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-25 16:26:59,177 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 16:26:59,181 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-25 16:26:59,317 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-25 16:26:59,318 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-25 16:26:59,462 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 16:26:59,925 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-25 16:26:59,925 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 36376 ms
2018-03-25 16:27:00,431 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-25 16:27:00,438 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-25 16:27:00,439 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-25 16:27:00,439 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-25 16:27:00,440 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-25 16:27:00,440 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-25 16:27:01,183 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-25 16:27:01,208 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-25 16:27:01,394 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-25 16:27:01,557 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-25 16:27:01,607 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-25 16:27:01,984 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-25 16:27:01,985 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-25 16:27:02,966 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6ac1aaab: startup date [Sun Mar 25 16:26:23 CST 2018]; root of context hierarchy
2018-03-25 16:27:03,209 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 16:27:03,211 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(java.security.Principal,org.springframework.ui.Model)
2018-03-25 16:27:03,213 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-25 16:27:03,214 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-25 16:27:03,215 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-25 16:27:03,215 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-25 16:27:03,215 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 16:27:03,221 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-25 16:27:03,222 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-25 16:27:03,444 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 16:27:03,445 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 16:27:03,913 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 16:27:04,121 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-25 16:27:04,786 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-25 16:27:04,943 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-25 16:27:04,975 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-25 16:27:04,976 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-25 16:27:04,977 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-25 16:27:04,979 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-25 16:27:04,993 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-25 16:27:05,097 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-25 16:27:05,149 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-25 16:27:05,155 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 47.325 seconds (JVM running for 49.24)
2018-03-25 16:28:01,604 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-25 16:28:18,534 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 16:28:18,579 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-25 16:28:18,579 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-25 16:28:18,648 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 68 ms
2018-03-25 16:28:20,469 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 16:28:29,818 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 16:28:40,791 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:2, serverValue:2}] to localhost:27017
2018-03-25 16:28:54,561 INFO (WebSocketConfiguration.java:44)- online: [id=5ab6382b8212830a9cd747b6;username=huawei;nickname=huawei;jointime=null;online=false;Friends=]
2018-03-25 16:29:09,286 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab6382b8212830a9cd747b6;username=huawei;nickname=huawei;jointime=null;online=false;Friends=]
2018-03-25 16:29:09,526 INFO (WebSocketConfiguration.java:44)- online: [id=5ab6382b8212830a9cd747b6;username=huawei;nickname=huawei;jointime=null;online=false;Friends=]
2018-03-25 16:29:52,655 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab6382b8212830a9cd747b6;username=huawei;nickname=huawei;jointime=null;online=false;Friends=]
2018-03-25 16:29:52,978 INFO (WebSocketConfiguration.java:44)- online: [id=5ab6382b8212830a9cd747b6;username=huawei;nickname=huawei;jointime=null;online=false;Friends=]
2018-03-25 16:31:12,219 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab6382b8212830a9cd747b6;username=huawei;nickname=huawei;jointime=null;online=false;Friends=]
2018-03-25 16:31:12,600 INFO (WebSocketConfiguration.java:44)- online: [id=5ab6382b8212830a9cd747b6;username=huawei;nickname=huawei;jointime=null;online=false;Friends=]
2018-03-25 16:53:43,570 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 4308 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-25 16:53:43,572 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-25 16:53:43,734 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@55bd885: startup date [Sun Mar 25 16:53:43 CST 2018]; root of context hierarchy
2018-03-25 16:53:48,043 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$fd4d5894] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:53:50,958 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:53:51,043 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:53:51,057 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:53:51,070 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$cbe6f8c9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:53:51,112 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$9d2875e7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:53:52,088 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-25 16:53:52,453 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:53:52,507 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:1, serverValue:8}] to localhost:27017
2018-03-25 16:53:52,522 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=3241207}
2018-03-25 16:53:52,524 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:53:52,860 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:53:52,940 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:53:53,097 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:53:53,277 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:53:53,325 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#1e82291c' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:53:53,326 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#1e82291c' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:53:53,331 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#64c05aa0' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:53:53,355 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#9da015f' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:53:53,356 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#9da015f' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:53:53,365 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#30c585cc' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:53:53,873 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:53:53,874 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy62] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:53:53,876 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:53:53,876 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:53:54,371 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:53:54,373 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache' does not yet exist.  Creating now.
2018-03-25 16:53:54,385 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache]
2018-03-25 16:53:54,424 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:53:54,511 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:53:55,415 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 16:53:56,122 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-25 16:53:56,203 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 16:53:56,204 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-25 16:53:56,253 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-25 16:53:56,254 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-25 16:53:56,289 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 16:53:56,575 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-25 16:53:56,576 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 12842 ms
2018-03-25 16:53:57,101 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-25 16:53:57,107 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-25 16:53:57,107 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-25 16:53:57,108 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-25 16:53:57,108 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-25 16:53:57,108 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-25 16:53:57,748 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-25 16:53:57,775 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-25 16:53:57,912 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-25 16:53:58,077 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-25 16:53:58,158 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-25 16:53:58,504 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-25 16:53:58,505 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-25 16:53:59,041 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@55bd885: startup date [Sun Mar 25 16:53:43 CST 2018]; root of context hierarchy
2018-03-25 16:53:59,417 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(java.security.Principal,org.springframework.ui.Model)
2018-03-25 16:53:59,420 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 16:53:59,422 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-25 16:53:59,423 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-25 16:53:59,423 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-25 16:53:59,424 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 16:53:59,425 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-25 16:53:59,435 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-25 16:53:59,436 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-25 16:53:59,553 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 16:53:59,553 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 16:53:59,728 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 16:53:59,924 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-25 16:54:00,424 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-25 16:54:00,589 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-25 16:54:00,627 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-25 16:54:00,628 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-25 16:54:00,629 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-25 16:54:00,630 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-25 16:54:00,643 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-25 16:54:00,717 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-25 16:54:00,785 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-25 16:54:00,789 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 18.656 seconds (JVM running for 19.832)
2018-03-25 16:54:12,859 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 16:54:12,882 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-25 16:54:12,883 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-25 16:54:12,963 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 79 ms
2018-03-25 16:54:25,089 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:2, serverValue:9}] to localhost:27017
2018-03-25 16:54:25,900 INFO (WebSocketConfiguration.java:44)- online: [id=5ab6382b8212830a9cd747b6;username=huawei;nickname=huawei;jointime=null;online=false;Friends=vivo,vivo,]
2018-03-25 16:54:57,751 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab6382b8212830a9cd747b6;username=huawei;nickname=huawei;jointime=null;online=false;Friends=vivo,vivo,]
2018-03-25 16:54:57,839 INFO (WebSocketConfiguration.java:44)- online: [id=5ab6382b8212830a9cd747b6;username=huawei;nickname=huawei;jointime=null;online=false;Friends=vivo,vivo,]
2018-03-25 16:54:58,154 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 2 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(2)-CONNECTED(2)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 8, active threads = 0, queued tasks = 0, completed tasks = 21], outboundChannelpool size = 3, active threads = 0, queued tasks = 0, completed tasks = 3], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 2, completed tasks = 8]
2018-03-25 16:55:51,112 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab6382b8212830a9cd747b6;username=huawei;nickname=huawei;jointime=null;online=false;Friends=vivo,vivo,]
2018-03-25 16:55:51,262 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 16:55:51,285 INFO (WebSocketConfiguration.java:44)- online: [id=5ab6382b8212830a9cd747b6;username=huawei;nickname=huawei;jointime=null;online=false;Friends=vivo,vivo,]
2018-03-25 16:56:17,660 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@55bd885: startup date [Sun Mar 25 16:53:43 CST 2018]; root of context hierarchy
2018-03-25 16:56:17,668 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-25 16:56:17,671 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab6382b8212830a9cd747b6;username=huawei;nickname=huawei;jointime=null;online=false;Friends=vivo,vivo,]
2018-03-25 16:56:17,672 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-25 16:56:17,673 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-25 16:56:17,673 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-25 16:56:17,674 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-25 16:56:17,677 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-25 16:56:17,678 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-25 16:56:17,681 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-25 16:56:17,682 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-25 16:56:17,746 INFO (SLF4JLogger.java:71)- Closed connection [connectionId{localValue:2, serverValue:9}] to localhost:27017 because the pool has been closed.
2018-03-25 16:56:18,367 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 4308 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-25 16:56:18,368 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-25 16:56:18,373 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1953420f: startup date [Sun Mar 25 16:56:18 CST 2018]; root of context hierarchy
2018-03-25 16:56:19,134 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$fd4d5894] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:56:19,161 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:56:19,195 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:56:19,199 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:56:19,201 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$cbe6f8c9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:56:19,212 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$9d2875e7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:56:19,215 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-25 16:56:19,225 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:56:19,227 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:56:19,235 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:56:19,247 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:56:19,258 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:56:19,261 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:3, serverValue:10}] to localhost:27017
2018-03-25 16:56:19,265 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=934349}
2018-03-25 16:56:19,267 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:56:19,272 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6ed162ba' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:56:19,273 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6ed162ba' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:56:19,275 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5387902a' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:56:19,277 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#ff9fa0e' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:56:19,278 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#ff9fa0e' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:56:19,281 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#26daae61' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:56:19,328 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:56:19,331 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy86] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:56:19,333 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:56:19,334 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:56:19,344 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:56:19,345 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.1' does not yet exist.  Creating now.
2018-03-25 16:56:19,347 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.1]
2018-03-25 16:56:19,351 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:56:19,367 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 16:56:19,545 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 16:56:19,717 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-25 16:56:19,720 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 16:56:19,720 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-25 16:56:19,721 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-25 16:56:19,721 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-25 16:56:19,723 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 16:56:19,766 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-25 16:56:19,766 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 1393 ms
2018-03-25 16:56:19,878 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-25 16:56:19,879 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-25 16:56:19,880 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-25 16:56:19,881 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-25 16:56:19,881 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-25 16:56:19,881 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-25 16:56:19,964 WARN (DirectJDKLog.java:180)- Cannot deserialize session attribute [org.apache.shiro.subject.support.DefaultSubjectContext_PRINCIPALS_SESSION_KEY] for session [F92AD6130CC74A6F22BE24A59C040CD8]
2018-03-25 16:56:20,255 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-25 16:56:20,285 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-25 16:56:20,354 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-25 16:56:20,390 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-25 16:56:20,441 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-25 16:56:20,577 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-25 16:56:20,578 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-25 16:56:20,698 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1953420f: startup date [Sun Mar 25 16:56:18 CST 2018]; root of context hierarchy
2018-03-25 16:56:20,740 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(java.security.Principal,org.springframework.ui.Model)
2018-03-25 16:56:20,741 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 16:56:20,745 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-25 16:56:20,745 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-25 16:56:20,746 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-25 16:56:20,747 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 16:56:20,747 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-25 16:56:20,754 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-25 16:56:20,755 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-25 16:56:20,817 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 16:56:20,817 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 16:56:20,871 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 16:56:20,912 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-25 16:56:21,128 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-25 16:56:21,329 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-25 16:56:21,341 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-25 16:56:21,342 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-25 16:56:21,343 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-25 16:56:21,343 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-25 16:56:21,355 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-25 16:56:21,357 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-25 16:56:21,365 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-25 16:56:21,367 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 3.059 seconds (JVM running for 160.41)
2018-03-25 16:56:21,374 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-25 16:56:39,194 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 16:56:39,198 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-25 16:56:39,200 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-25 16:56:39,213 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 12 ms
2018-03-25 16:56:39,283 ERROR (DirectJDKLog.java:182)- Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause
java.lang.NullPointerException: null
	at springboot.Facedetect.controller.homeController.chat(homeController.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:870)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:776)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:870)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:855)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61)
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108)
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137)
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66)
	at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449)
	at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365)
	at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90)
	at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83)
	at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:387)
	at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362)
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-03-25 16:56:44,670 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 16:56:51,072 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:4, serverValue:11}] to localhost:27017
2018-03-25 16:56:58,067 INFO (WebSocketConfiguration.java:44)- online: [id=5ab6382b8212830a9cd747b6;username=huawei;nickname=huawei;jointime=null;online=false;Friends=vivo,vivo,xishd,]
2018-03-25 16:57:11,115 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab6382b8212830a9cd747b6;username=huawei;nickname=huawei;jointime=null;online=false;Friends=vivo,vivo,xishd,]
2018-03-25 16:57:20,440 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 8, active threads = 0, queued tasks = 0, completed tasks = 12], outboundChannelpool size = 2, active threads = 0, queued tasks = 0, completed tasks = 2], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 1, completed tasks = 5]
2018-03-25 16:58:30,135 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 16:58:32,116 INFO (WebSocketConfiguration.java:44)- online: [id=5ab6382b8212830a9cd747b6;username=huawei;nickname=huawei;jointime=null;online=false;Friends=vivo,vivo,xishd,]
2018-03-25 16:58:43,635 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab6382b8212830a9cd747b6;username=huawei;nickname=huawei;jointime=null;online=false;Friends=vivo,vivo,xishd,]
2018-03-25 16:58:43,725 INFO (WebSocketConfiguration.java:44)- online: [id=5ab6382b8212830a9cd747b6;username=huawei;nickname=huawei;jointime=null;online=false;Friends=vivo,vivo,xishd,]
2018-03-25 16:58:45,522 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab6382b8212830a9cd747b6;username=huawei;nickname=huawei;jointime=null;online=false;Friends=vivo,vivo,xishd,]
2018-03-25 16:58:45,642 INFO (WebSocketConfiguration.java:44)- online: [id=5ab6382b8212830a9cd747b6;username=huawei;nickname=huawei;jointime=null;online=false;Friends=vivo,vivo,xishd,]
2018-03-25 16:58:50,386 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab6382b8212830a9cd747b6;username=huawei;nickname=huawei;jointime=null;online=false;Friends=vivo,vivo,xishd,]
2018-03-25 16:58:50,466 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 16:58:50,490 INFO (WebSocketConfiguration.java:44)- online: [id=5ab6382b8212830a9cd747b6;username=huawei;nickname=huawei;jointime=null;online=false;Friends=vivo,vivo,xishd,]
2018-03-25 17:05:43,219 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1953420f: startup date [Sun Mar 25 16:56:18 CST 2018]; root of context hierarchy
2018-03-25 17:05:43,221 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-25 17:05:43,223 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab6382b8212830a9cd747b6;username=huawei;nickname=huawei;jointime=null;online=false;Friends=vivo,vivo,xishd,]
2018-03-25 17:05:43,228 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-25 17:05:43,229 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[1 sessions]]]]
2018-03-25 17:05:43,229 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-25 17:05:43,231 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-25 17:05:43,232 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-25 17:05:43,233 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-25 17:05:43,234 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-25 17:05:43,234 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-25 17:05:43,239 INFO (SLF4JLogger.java:71)- Closed connection [connectionId{localValue:4, serverValue:11}] to localhost:27017 because the pool has been closed.
2018-03-25 17:05:43,739 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 4308 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-25 17:05:43,740 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-25 17:05:43,743 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@60b4eee5: startup date [Sun Mar 25 17:05:43 CST 2018]; root of context hierarchy
2018-03-25 17:05:44,314 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$fd4d5894] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:05:44,344 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:05:44,370 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:05:44,372 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:05:44,374 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$cbe6f8c9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:05:44,380 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$9d2875e7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:05:44,382 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-25 17:05:44,388 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:05:44,389 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:05:44,392 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:5, serverValue:12}] to localhost:27017
2018-03-25 17:05:44,395 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=884217}
2018-03-25 17:05:44,400 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:05:44,406 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:05:44,411 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:05:44,415 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:05:44,421 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6aa2b51f' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:05:44,424 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6aa2b51f' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:05:44,426 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#e82fcdb' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:05:44,430 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#172c6e06' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:05:44,431 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#172c6e06' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:05:44,432 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#70e8a9c' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:05:44,476 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:05:44,479 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy88] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:05:44,480 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:05:44,481 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:05:44,492 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:05:44,495 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.2' does not yet exist.  Creating now.
2018-03-25 17:05:44,496 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.2]
2018-03-25 17:05:44,499 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:05:44,518 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:05:44,691 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:05:45,009 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-25 17:05:45,011 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:05:45,011 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-25 17:05:45,012 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-25 17:05:45,012 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-25 17:05:45,014 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:05:45,067 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-25 17:05:45,068 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 1325 ms
2018-03-25 17:05:45,184 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-25 17:05:45,185 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-25 17:05:45,186 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-25 17:05:45,186 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-25 17:05:45,186 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-25 17:05:45,187 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-25 17:05:45,208 WARN (DirectJDKLog.java:180)- Cannot deserialize session attribute [org.apache.shiro.subject.support.DefaultSubjectContext_PRINCIPALS_SESSION_KEY] for session [13089763EE0E253FD8C23B97FB94372B]
2018-03-25 17:05:45,357 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-25 17:05:45,382 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-25 17:05:45,420 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-25 17:05:45,443 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-25 17:05:45,470 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-25 17:05:45,617 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-25 17:05:45,618 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-25 17:05:45,741 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@60b4eee5: startup date [Sun Mar 25 17:05:43 CST 2018]; root of context hierarchy
2018-03-25 17:05:45,773 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(java.security.Principal,org.springframework.ui.Model)
2018-03-25 17:05:45,773 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 17:05:45,775 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-25 17:05:45,775 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-25 17:05:45,776 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-25 17:05:45,777 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 17:05:45,777 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-25 17:05:45,782 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-25 17:05:45,783 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-25 17:05:45,838 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 17:05:45,839 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 17:05:45,889 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 17:05:45,941 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-25 17:05:46,070 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-25 17:05:46,147 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-25 17:05:46,150 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-25 17:05:46,151 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-25 17:05:46,151 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-25 17:05:46,152 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-25 17:05:46,157 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-25 17:05:46,159 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-25 17:05:46,165 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-25 17:05:46,168 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 2.479 seconds (JVM running for 725.211)
2018-03-25 17:05:46,171 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-25 17:06:08,968 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@60b4eee5: startup date [Sun Mar 25 17:05:43 CST 2018]; root of context hierarchy
2018-03-25 17:06:08,970 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-25 17:06:08,970 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-25 17:06:08,970 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-25 17:06:08,971 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-25 17:06:08,971 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-25 17:06:08,972 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-25 17:06:08,973 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-25 17:06:08,974 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-25 17:06:08,975 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-25 17:06:09,395 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 4308 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-25 17:06:09,396 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-25 17:06:09,400 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@65d15d4: startup date [Sun Mar 25 17:06:09 CST 2018]; root of context hierarchy
2018-03-25 17:06:09,834 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$fd4d5894] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:06:09,853 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:06:09,880 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:06:09,882 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:06:09,883 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$cbe6f8c9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:06:09,888 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$9d2875e7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:06:09,890 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-25 17:06:09,896 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:06:09,898 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:06:09,911 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:6, serverValue:13}] to localhost:27017
2018-03-25 17:06:09,914 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=1179877}
2018-03-25 17:06:09,914 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:06:09,922 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:06:09,930 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:06:09,933 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:06:09,937 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#196d7058' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:06:09,938 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#196d7058' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:06:09,941 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#263ca62b' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:06:09,943 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#599f6a1e' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:06:09,944 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#599f6a1e' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:06:09,945 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4762453f' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:06:09,982 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:06:09,983 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy90] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:06:09,984 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:06:09,984 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:06:09,990 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:06:09,992 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.3' does not yet exist.  Creating now.
2018-03-25 17:06:09,993 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.3]
2018-03-25 17:06:09,994 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:06:10,003 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:06:10,106 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:06:10,321 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-25 17:06:10,322 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:06:10,323 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-25 17:06:10,325 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-25 17:06:10,325 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-25 17:06:10,327 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:06:10,398 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-25 17:06:10,398 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 998 ms
2018-03-25 17:06:10,477 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-25 17:06:10,478 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-25 17:06:10,479 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-25 17:06:10,479 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-25 17:06:10,479 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-25 17:06:10,480 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-25 17:06:10,649 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-25 17:06:10,667 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-25 17:06:10,698 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-25 17:06:10,712 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-25 17:06:10,728 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-25 17:06:10,814 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-25 17:06:10,815 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-25 17:06:10,897 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@65d15d4: startup date [Sun Mar 25 17:06:09 CST 2018]; root of context hierarchy
2018-03-25 17:06:10,921 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(java.security.Principal,org.springframework.ui.Model)
2018-03-25 17:06:10,922 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 17:06:10,923 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-25 17:06:10,924 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-25 17:06:10,925 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-25 17:06:10,925 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 17:06:10,973 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-25 17:06:10,975 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-25 17:06:10,976 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-25 17:06:11,057 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 17:06:11,058 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 17:06:11,111 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 17:06:11,159 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-25 17:06:11,259 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-25 17:06:11,310 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-25 17:06:11,313 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-25 17:06:11,314 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-25 17:06:11,314 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-25 17:06:11,315 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-25 17:06:11,319 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-25 17:06:11,321 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-25 17:06:11,326 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-25 17:06:11,327 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.974 seconds (JVM running for 750.37)
2018-03-25 17:06:11,330 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-25 17:07:10,728 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-25 17:13:16,642 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@65d15d4: startup date [Sun Mar 25 17:06:09 CST 2018]; root of context hierarchy
2018-03-25 17:13:16,643 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-25 17:13:16,644 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-25 17:13:16,644 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-25 17:13:16,644 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-25 17:13:16,645 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-25 17:13:16,645 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-25 17:13:16,645 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-25 17:13:16,646 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-25 17:13:16,647 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-25 17:13:17,100 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 4308 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-25 17:13:17,101 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-25 17:13:17,103 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@655ab26b: startup date [Sun Mar 25 17:13:17 CST 2018]; root of context hierarchy
2018-03-25 17:13:17,506 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$fd4d5894] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:13:17,529 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:13:17,547 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:13:17,549 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:13:17,550 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$cbe6f8c9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:13:17,555 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$9d2875e7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:13:17,557 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-25 17:13:17,562 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:13:17,564 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:13:17,569 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:13:17,576 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:13:17,583 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:13:17,586 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:13:17,591 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:7, serverValue:14}] to localhost:27017
2018-03-25 17:13:17,593 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=669083}
2018-03-25 17:13:17,595 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5ccf89e4' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:13:17,595 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5ccf89e4' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:13:17,597 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2129a335' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:13:17,598 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#24d650b' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:13:17,600 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#24d650b' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:13:17,601 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6795f62e' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:13:17,628 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:13:17,629 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy92] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:13:17,630 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:13:17,631 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:13:17,637 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:13:17,638 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache.4' does not yet exist.  Creating now.
2018-03-25 17:13:17,639 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache.4]
2018-03-25 17:13:17,640 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:13:17,648 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:13:17,776 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:13:17,969 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-25 17:13:17,971 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:13:17,972 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-25 17:13:17,973 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-25 17:13:17,973 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-25 17:13:17,975 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:13:18,035 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-25 17:13:18,036 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 933 ms
2018-03-25 17:13:18,108 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-25 17:13:18,109 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-25 17:13:18,109 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-25 17:13:18,110 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-25 17:13:18,110 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-25 17:13:18,111 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-25 17:13:18,249 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-25 17:13:18,268 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-25 17:13:18,301 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-25 17:13:18,315 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-25 17:13:18,331 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-25 17:13:18,435 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-25 17:13:18,436 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-25 17:13:18,530 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@655ab26b: startup date [Sun Mar 25 17:13:17 CST 2018]; root of context hierarchy
2018-03-25 17:13:18,563 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(java.security.Principal,org.springframework.ui.Model)
2018-03-25 17:13:18,564 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 17:13:18,565 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-25 17:13:18,566 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-25 17:13:18,566 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-25 17:13:18,567 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 17:13:18,567 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-25 17:13:18,571 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-25 17:13:18,572 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-25 17:13:18,625 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 17:13:18,626 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 17:13:18,678 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 17:13:18,752 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-25 17:13:18,893 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-25 17:13:18,962 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-25 17:13:18,966 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-25 17:13:18,967 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-25 17:13:18,968 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-25 17:13:18,968 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-25 17:13:18,973 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-25 17:13:18,976 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-25 17:13:18,987 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-25 17:13:18,989 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 1.919 seconds (JVM running for 1178.032)
2018-03-25 17:13:18,992 INFO (ConditionEvaluationDeltaLoggingListener.java:56)- Condition evaluation unchanged
2018-03-25 17:14:18,331 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-25 17:16:51,494 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 2244 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-25 17:16:51,520 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-25 17:16:51,725 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5be81ed6: startup date [Sun Mar 25 17:16:51 CST 2018]; root of context hierarchy
2018-03-25 17:16:54,155 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$b8ea651e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:16:55,803 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:16:55,862 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:16:55,871 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:16:55,880 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$87840553] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:16:55,902 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$58c58271] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:16:56,469 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-25 17:16:56,570 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:16:56,590 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:16:56,665 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:1, serverValue:20}] to localhost:27017
2018-03-25 17:16:56,673 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=4779114}
2018-03-25 17:16:56,677 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:16:56,716 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:16:56,853 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:16:56,902 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:16:56,926 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5dcfca43' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:16:56,926 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5dcfca43' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:16:56,931 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#76e0ca5d' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:16:56,938 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4b9f7931' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:16:56,939 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4b9f7931' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:16:56,944 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2f36c301' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:16:57,245 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:16:57,246 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy62] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:16:57,248 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:16:57,249 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:16:57,453 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:16:57,454 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache' does not yet exist.  Creating now.
2018-03-25 17:16:57,459 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache]
2018-03-25 17:16:57,476 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:16:57,555 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:16:58,172 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:16:58,717 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-25 17:16:58,783 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:16:58,784 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-25 17:16:58,824 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-25 17:16:58,824 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-25 17:16:58,856 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:16:59,329 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-25 17:16:59,330 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 7606 ms
2018-03-25 17:16:59,729 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-25 17:16:59,736 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-25 17:16:59,737 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-25 17:16:59,738 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-25 17:16:59,738 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-25 17:16:59,738 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-25 17:17:00,243 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-25 17:17:00,290 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-25 17:17:00,395 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-25 17:17:00,522 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-25 17:17:00,553 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-25 17:17:00,860 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-25 17:17:00,861 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-25 17:17:01,190 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5be81ed6: startup date [Sun Mar 25 17:16:51 CST 2018]; root of context hierarchy
2018-03-25 17:17:01,345 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 17:17:01,349 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(java.security.Principal,org.springframework.ui.Model)
2018-03-25 17:17:01,351 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-25 17:17:01,353 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-25 17:17:01,353 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-25 17:17:01,354 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-25 17:17:01,355 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 17:17:01,362 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-25 17:17:01,364 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-25 17:17:01,484 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 17:17:01,485 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 17:17:01,603 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 17:17:01,721 WARN (TemplateMode.java:150)- [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-25 17:17:02,159 INFO (OptionalLiveReloadServer.java:57)- LiveReload server is running on port 35729
2018-03-25 17:17:02,301 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-25 17:17:02,315 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-25 17:17:02,316 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-25 17:17:02,319 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-25 17:17:02,320 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-25 17:17:02,333 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-25 17:17:02,425 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-25 17:17:02,453 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-25 17:17:02,457 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 13.015 seconds (JVM running for 14.016)
2018-03-25 17:17:15,070 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:17:15,099 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-25 17:17:15,100 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-25 17:17:15,141 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 40 ms
2018-03-25 17:17:22,088 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:2, serverValue:21}] to localhost:27017
2018-03-25 17:17:39,758 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:18:00,551 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-25 17:18:15,385 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:19:08,956 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:20:11,786 INFO (WebSocketConfiguration.java:44)- online: [id=5ab638438212830a9cd747b7;username=vivo;nickname=vivo;jointime=null;online=false;Friends=]
2018-03-25 17:20:17,662 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab638438212830a9cd747b7;username=vivo;nickname=vivo;jointime=null;online=false;Friends=]
2018-03-25 17:20:17,816 INFO (WebSocketConfiguration.java:44)- online: [id=5ab638438212830a9cd747b7;username=vivo;nickname=vivo;jointime=null;online=false;Friends=]
2018-03-25 17:21:45,482 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab638438212830a9cd747b7;username=vivo;nickname=vivo;jointime=null;online=false;Friends=]
2018-03-25 17:26:38,076 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 6124 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-25 17:26:38,084 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-25 17:26:38,308 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6e4784bc: startup date [Sun Mar 25 17:26:38 CST 2018]; root of context hierarchy
2018-03-25 17:26:42,210 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$a4c3a881] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:26:44,178 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:26:44,228 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:26:44,236 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:26:44,243 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$735d48b6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:26:44,259 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$449ec5d4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:26:44,723 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-25 17:26:44,793 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:26:44,808 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:26:44,865 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:1, serverValue:27}] to localhost:27017
2018-03-25 17:26:44,870 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=3101470}
2018-03-25 17:26:44,909 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:26:44,944 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:26:45,004 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:26:45,120 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:26:45,137 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#b967222' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:26:45,137 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#b967222' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:26:45,142 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4349754' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:26:45,150 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#336365bc' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:26:45,150 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#336365bc' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:26:45,158 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#66ec9390' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:26:45,367 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:26:45,368 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy58] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:26:45,370 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:26:45,371 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:26:45,547 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:26:45,549 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache' does not yet exist.  Creating now.
2018-03-25 17:26:45,553 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache]
2018-03-25 17:26:45,571 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:26:45,648 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:26:46,277 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:26:46,644 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-25 17:26:46,680 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:26:46,681 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-25 17:26:46,729 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-25 17:26:46,730 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-25 17:26:46,742 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:26:47,028 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-25 17:26:47,028 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 8720 ms
2018-03-25 17:26:47,387 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-25 17:26:47,395 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-25 17:26:47,396 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-25 17:26:47,396 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-25 17:26:47,397 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-25 17:26:47,397 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-25 17:26:47,845 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-25 17:26:47,873 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-25 17:26:47,981 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-25 17:26:48,078 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-25 17:26:48,111 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-25 17:26:48,369 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-25 17:26:48,370 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-25 17:26:48,703 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6e4784bc: startup date [Sun Mar 25 17:26:38 CST 2018]; root of context hierarchy
2018-03-25 17:26:48,897 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 17:26:48,898 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(java.security.Principal,org.springframework.ui.Model)
2018-03-25 17:26:48,900 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-25 17:26:48,901 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-25 17:26:48,903 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-25 17:26:48,903 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 17:26:48,904 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-25 17:26:48,913 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-25 17:26:48,915 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-25 17:26:49,019 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 17:26:49,019 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 17:26:49,106 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 17:26:49,213 WARN (TemplateMode.java:150)- [THYMELEAF][main] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-25 17:26:49,675 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-25 17:26:49,687 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-25 17:26:49,688 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-25 17:26:49,689 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-25 17:26:49,690 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-25 17:26:49,701 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-25 17:26:49,745 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-25 17:26:49,784 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-25 17:26:49,787 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 13.562 seconds (JVM running for 14.394)
2018-03-25 17:27:01,346 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:27:01,386 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-25 17:27:01,389 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-25 17:27:01,460 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 61 ms
2018-03-25 17:27:12,196 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:2, serverValue:28}] to localhost:27017
2018-03-25 17:27:12,719 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=]
2018-03-25 17:27:26,555 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=]
2018-03-25 17:27:26,692 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=]
2018-03-25 17:27:46,707 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=]
2018-03-25 17:27:46,845 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=]
2018-03-25 17:27:48,108 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 3 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(3)-CONNECTED(3)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 8, active threads = 0, queued tasks = 0, completed tasks = 33], outboundChannelpool size = 5, active threads = 0, queued tasks = 0, completed tasks = 5], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 2, completed tasks = 8]
2018-03-25 17:29:18,457 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=]
2018-03-25 17:29:18,589 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:29:18,611 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=]
2018-03-25 17:29:44,190 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=]
2018-03-25 17:29:44,368 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=]
2018-03-25 17:30:30,712 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 7692 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-25 17:30:30,721 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-25 17:30:30,810 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@10e41621: startup date [Sun Mar 25 17:30:30 CST 2018]; root of context hierarchy
2018-03-25 17:30:32,629 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$a4c3a881] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:30:33,187 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:30:33,252 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:30:33,260 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:30:33,269 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$735d48b6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:30:33,287 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$449ec5d4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:30:33,716 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-25 17:30:33,784 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:30:33,808 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:30:33,825 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:1, serverValue:29}] to localhost:27017
2018-03-25 17:30:33,832 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=4525296}
2018-03-25 17:30:33,888 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:30:33,920 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:30:33,966 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:30:34,094 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:30:34,111 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#b967222' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:30:34,112 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#b967222' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:30:34,116 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4349754' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:30:34,123 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#336365bc' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:30:34,123 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#336365bc' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:30:34,129 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#66ec9390' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:30:34,287 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:30:34,288 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy58] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:30:34,291 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:30:34,292 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:30:34,390 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:30:34,392 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache' does not yet exist.  Creating now.
2018-03-25 17:30:34,395 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache]
2018-03-25 17:30:34,406 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:30:34,457 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:30:34,901 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:30:35,069 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-25 17:30:35,092 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:30:35,093 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-25 17:30:35,110 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-25 17:30:35,110 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-25 17:30:35,126 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:30:35,336 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-25 17:30:35,336 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 4526 ms
2018-03-25 17:30:35,720 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-25 17:30:35,728 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-25 17:30:35,728 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-25 17:30:35,729 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-25 17:30:35,730 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-25 17:30:35,730 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-25 17:30:36,136 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-25 17:30:36,173 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-25 17:30:36,265 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-25 17:30:36,368 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-25 17:30:36,404 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-25 17:30:36,649 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-25 17:30:36,650 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-25 17:30:36,981 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@10e41621: startup date [Sun Mar 25 17:30:30 CST 2018]; root of context hierarchy
2018-03-25 17:30:37,089 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(java.security.Principal,org.springframework.ui.Model)
2018-03-25 17:30:37,091 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 17:30:37,092 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-25 17:30:37,093 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-25 17:30:37,094 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-25 17:30:37,095 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-25 17:30:37,095 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 17:30:37,103 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-25 17:30:37,105 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-25 17:30:37,229 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 17:30:37,230 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 17:30:37,357 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 17:30:37,474 WARN (TemplateMode.java:150)- [THYMELEAF][main] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-25 17:30:37,890 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-25 17:30:37,907 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-25 17:30:37,908 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-25 17:30:37,910 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-25 17:30:37,911 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-25 17:30:37,923 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-25 17:30:37,949 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:30:37,950 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:30:37,955 ERROR (DirectJDKLog.java:182)- Failed to start connector [Connector[HTTP/1.1-8080]]
org.apache.catalina.LifecycleException: Failed to start component [Connector[HTTP/1.1-8080]]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)
	at org.apache.catalina.core.StandardService.addConnector(StandardService.java:225)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:255)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:197)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.startWebServer(ServletWebServerApplicationContext.java:300)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.finishRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:552)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:388)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:327)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1234)
	at springboot.Facedetect.FacedetectApplication.main(FacedetectApplication.java:10)
Caused by: org.apache.catalina.LifecycleException: Protocol handler start failed
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1021)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	... 13 common frames omitted
Caused by: java.net.BindException: Address already in use: bind
	at sun.nio.ch.Net.bind0(Native Method)
	at sun.nio.ch.Net.bind(Net.java:433)
	at sun.nio.ch.Net.bind(Net.java:425)
	at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:223)
	at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)
	at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:210)
	at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1150)
	at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:591)
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1018)
	... 14 common frames omitted
2018-03-25 17:30:37,962 INFO (DirectJDKLog.java:180)- Pausing ProtocolHandler ["http-nio-8080"]
2018-03-25 17:30:37,963 INFO (DirectJDKLog.java:180)- Stopping service [Tomcat]
2018-03-25 17:30:38,023 INFO (DirectJDKLog.java:180)- The stop() method was called on component [StandardServer[-1]] after stop() had already been called. The second call will be ignored.
2018-03-25 17:30:38,023 INFO (DirectJDKLog.java:180)- Stopping ProtocolHandler ["http-nio-8080"]
2018-03-25 17:30:38,024 INFO (DirectJDKLog.java:180)- Destroying ProtocolHandler ["http-nio-8080"]
2018-03-25 17:30:38,044 INFO (ConditionEvaluationReportLoggingListener.java:102)- 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-03-25 17:30:38,049 ERROR (LoggingFailureAnalysisReporter.java:42)- 

***************************
APPLICATION FAILED TO START
***************************

Description:

The Tomcat connector configured to listen on port 8080 failed to start. The port may already be in use or the connector may be misconfigured.

Action:

Verify the connector's configuration, identify and stop any process that's listening on port 8080, or configure this application to listen on another port.

2018-03-25 17:30:38,052 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@10e41621: startup date [Sun Mar 25 17:30:30 CST 2018]; root of context hierarchy
2018-03-25 17:30:38,055 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-25 17:30:38,056 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-25 17:30:38,057 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-25 17:30:38,057 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-25 17:30:38,058 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-25 17:30:38,062 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-25 17:30:38,063 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-25 17:30:38,064 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-25 17:30:38,065 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-25 17:31:23,310 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 7596 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-25 17:31:23,316 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-25 17:31:23,412 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@10e41621: startup date [Sun Mar 25 17:31:23 CST 2018]; root of context hierarchy
2018-03-25 17:31:25,063 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$7bd6736e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:31:25,812 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:31:25,879 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:31:25,888 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:31:25,897 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$4a7013a3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:31:25,917 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$1bb190c1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:31:26,366 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-25 17:31:26,433 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:31:26,474 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:1, serverValue:30}] to localhost:27017
2018-03-25 17:31:26,475 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:31:26,484 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=5113853}
2018-03-25 17:31:26,569 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:31:26,596 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:31:26,635 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:31:26,762 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:31:26,783 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6b760460' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:31:26,784 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6b760460' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:31:26,790 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#3e7dfd44' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:31:26,798 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4074023c' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:31:26,799 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4074023c' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:31:26,805 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5b12012e' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:31:26,969 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:31:26,970 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy58] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:31:26,973 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:31:26,974 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:31:27,081 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:31:27,083 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache' does not yet exist.  Creating now.
2018-03-25 17:31:27,089 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache]
2018-03-25 17:31:27,113 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:31:27,207 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:31:27,642 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:31:27,803 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-25 17:31:27,835 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:31:27,836 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-25 17:31:27,853 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-25 17:31:27,854 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-25 17:31:27,868 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:31:28,095 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-25 17:31:28,096 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 4684 ms
2018-03-25 17:31:28,452 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-25 17:31:28,458 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-25 17:31:28,459 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-25 17:31:28,460 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-25 17:31:28,460 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-25 17:31:28,460 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-25 17:31:28,864 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-25 17:31:28,894 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-25 17:31:28,990 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-25 17:31:29,089 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-25 17:31:29,126 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-25 17:31:29,367 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-25 17:31:29,368 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-25 17:31:29,752 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@10e41621: startup date [Sun Mar 25 17:31:23 CST 2018]; root of context hierarchy
2018-03-25 17:31:29,892 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 17:31:29,893 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(java.security.Principal,org.springframework.ui.Model)
2018-03-25 17:31:29,896 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 17:31:29,897 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-25 17:31:29,898 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-25 17:31:29,899 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-25 17:31:29,899 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-25 17:31:29,910 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-25 17:31:29,912 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-25 17:31:30,016 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 17:31:30,017 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 17:31:30,155 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 17:31:30,276 WARN (TemplateMode.java:150)- [THYMELEAF][main] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-25 17:31:30,707 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-25 17:31:30,721 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-25 17:31:30,722 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-25 17:31:30,723 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-25 17:31:30,724 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-25 17:31:30,737 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-25 17:31:30,754 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-25 17:31:30,778 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-25 17:31:30,781 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 8.152 seconds (JVM running for 9.007)
2018-03-25 17:32:29,121 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-25 17:34:10,220 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:34:10,236 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-25 17:34:10,237 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-25 17:34:10,279 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 42 ms
2018-03-25 17:34:16,806 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:34:16,894 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:2, serverValue:31}] to localhost:27017
2018-03-25 17:34:27,714 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-25 17:34:51,350 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-25 17:34:51,427 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:34:51,458 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-25 17:35:04,729 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-25 17:35:04,841 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-25 17:37:05,779 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 5304 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-25 17:37:05,786 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-25 17:37:05,894 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@470f1802: startup date [Sun Mar 25 17:37:05 CST 2018]; root of context hierarchy
2018-03-25 17:37:07,561 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$9547d32f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:37:08,290 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:37:08,348 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:37:08,357 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:37:08,367 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$63e17364] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:37:08,382 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$3522f082] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:37:08,840 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-25 17:37:08,895 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:37:08,912 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:37:08,950 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:1, serverValue:32}] to localhost:27017
2018-03-25 17:37:08,958 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=4928720}
2018-03-25 17:37:09,003 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:37:09,031 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:37:09,077 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:37:09,194 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:37:09,217 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#746cd757' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:37:09,218 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#746cd757' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:37:09,226 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7f9ab969' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:37:09,233 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#796065aa' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:37:09,234 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#796065aa' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:37:09,241 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#5b94ccbc' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:37:09,405 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:37:09,406 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy58] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:37:09,408 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:37:09,409 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:37:09,517 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:37:09,518 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache' does not yet exist.  Creating now.
2018-03-25 17:37:09,520 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache]
2018-03-25 17:37:09,534 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:37:09,599 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:37:10,002 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:37:10,171 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-25 17:37:10,196 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:37:10,197 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-25 17:37:10,217 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-25 17:37:10,217 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-25 17:37:10,236 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:37:10,500 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-25 17:37:10,500 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 4606 ms
2018-03-25 17:37:10,879 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-25 17:37:10,887 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-25 17:37:10,888 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-25 17:37:10,888 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-25 17:37:10,888 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-25 17:37:10,889 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-25 17:37:11,312 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-25 17:37:11,355 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-25 17:37:11,461 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-25 17:37:11,553 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-25 17:37:11,591 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-25 17:37:11,830 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-25 17:37:11,831 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-25 17:37:12,178 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@470f1802: startup date [Sun Mar 25 17:37:05 CST 2018]; root of context hierarchy
2018-03-25 17:37:12,332 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 17:37:12,336 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(java.security.Principal,org.springframework.ui.Model)
2018-03-25 17:37:12,341 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-25 17:37:12,342 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-25 17:37:12,343 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-25 17:37:12,343 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-25 17:37:12,345 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 17:37:12,358 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-25 17:37:12,361 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-25 17:37:12,473 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 17:37:12,473 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 17:37:12,609 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 17:37:12,719 WARN (TemplateMode.java:150)- [THYMELEAF][main] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-25 17:37:13,203 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-25 17:37:13,250 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-25 17:37:13,251 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-25 17:37:13,254 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-25 17:37:13,257 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-25 17:37:13,269 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-25 17:37:13,274 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:37:13,275 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:37:13,278 ERROR (DirectJDKLog.java:182)- Failed to start connector [Connector[HTTP/1.1-8080]]
org.apache.catalina.LifecycleException: Failed to start component [Connector[HTTP/1.1-8080]]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)
	at org.apache.catalina.core.StandardService.addConnector(StandardService.java:225)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:255)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:197)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.startWebServer(ServletWebServerApplicationContext.java:300)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.finishRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:552)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:388)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:327)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1234)
	at springboot.Facedetect.FacedetectApplication.main(FacedetectApplication.java:10)
Caused by: org.apache.catalina.LifecycleException: Protocol handler start failed
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1021)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	... 13 common frames omitted
Caused by: java.net.BindException: Address already in use: bind
	at sun.nio.ch.Net.bind0(Native Method)
	at sun.nio.ch.Net.bind(Net.java:433)
	at sun.nio.ch.Net.bind(Net.java:425)
	at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:223)
	at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)
	at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:210)
	at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1150)
	at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:591)
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1018)
	... 14 common frames omitted
2018-03-25 17:37:13,283 INFO (DirectJDKLog.java:180)- Pausing ProtocolHandler ["http-nio-8080"]
2018-03-25 17:37:13,284 INFO (DirectJDKLog.java:180)- Stopping service [Tomcat]
2018-03-25 17:37:13,294 INFO (DirectJDKLog.java:180)- The stop() method was called on component [StandardServer[-1]] after stop() had already been called. The second call will be ignored.
2018-03-25 17:37:13,295 INFO (DirectJDKLog.java:180)- Stopping ProtocolHandler ["http-nio-8080"]
2018-03-25 17:37:13,296 INFO (DirectJDKLog.java:180)- Destroying ProtocolHandler ["http-nio-8080"]
2018-03-25 17:37:13,303 INFO (ConditionEvaluationReportLoggingListener.java:102)- 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-03-25 17:37:13,312 ERROR (LoggingFailureAnalysisReporter.java:42)- 

***************************
APPLICATION FAILED TO START
***************************

Description:

The Tomcat connector configured to listen on port 8080 failed to start. The port may already be in use or the connector may be misconfigured.

Action:

Verify the connector's configuration, identify and stop any process that's listening on port 8080, or configure this application to listen on another port.

2018-03-25 17:37:13,314 INFO (AbstractApplicationContext.java:989)- Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@470f1802: startup date [Sun Mar 25 17:37:05 CST 2018]; root of context hierarchy
2018-03-25 17:37:13,319 INFO (DefaultLifecycleProcessor.java:366)- Stopping beans in phase 2147483647
2018-03-25 17:37:13,320 INFO (AbstractBrokerMessageHandler.java:180)- Stopping...
2018-03-25 17:37:13,321 INFO (AbstractBrokerMessageHandler.java:273)- BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-25 17:37:13,322 INFO (AbstractBrokerMessageHandler.java:189)- Stopped.
2018-03-25 17:37:13,323 INFO (MBeanExporter.java:452)- Unregistering JMX-exposed beans on shutdown
2018-03-25 17:37:13,326 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'brokerChannelExecutor'
2018-03-25 17:37:13,327 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'messageBrokerTaskScheduler'
2018-03-25 17:37:13,328 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientOutboundChannelExecutor'
2018-03-25 17:37:13,329 INFO (ExecutorConfigurationSupport.java:205)- Shutting down ExecutorService 'clientInboundChannelExecutor'
2018-03-25 17:38:46,699 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 7208 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-25 17:38:46,707 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-25 17:38:46,789 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@61230f6a: startup date [Sun Mar 25 17:38:46 CST 2018]; root of context hierarchy
2018-03-25 17:38:48,564 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$3d22cd32] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:38:49,102 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:38:49,167 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:38:49,176 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:38:49,183 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$bbc6d67] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:38:49,201 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$dcfdea85] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:38:49,612 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-25 17:38:49,677 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:38:49,698 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:38:49,714 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:1, serverValue:33}] to localhost:27017
2018-03-25 17:38:49,720 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=4348058}
2018-03-25 17:38:49,792 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:38:49,828 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:38:49,869 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:38:50,003 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:38:50,024 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#67403656' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:38:50,025 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#67403656' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:38:50,031 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#27c04377' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:38:50,038 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6c298dc' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:38:50,039 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#6c298dc' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:38:50,045 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#1436a7ab' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:38:50,226 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:38:50,227 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy58] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:38:50,229 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:38:50,229 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:38:50,352 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:38:50,353 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache' does not yet exist.  Creating now.
2018-03-25 17:38:50,356 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache]
2018-03-25 17:38:50,373 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:38:50,437 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:38:50,864 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:38:51,076 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-25 17:38:51,100 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:38:51,101 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-25 17:38:51,124 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-25 17:38:51,126 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-25 17:38:51,143 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:38:51,378 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-25 17:38:51,378 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 4589 ms
2018-03-25 17:38:51,725 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-25 17:38:51,733 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-25 17:38:51,735 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-25 17:38:51,736 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-25 17:38:51,736 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-25 17:38:51,737 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-25 17:38:52,171 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-25 17:38:52,197 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-25 17:38:52,288 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-25 17:38:52,391 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-25 17:38:52,430 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-25 17:38:52,650 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-25 17:38:52,651 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-25 17:38:53,000 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@61230f6a: startup date [Sun Mar 25 17:38:46 CST 2018]; root of context hierarchy
2018-03-25 17:38:53,130 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 17:38:53,131 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(java.security.Principal,org.springframework.ui.Model)
2018-03-25 17:38:53,135 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-25 17:38:53,136 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 17:38:53,137 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-25 17:38:53,137 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-25 17:38:53,138 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-25 17:38:53,146 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-25 17:38:53,148 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-25 17:38:53,250 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 17:38:53,251 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 17:38:53,360 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 17:38:53,475 WARN (TemplateMode.java:150)- [THYMELEAF][main] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-25 17:38:53,881 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-25 17:38:53,894 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-25 17:38:53,895 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-25 17:38:53,896 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-25 17:38:53,897 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-25 17:38:53,908 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-25 17:38:53,921 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-25 17:38:53,941 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-25 17:38:53,945 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 7.828 seconds (JVM running for 8.703)
2018-03-25 17:39:52,428 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2018-03-25 17:40:23,338 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:40:23,365 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-25 17:40:23,366 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-25 17:40:23,417 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 51 ms
2018-03-25 17:40:32,089 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:2, serverValue:34}] to localhost:27017
2018-03-25 17:40:32,242 ERROR (DirectJDKLog.java:182)- Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ClassCastException: org.apache.shiro.web.servlet.ShiroHttpServletRequest$ObjectPrincipal cannot be cast to springboot.Facedetect.entity.UserInfo] with root cause
java.lang.ClassCastException: org.apache.shiro.web.servlet.ShiroHttpServletRequest$ObjectPrincipal cannot be cast to springboot.Facedetect.entity.UserInfo
	at springboot.Facedetect.controller.homeController.chat(homeController.java:53)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:870)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:776)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:870)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:855)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61)
	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108)
	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137)
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)
	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66)
	at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449)
	at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365)
	at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90)
	at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83)
	at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:387)
	at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362)
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-03-25 17:43:46,515 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 7216 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-25 17:43:46,524 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-25 17:43:46,606 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@470f1802: startup date [Sun Mar 25 17:43:46 CST 2018]; root of context hierarchy
2018-03-25 17:43:48,428 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$f1ebcc4c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:43:49,108 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:43:49,168 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:43:49,176 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:43:49,185 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$c0856c81] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:43:49,205 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$91c6e99f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:43:49,605 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-25 17:43:49,662 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:43:49,687 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:43:49,703 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:1, serverValue:35}] to localhost:27017
2018-03-25 17:43:49,710 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=5108721}
2018-03-25 17:43:49,767 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:43:49,800 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:43:49,842 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:43:49,953 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:43:49,975 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2532b351' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:43:49,975 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#2532b351' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:43:49,980 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#127f9161' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:43:49,989 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7abe27bf' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:43:49,989 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#7abe27bf' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:43:49,996 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#4074023c' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:43:50,231 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:43:50,232 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy58] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:43:50,234 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:43:50,236 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:43:50,369 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:43:50,370 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache' does not yet exist.  Creating now.
2018-03-25 17:43:50,374 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache]
2018-03-25 17:43:50,395 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:43:50,461 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:43:50,885 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:43:51,078 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-25 17:43:51,110 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:43:51,111 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-25 17:43:51,135 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-25 17:43:51,136 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-25 17:43:51,153 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:43:51,374 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-25 17:43:51,375 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 4769 ms
2018-03-25 17:43:51,717 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-25 17:43:51,725 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-25 17:43:51,726 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-25 17:43:51,726 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-25 17:43:51,726 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-25 17:43:51,727 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-25 17:43:52,118 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-25 17:43:52,152 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-25 17:43:52,239 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-25 17:43:52,323 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-25 17:43:52,356 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-25 17:43:52,607 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-25 17:43:52,608 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-25 17:43:52,954 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@470f1802: startup date [Sun Mar 25 17:43:46 CST 2018]; root of context hierarchy
2018-03-25 17:43:53,120 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 17:43:53,123 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(java.security.Principal,org.springframework.ui.Model)
2018-03-25 17:43:53,136 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-25 17:43:53,136 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-25 17:43:53,137 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-25 17:43:53,138 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-25 17:43:53,139 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 17:43:53,164 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-25 17:43:53,167 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-25 17:43:53,290 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 17:43:53,291 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 17:43:53,396 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 17:43:53,494 WARN (TemplateMode.java:150)- [THYMELEAF][main] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-25 17:43:53,872 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-25 17:43:53,885 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-25 17:43:53,885 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-25 17:43:53,887 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-25 17:43:53,888 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-25 17:43:53,899 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-25 17:43:53,914 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-25 17:43:53,936 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-25 17:43:53,939 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 8.042 seconds (JVM running for 8.798)
2018-03-25 17:44:35,027 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:44:35,047 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-25 17:44:35,048 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-25 17:44:35,098 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 50 ms
2018-03-25 17:44:42,967 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:2, serverValue:36}] to localhost:27017
2018-03-25 17:44:43,599 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-25 17:44:52,354 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 8, active threads = 0, queued tasks = 0, completed tasks = 9], outboundChannelpool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 2, completed tasks = 2]
2018-03-25 17:44:58,736 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-25 17:44:58,826 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:44:58,873 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-25 17:53:58,994 INFO (StartupInfoLogger.java:50)- Starting FacedetectApplication on xiong-PC with PID 4884 (D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox\target\classes started by xiong in D:\tomcat\apache-tomcat-9.0.0.M22\webapps\ChatBox)
2018-03-25 17:53:59,002 INFO (SpringApplication.java:652)- No active profile set, falling back to default profiles: default
2018-03-25 17:53:59,102 INFO (AbstractApplicationContext.java:589)- Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@64cd705f: startup date [Sun Mar 25 17:53:59 CST 2018]; root of context hierarchy
2018-03-25 17:54:00,900 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'shiroConfig' of type [springboot.Facedetect.config.ShiroConfig$$EnhancerBySpringCGLIB$$85024d96] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:54:01,448 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'hashedCredentialsMatcher' of type [org.apache.shiro.authc.credential.HashedCredentialsMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:54:01,513 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.context.properties.ConversionServiceDeducer$Factory' of type [org.springframework.boot.context.properties.ConversionServiceDeducer$Factory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:54:01,522 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:54:01,531 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration$$EnhancerBySpringCGLIB$$539bedcb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:54:01,557 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration' of type [org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration$$EnhancerBySpringCGLIB$$24dd6ae9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:54:01,971 INFO (SLF4JLogger.java:71)- Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-03-25 17:54:02,028 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongo' of type [com.mongodb.MongoClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:54:02,057 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoDbFactory' of type [org.springframework.data.mongodb.core.SimpleMongoDbFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:54:02,105 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:1, serverValue:37}] to localhost:27017
2018-03-25 17:54:02,111 INFO (SLF4JLogger.java:71)- Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 3]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=4271083}
2018-03-25 17:54:02,150 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoCustomConversions' of type [org.springframework.data.mongodb.core.convert.MongoCustomConversions] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:54:02,198 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoMappingContext' of type [org.springframework.data.mongodb.core.mapping.MongoMappingContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:54:02,240 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mappingMongoConverter' of type [org.springframework.data.mongodb.core.convert.MappingMongoConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:54:02,364 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'mongoTemplate' of type [org.springframework.data.mongodb.core.MongoTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:54:02,380 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#1436a7ab' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:54:02,381 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#1436a7ab' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:54:02,386 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#773e2eb5' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:54:02,393 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#562457e1' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:54:02,393 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#562457e1' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:54:02,399 INFO (PostProcessorRegistrationDelegate.java:328)- Bean '(inner bean)#63718b93' of type [org.springframework.data.repository.query.ExtensionAwareEvaluationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:54:02,554 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:54:02,556 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userRepository' of type [com.sun.proxy.$Proxy58] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:54:02,558 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'userServiceImpl' of type [springboot.Facedetect.service.UserServiceImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:54:02,559 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'myShiroRealm' of type [springboot.Facedetect.config.MyShiroRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:54:02,667 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'ehCacheManager' of type [org.apache.shiro.cache.ehcache.EhCacheManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:54:02,668 INFO (EhCacheManager.java:158)- Cache with name 'springboot.Facedetect.config.MyShiroRealm.authorizationCache' does not yet exist.  Creating now.
2018-03-25 17:54:02,671 INFO (EhCacheManager.java:165)- Added EhCache named [springboot.Facedetect.config.MyShiroRealm.authorizationCache]
2018-03-25 17:54:02,683 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:54:02,736 INFO (PostProcessorRegistrationDelegate.java:328)- Bean 'authorizationAttributeSourceAdvisor' of type [org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-25 17:54:03,091 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:54:03,302 INFO (TomcatWebServer.java:91)- Tomcat initialized with port(s): 8080 (http)
2018-03-25 17:54:03,329 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:54:03,330 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8080"]
2018-03-25 17:54:03,350 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2018-03-25 17:54:03,351 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.28
2018-03-25 17:54:03,368 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:54:03,589 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2018-03-25 17:54:03,590 INFO (ServletWebServerApplicationContext.java:285)- Root WebApplicationContext: initialization completed in 4488 ms
2018-03-25 17:54:03,991 INFO (ServletRegistrationBean.java:184)- Servlet dispatcherServlet mapped to [/]
2018-03-25 17:54:03,999 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-25 17:54:03,999 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-25 17:54:04,000 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-25 17:54:04,000 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'requestContextFilter' to: [/*]
2018-03-25 17:54:04,001 INFO (AbstractFilterRegistrationBean.java:242)- Mapping filter: 'shiroFilter' to: [/*]
2018-03-25 17:54:04,396 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientInboundChannelExecutor'
2018-03-25 17:54:04,427 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'clientOutboundChannelExecutor'
2018-03-25 17:54:04,508 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'messageBrokerTaskScheduler'
2018-03-25 17:54:04,611 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/stompwebsocket/**] onto handler of type [class org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler]
2018-03-25 17:54:04,651 INFO (ExecutorConfigurationSupport.java:168)- Initializing ExecutorService  'brokerChannelExecutor'
2018-03-25 17:54:04,891 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/all],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.all(java.lang.String)
2018-03-25 17:54:04,892 INFO (AbstractMethodMessageHandler.java:337)- Mapped "{[/chat],messageType=[MESSAGE]}" onto public void springboot.Facedetect.controller.homeController.chat(java.lang.String)
2018-03-25 17:54:05,242 INFO (RequestMappingHandlerAdapter.java:567)- Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@64cd705f: startup date [Sun Mar 25 17:53:59 CST 2018]; root of context hierarchy
2018-03-25 17:54:05,381 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/chat]}" onto public java.lang.String springboot.Facedetect.controller.homeController.chat(org.springframework.ui.Model)
2018-03-25 17:54:05,383 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/addfriend]}" onto public void springboot.Facedetect.controller.homeController.addfriend(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 17:54:05,386 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/logout]}" onto public java.lang.String springboot.Facedetect.controller.UserController.logout()
2018-03-25 17:54:05,387 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/new]}" onto public java.lang.String springboot.Facedetect.controller.UserController.Regsiste(org.springframework.ui.Model)
2018-03-25 17:54:05,388 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/checkusername]}" onto public void springboot.Facedetect.controller.UserController.checkUname(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2018-03-25 17:54:05,389 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/regsiste]}" onto public java.lang.String springboot.Facedetect.controller.UserController.RegsisteSusscees(springboot.Facedetect.entity.UserInfo,org.springframework.web.multipart.MultipartFile)
2018-03-25 17:54:05,389 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/login]}" onto public java.lang.String springboot.Facedetect.controller.UserController.login()
2018-03-25 17:54:05,413 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-25 17:54:05,418 INFO (AbstractHandlerMethodMapping.java:548)- Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-25 17:54:05,512 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 17:54:05,513 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 17:54:05,621 INFO (AbstractUrlHandlerMapping.java:373)- Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-25 17:54:05,729 WARN (TemplateMode.java:150)- [THYMELEAF][main] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-03-25 17:54:06,130 INFO (MBeanExporter.java:434)- Registering beans for JMX exposure on startup
2018-03-25 17:54:06,142 INFO (DefaultLifecycleProcessor.java:351)- Starting beans in phase 2147483647
2018-03-25 17:54:06,143 INFO (AbstractBrokerMessageHandler.java:160)- Starting...
2018-03-25 17:54:06,144 INFO (AbstractBrokerMessageHandler.java:263)- BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]
2018-03-25 17:54:06,146 INFO (AbstractBrokerMessageHandler.java:169)- Started.
2018-03-25 17:54:06,159 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8080"]
2018-03-25 17:54:06,176 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2018-03-25 17:54:06,201 INFO (TomcatWebServer.java:205)- Tomcat started on port(s): 8080 (http) with context path ''
2018-03-25 17:54:06,205 INFO (StartupInfoLogger.java:59)- Started FacedetectApplication in 7.809 seconds (JVM running for 8.631)
2018-03-25 17:54:11,370 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:54:11,386 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-25 17:54:11,386 INFO (FrameworkServlet.java:494)- FrameworkServlet 'dispatcherServlet': initialization started
2018-03-25 17:54:11,433 INFO (FrameworkServlet.java:513)- FrameworkServlet 'dispatcherServlet': initialization completed in 47 ms
2018-03-25 17:54:12,320 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:54:12,325 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:54:12,381 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:54:12,401 ERROR (DirectJDKLog.java:180)- An incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14]
2018-03-25 17:54:18,108 INFO (SLF4JLogger.java:71)- Opened connection [connectionId{localValue:2, serverValue:38}] to localhost:27017
2018-03-25 17:54:18,731 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a5082128308c4c089c2;username=huawei;nickname=huawei;jointime=null;online=false;Friends=]
2018-03-25 17:54:23,034 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a5082128308c4c089c2;username=huawei;nickname=huawei;jointime=null;online=false;Friends=]
2018-03-25 17:54:23,187 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a5082128308c4c089c2;username=huawei;nickname=huawei;jointime=null;online=false;Friends=]
2018-03-25 17:54:52,697 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a5082128308c4c089c2;username=huawei;nickname=huawei;jointime=null;online=false;Friends=]
2018-03-25 17:54:59,680 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a5082128308c4c089c2;username=huawei;nickname=huawei;jointime=null;online=false;Friends=]
2018-03-25 17:55:04,649 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 3 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(3)-CONNECTED(3)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 8, active threads = 0, queued tasks = 0, completed tasks = 33], outboundChannelpool size = 5, active threads = 0, queued tasks = 0, completed tasks = 5], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 2, completed tasks = 11]
2018-03-25 17:56:49,688 INFO (WebSocketConfiguration.java:44)- online: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-25 17:57:27,987 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a3e82128308c4c089c1;username=vivo;nickname=vivo;jointime=null;online=false;Friends=huawei,]
2018-03-25 18:25:04,648 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 4 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(4)-CONNECTED(4)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 51], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 10], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 2, completed tasks = 444]
2018-03-25 18:27:04,059 INFO (WebSocketConfiguration.java:52)- offline: [id=5ab76a5082128308c4c089c2;username=huawei;nickname=huawei;jointime=null;online=false;Friends=]
2018-03-25 18:55:04,648 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 4 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(4)-CONNECTED(4)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 54], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 11], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 1, completed tasks = 810]
2018-03-25 19:25:04,647 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 4 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(4)-CONNECTED(4)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 54], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 11], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 1, completed tasks = 1171]
2018-03-25 19:55:04,648 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 4 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(4)-CONNECTED(4)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 54], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 11], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 1, completed tasks = 1532]
2018-03-25 20:25:04,648 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 4 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(4)-CONNECTED(4)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 54], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 11], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 1, completed tasks = 1893]
2018-03-25 20:55:04,647 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 4 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(4)-CONNECTED(4)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 54], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 11], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 1, completed tasks = 2254]
2018-03-25 21:25:04,648 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 4 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(4)-CONNECTED(4)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 54], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 11], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 1, completed tasks = 2615]
2018-03-25 21:55:04,649 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 4 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(4)-CONNECTED(4)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 54], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 11], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 1, completed tasks = 2976]
2018-03-25 22:25:04,648 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 4 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(4)-CONNECTED(4)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 54], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 11], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 1, completed tasks = 3337]
2018-03-25 22:55:04,648 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 4 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(4)-CONNECTED(4)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 54], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 11], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 1, completed tasks = 3698]
2018-03-25 23:25:04,648 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 4 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(4)-CONNECTED(4)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 54], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 11], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 1, completed tasks = 4059]
2018-03-25 23:55:04,648 INFO (WebSocketMessageBrokerStats.java:124)- WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 4 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(4)-CONNECTED(4)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 54], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 11], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 1, completed tasks = 4420]
