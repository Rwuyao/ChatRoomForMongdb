<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"  
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"> 
<head>
<meta charset="UTF-8">
<title>登录|注册</title>
<link rel="stylesheet" th:href="@{/css/login.css}" />
<link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" th:href="@{bootstrap/css/bootstrap.min.css}" />
<script th:src="@{js/jquery-3.2.1.min.js}"></script>
</head>
<body>
<div class="container">
<div class="col-xl-4 offset-xl-4">
	<p class="font30 text-center top bottom black">登录</p>
	<form  th:action="@{/login}" method="post" onSubmit="return check.all();">
      <div class="row bottom">
         <div class="input-group input-group-sm">        
         <span class="input-group-addon "><i class="fa fa-lock fa-fw"></i></span>
         <input class="form-control" type="text" name="username" placeholder="账号" onblur="check.account(this)">    
      	 </div>
      </div>
         
      <div class="row bottom">
         <div class="input-group input-group-sm">       
         <span class="input-group-addon"><i class="fa fa-user fa-fw"></i></span>
         <input class="form-control" type="password" name="password" placeholder="密码" onblur="check.passwd(this)">         
         </div>
      </div>
      <div class="row">
        <button class=" btn btn-block btn-primary btn-sm " type="submit">登录</button>
      </div> 
      <div class="text-right">      
        <a th:href="@{/new}" > <span class="font6">还没有账号？点我注册</span></a> 
      </div>
     </form>
</div> 
</div>
</body>
<script>
var check ={
		flag: 0,
		account: function(obj){
			reg=/^[\u4E00-\u9FA5A-Za-z0-9]{2,14}$/;
			if(!reg.test(obj.value)){
				this.flag &= 2;	
				obj.className="form-control is-invalid";
			}else{
				this.flag |=  1;
				obj.className="form-control";
			}
		},
		passwd: function(obj){
			reg=/\w{4,14}$/;
			if(!reg.test(obj.value)){
				this.flag &=  1;
				obj.className="form-control is-invalid";
			}else{		
				this.flag|=  2;		
				obj.className="form-control";
			}
		},
		all: function(){
			if(this.flag === 3){
				return true;
			}
			 alert(this.flag);
			return false;
		}
		
};
</script>
</html>